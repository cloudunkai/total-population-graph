function lt(z,u){for(var O=0;O<u.length;O++){const x=u[O];if(typeof x!="string"&&!Array.isArray(x)){for(const s in x)if(s!=="default"&&!(s in z)){const h=Object.getOwnPropertyDescriptor(x,s);h&&Object.defineProperty(z,s,h.get?h:{enumerable:!0,get:()=>x[s]})}}}return Object.freeze(Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}))}var J={},ut={get exports(){return J},set exports(z){J=z}};(function(z){(function(u){z.exports?(u.default=u,z.exports=u):u(typeof Highcharts<"u"?Highcharts:void 0)})(function(u){function O(x,s,h,w){x.hasOwnProperty(s)||(x[s]=w.apply(null,h),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:s,module:x[s]}})))}u=u?u._modules:{},O(u,"Series/DrawPointUtilities.js",[u["Core/Utilities.js"]],function(x){return{draw:function(s,h){var w=h.animatableAttribs,d=h.onComplete,y=h.css,a=h.renderer,A=s.series&&s.series.chart.hasRendered?void 0:s.series&&s.series.options.animation,f=s.graphic;if(h.attribs=h.attribs||{},h.attribs.class=s.getClassName(),s.shouldDraw())f||(s.graphic=f=h.shapeType==="text"?a.text():a[h.shapeType](h.shapeArgs||{}),f.add(h.group)),y&&f.css(y),f.attr(h.attribs).animate(w,h.isNew?!1:A,d);else if(f){var N=function(){s.graphic=f=f&&f.destroy(),typeof d=="function"&&d()};Object.keys(w).length?f.animate(w,void 0,function(){return N()}):N()}}}}),O(u,"Series/Wordcloud/WordcloudPoint.js",[u["Core/Series/SeriesRegistry.js"],u["Core/Utilities.js"]],function(x,s){var h=this&&this.__extends||function(){var w=function(d,y){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,A){a.__proto__=A}||function(a,A){for(var f in A)A.hasOwnProperty(f)&&(a[f]=A[f])},w(d,y)};return function(d,y){function a(){this.constructor=d}w(d,y),d.prototype=y===null?Object.create(y):(a.prototype=y.prototype,new a)}}();return s=s.extend,x=function(w){function d(){var y=w!==null&&w.apply(this,arguments)||this;return y.dimensions=void 0,y.options=void 0,y.polygon=void 0,y.rect=void 0,y.series=void 0,y}return h(d,w),d.prototype.isValid=function(){return!0},d}(x.seriesTypes.column.prototype.pointClass),s(x.prototype,{weight:1}),x}),O(u,"Series/Wordcloud/WordcloudUtils.js",[u["Core/Globals.js"],u["Core/Utilities.js"]],function(x,s){function h(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}function w(e,t){var o=t[0]-e[0];return e=t[1]-e[1],[[-e,o],[e,-o]]}function d(e){var t=e.axes||[];if(!t.length){t=[];var o=o=e.concat([e[0]]);o.reduce(function(i,r){var l=w(i,r)[0];return H(t,function(M){return M[0]===l[0]&&M[1]===l[1]})||t.push(l),r}),e.axes=t}return t}function y(e,t){return e=e.map(function(o){return o[0]*t[0]+o[1]*t[1]}),{min:Math.min.apply(this,e),max:Math.max.apply(this,e)}}function a(e,t){var o=d(e),i=d(t);return o=o.concat(i),!H(o,function(r){var l=y(e,r);return r=y(t,r),r.min>l.max||r.max<l.min})}function A(e,t){var o=!1,i=e.rect,r=e.polygon,l=e.lastCollidedWith,M=function(S){var v=h(i,S.rect);return v&&(e.rotation%90||S.rotation%90)&&(v=a(r,S.polygon)),v};return l&&((o=M(l))||delete e.lastCollidedWith),o||(o=!!H(t,function(S){var v=M(S);return v&&(e.lastCollidedWith=S),v})),o}function f(e,t){t=4*e;var o=Math.ceil((Math.sqrt(t)-1)/2),i=2*o+1,r=Math.pow(i,2),l=!1;return--i,1e4>=e&&(typeof l=="boolean"&&t>=r-i&&(l={x:o-(r-t),y:-o}),r-=i,typeof l=="boolean"&&t>=r-i&&(l={x:-o,y:-o+(r-t)}),r-=i,typeof l=="boolean"&&(l=t>=r-i?{x:-o+(r-t),y:o}:{x:o,y:o-(r-t-i)}),l.x*=5,l.y*=5),l}function N(e,t){var o=t.width/2,i=-(t.height/2),r=t.height/2;return!(-(t.width/2)<e.left&&o>e.right&&i<e.top&&r>e.bottom)}function D(e,t,o){return o.map(function(i){return[i[0]+e,i[1]+t]})}function q(e,t){return t=_(t)?t:14,t=Math.pow(10,t),Math.round(e*t)/t}function U(e,t){var o=e[0];e=e[1];var i=K*-t;return t=Math.cos(i),i=Math.sin(i),[q(o*t-e*i),q(o*i+e*t)]}function k(e,t,o){return e=U([e[0]-t[0],e[1]-t[1]],o),[e[0]+t[0],e[1]+t[1]]}var K=x.deg2rad,Y=s.extend,H=s.find,_=s.isNumber,L=s.isObject,I=s.merge;return{archimedeanSpiral:function(e,t){var o=t.field;t=!1,o=o.width*o.width+o.height*o.height;var i=.8*e;return 1e4>=e&&(t={x:i*Math.cos(i),y:i*Math.sin(i)},Math.min(Math.abs(t.x),Math.abs(t.y))<o||(t=!1)),t},extendPlayingField:function(e,t){if(L(e)&&L(t)){var o=t.bottom-t.top,i=t.right-t.left;t=e.ratioX;var r=e.ratioY;o=i*t>o*r?i:o,e=I(e,{width:e.width+o*t*2,height:e.height+o*r*2})}return e},getBoundingBoxFromPolygon:function(e){return e.reduce(function(t,o){var i=o[0];return o=o[1],t.left=Math.min(i,t.left),t.right=Math.max(i,t.right),t.bottom=Math.max(o,t.bottom),t.top=Math.min(o,t.top),t},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPlayingField:function(e,t,o){o=o.reduce(function(r,l){l=l.dimensions;var M=Math.max(l.width,l.height);return r.maxHeight=Math.max(r.maxHeight,l.height),r.maxWidth=Math.max(r.maxWidth,l.width),r.area+=M*M,r},{maxHeight:0,maxWidth:0,area:0}),o=Math.max(o.maxHeight,o.maxWidth,.85*Math.sqrt(o.area));var i=e>t?e/t:1;return e=t>e?t/e:1,{width:o*i,height:o*e,ratioX:i,ratioY:e}},getPolygon:function(e,t,o,i,r){var l=[e,t],M=e-o/2;return e+=o/2,o=t-i/2,t+=i/2,[[M,o],[e,o],[e,t],[M,t]].map(function(S){return k(S,l,-r)})},getRandomPosition:function(e){return Math.round(e*(Math.random()+.5)/2)},getRotation:function(e,t,o,i){var r=!1;return _(e)&&_(t)&&_(o)&&_(i)&&0<e&&-1<t&&i>o&&(r=o+t%e*((i-o)/(e-1||1))),r},getScale:function(e,t,o){var i=2*Math.max(Math.abs(o.top),Math.abs(o.bottom));return o=2*Math.max(Math.abs(o.left),Math.abs(o.right)),Math.min(0<o?1/o*e:1,0<i?1/i*t:1)},getSpiral:function(e,t){var o,i=[];for(o=1;1e4>o;o++)i.push(e(o,t));return function(r){return 1e4>=r?i[r-1]:!1}},intersectionTesting:function(e,t){var o=t.placed,i=t.field,r=t.rectangle,l=t.polygon,M=t.spiral,S=1,v={x:0,y:0},X=e.rect=Y({},r);for(e.polygon=l,e.rotation=t.rotation;v!==!1&&(A(e,o)||N(X,i));)v=M(S),L(v)&&(X.left=r.left+v.x,X.right=r.right+v.x,X.top=r.top+v.y,X.bottom=r.bottom+v.y,e.polygon=D(v.x,v.y,l)),S++;return v},isPolygonsColliding:a,isRectanglesIntersecting:h,rectangularSpiral:function(e,t){return e=f(e,t),t=t.field,e&&(e.x*=t.ratioX,e.y*=t.ratioY),e},rotate2DToOrigin:U,rotate2DToPoint:k,squareSpiral:f,updateFieldBoundaries:function(e,t){return(!_(e.left)||e.left>t.left)&&(e.left=t.left),(!_(e.right)||e.right<t.right)&&(e.right=t.right),(!_(e.top)||e.top>t.top)&&(e.top=t.top),(!_(e.bottom)||e.bottom<t.bottom)&&(e.bottom=t.bottom),e}}}),O(u,"Series/Wordcloud/WordcloudSeries.js",[u["Series/DrawPointUtilities.js"],u["Core/Globals.js"],u["Core/Series/Series.js"],u["Core/Series/SeriesRegistry.js"],u["Core/Utilities.js"],u["Series/Wordcloud/WordcloudPoint.js"],u["Series/Wordcloud/WordcloudUtils.js"]],function(x,s,h,w,d,y,a){var A=this&&this.__extends||function(){var j=function(p,n){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=m}||function(c,m){for(var R in m)m.hasOwnProperty(R)&&(c[R]=m[R])},j(p,n)};return function(p,n){function c(){this.constructor=p}j(p,n),p.prototype=n===null?Object.create(n):(c.prototype=n.prototype,new c)}}(),f=s.noop,N=w.seriesTypes.column,D=d.extend,q=d.isArray,U=d.isNumber,k=d.isObject,K=d.merge;d=a.archimedeanSpiral;var Y=a.extendPlayingField,H=a.getBoundingBoxFromPolygon,_=a.getPlayingField,L=a.getPolygon,I=a.getRandomPosition,e=a.getRotation,t=a.getScale,o=a.getSpiral,i=a.intersectionTesting,r=a.isPolygonsColliding,l=a.rectangularSpiral,M=a.rotate2DToOrigin,S=a.rotate2DToPoint,v=a.squareSpiral,X=a.updateFieldBoundaries;return a=function(j){function p(){var n=j!==null&&j.apply(this,arguments)||this;return n.data=void 0,n.options=void 0,n.points=void 0,n}return A(p,j),p.prototype.bindAxes=function(){var n={endOnTick:!1,gridLineWidth:0,lineWidth:0,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]};h.prototype.bindAxes.call(this),D(this.yAxis.options,n),D(this.xAxis.options,n)},p.prototype.pointAttribs=function(n,c){return n=s.seriesTypes.column.prototype.pointAttribs.call(this,n,c),delete n.stroke,delete n["stroke-width"],n},p.prototype.deriveFontSize=function(n,c,m){return n=U(n)?n:0,c=U(c)?c:1,m=U(m)?m:1,Math.floor(Math.max(m,n*c))},p.prototype.drawPoints=function(){var n=this,c=n.hasRendered,m=n.xAxis,R=n.yAxis,Z=n.group,C=n.options,ot=C.animation,it=C.allowExtendPlayingField,b=n.chart.renderer,V=b.text().add(Z),G=[],nt=n.placementStrategy[C.placementStrategy],rt=C.rotation,st=n.points.map(function(g){return g.weight}),tt=Math.max.apply(null,st),$=n.points.concat().sort(function(g,P){return P.weight-g.weight});n.group.attr({scaleX:1,scaleY:1}),$.forEach(function(g){var P=n.deriveFontSize(1/tt*g.weight,C.maxFontSize,C.minFontSize);P=D({fontSize:P+"px"},C.style),V.css(P).attr({x:0,y:0,text:g.name}),P=V.getBBox(!0),g.dimensions={height:P.height,width:P.width}});var W=_(m.len,R.len,$),et=o(n.spirals[C.spiral],{field:W});$.forEach(function(g){var P=n.deriveFontSize(1/tt*g.weight,C.maxFontSize,C.minFontSize);P=D({fontSize:P+"px"},C.style);var T=nt(g,{data:$,field:W,placed:G,rotation:rt}),F=D(n.pointAttribs(g,g.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:T.x,y:T.y,text:g.name,rotation:U(T.rotation)?T.rotation:void 0}),Q=L(T.x,T.y,g.dimensions.width,g.dimensions.height,T.rotation),B=H(Q),E=i(g,{rectangle:B,polygon:Q,field:W,placed:G,spiral:et,rotation:T.rotation});if(!E&&it&&(W=Y(W,B),E=i(g,{rectangle:B,polygon:Q,field:W,placed:G,spiral:et,rotation:T.rotation})),k(E)?(F.x=(F.x||0)+E.x,F.y=(F.y||0)+E.y,B.left+=E.x,B.right+=E.x,B.top+=E.y,B.bottom+=E.y,W=X(W,B),G.push(g),g.isNull=!1,g.isInside=!0):g.isNull=!0,ot){var at={x:F.x,y:F.y};c?(delete F.x,delete F.y):(F.x=0,F.y=0)}x.draw(g,{animatableAttribs:at,attribs:F,css:P,group:Z,renderer:b,shapeArgs:void 0,shapeType:"text"})}),V=V.destroy(),m=t(m.len,R.len,W),n.group.attr({scaleX:m,scaleY:m})},p.prototype.hasData=function(){return k(this)&&this.visible===!0&&q(this.points)&&0<this.points.length},p.prototype.getPlotBox=function(){var n=this.chart,c=n.inverted,m=this[c?"yAxis":"xAxis"];return c=this[c?"xAxis":"yAxis"],{translateX:(m?m.left:n.plotLeft)+(m?m.len:n.plotWidth)/2,translateY:(c?c.top:n.plotTop)+(c?c.len:n.plotHeight)/2,scaleX:1,scaleY:1}},p.defaultOptions=K(N.defaultOptions,{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,cropThreshold:1/0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.weight}</b><br/>'}}),p}(N),D(a.prototype,{animate:f,animateDrilldown:f,animateDrillupFrom:f,pointClass:y,setClip:f,placementStrategy:{random:function(j,p){var n=p.field;return p=p.rotation,{x:I(n.width)-n.width/2,y:I(n.height)-n.height/2,rotation:e(p.orientations,j.index,p.from,p.to)}},center:function(j,p){return p=p.rotation,{x:0,y:0,rotation:e(p.orientations,j.index,p.from,p.to)}}},pointArrayMap:["weight"],spirals:{archimedean:d,rectangular:l,square:v},utils:{extendPlayingField:Y,getRotation:e,isPolygonsColliding:r,rotate2DToOrigin:M,rotate2DToPoint:S}}),w.registerSeriesType("wordcloud",a),a}),O(u,"masters/modules/wordcloud.src.js",[],function(){})})})(ut);const pt=J,ht=lt({__proto__:null,default:pt},[J]);export{ht as w};
