function ft(U,J){for(var P=0;P<J.length;P++){const W=J[P];if(typeof W!="string"&&!Array.isArray(W)){for(const C in W)if(C!=="default"&&!(C in U)){const S=Object.getOwnPropertyDescriptor(W,C);S&&Object.defineProperty(U,C,S.get?S:{enumerable:!0,get:()=>W[C]})}}}return Object.freeze(Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}))}var at={},ht={get exports(){return at},set exports(U){at=U}};/**
 * @license Highstock JS v10.3.3 (2023-01-20)
 *
 * All technical indicators for Highcharts Stock
 *
 * (c) 2010-2021 Pawel Fus
 *
 * License: www.highcharts.com/license
 */(function(U){(function(J){U.exports?(J.default=J,U.exports=J):J(typeof Highcharts<"u"?Highcharts:void 0)})(function(J){var P=J?J._modules:{};function W(C,S,I,L){C.hasOwnProperty(S)||(C[S]=L.apply(null,I),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:S,module:C[S]}})))}W(P,"Stock/Indicators/SMA/SMAIndicator.js",[P["Core/Chart/Chart.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I){var L=this&&this.__extends||function(){var n=function(r,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,p){a.__proto__=p}||function(a,p){for(var l in p)p.hasOwnProperty(l)&&(a[l]=p[l])},n(r,i)};return function(r,i){n(r,i);function a(){this.constructor=r}r.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),T=S.seriesTypes.line,j=I.addEvent,O=I.error,D=I.extend,d=I.isArray,s=I.merge,o=I.pick,e=I.splat,t=function(n){L(r,n);function r(){var i=n!==null&&n.apply(this,arguments)||this;return i.data=void 0,i.dataEventsToUnbind=void 0,i.linkedParent=void 0,i.options=void 0,i.points=void 0,i}return r.prototype.destroy=function(){this.dataEventsToUnbind.forEach(function(i){i()}),n.prototype.destroy.apply(this,arguments)},r.prototype.getName=function(){var i=[],a=this.name;return a||((this.nameComponents||[]).forEach(function(p,l){i.push(this.options.params[p]+o(this.nameSuffixes[l],""))},this),a=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+i.join(", ")+")":"")),a},r.prototype.getValues=function(i,a){var p=a.period,l=i.xData,f=i.yData,c=f.length,u=[],y=[],h=[],v,m=-1,g=0,x,_=0;if(!(l.length<p)){for(d(f[0])&&(m=a.index?a.index:0);g<p-1;)_+=m<0?f[g]:f[g][m],g++;for(v=g;v<c;v++)_+=m<0?f[v]:f[v][m],x=[l[v],_/p],u.push(x),y.push(x[0]),h.push(x[1]),_-=m<0?f[v-g]:f[v-g][m];return{values:u,xData:y,yData:h}}},r.prototype.init=function(i,a){var p=this;n.prototype.init.call(p,i,a);var l=j(C,"afterLinkSeries",function(){var f=!!p.dataEventsToUnbind.length;if(p.linkedParent){if(f||(p.dataEventsToUnbind.push(j(p.linkedParent,"updatedData",function(){p.recalculateValues()})),p.calculateOn.xAxis&&p.dataEventsToUnbind.push(j(p.linkedParent.xAxis,p.calculateOn.xAxis,function(){p.recalculateValues()}))),p.calculateOn.chart==="init")p.processedYData||p.recalculateValues();else if(!f)var c=j(p.chart,p.calculateOn.chart,function(){p.recalculateValues(),c()})}else return O("Series "+p.options.linkedTo+" not found! Check `linkedTo`.",!1,i)},{order:0});p.dataEventsToUnbind=[],p.eventsToUnbind.push(l)},r.prototype.recalculateValues=function(){var i=[],a=this,p=a.points||[],l=(a.xData||[]).length,f={values:[],xData:[],yData:[]},c=!0,u,y,h,v,m,g,x=a.linkedParent.options&&a.linkedParent.yData&&a.linkedParent.yData.length&&a.getValues(a.linkedParent,a.options.params)||f;if(l&&!a.hasGroupedData&&a.visible&&a.points)if(a.cropped){for(a.xAxis&&(v=a.xAxis.min,m=a.xAxis.max),h=a.cropData(x.xData,x.yData,v,m),g=0;g<h.xData.length;g++)i.push([h.xData[g]].concat(e(h.yData[g])));u=x.xData.indexOf(a.xData[0]),y=x.xData.indexOf(a.xData[a.xData.length-1]),u===-1&&y===x.xData.length-2&&i[0][0]===p[0].x&&i.shift(),a.updateData(i)}else x.xData.length!==l-1&&x.xData.length!==l+1&&(c=!1,a.updateData(x.values));c&&(a.xData=x.xData,a.yData=x.yData,a.options.data=x.values),a.calculateOn.xAxis&&a.processedXData&&(delete a.processedXData,a.isDirty=!0,a.redraw()),a.isDirtyData=!!a.linkedSeries},r.prototype.processData=function(){var i=this,a=i.options.compareToMain,p=i.linkedParent;n.prototype.processData.apply(i,arguments),i.dataModify&&p&&p.dataModify&&p.dataModify.compareValue&&a&&(i.dataModify.compareValue=p.dataModify.compareValue)},r.defaultOptions=s(T.defaultOptions,{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:3,period:14}}),r}(T);return D(t.prototype,{calculateOn:{chart:"init"},hasDerivedData:!0,nameComponents:["period"],nameSuffixes:[],useCommonDataGrouping:!0}),S.registerSeriesType("sma",t),t}),W(P,"Stock/Indicators/EMA/EMAIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var d=function(s,o){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},d(s,o)};return function(s,o){d(s,o);function e(){this.constructor=s}s.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}}(),L=C.seriesTypes.sma,T=S.correctFloat,j=S.isArray,O=S.merge,D=function(d){I(s,d);function s(){var o=d!==null&&d.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return s.prototype.accumulatePeriodPoints=function(o,e,t){for(var n=0,r=0,i=0;r<o;)i=e<0?t[r]:t[r][e],n=n+i,r++;return n},s.prototype.calculateEma=function(o,e,t,n,r,i,a){var p=o[t-1],l=i<0?e[t-1]:e[t-1][i],f=typeof r>"u"?a:T(l*n+r*(1-n));return[p,f]},s.prototype.getValues=function(o,e){var t=e.period,n=o.xData,r=o.yData,i=r?r.length:0,a=2/(t+1),p=[],l=[],f=[],c,u,y,h=-1,v=0,m=0;if(!(i<t)){for(j(r[0])&&(h=e.index?e.index:0),v=this.accumulatePeriodPoints(t,h,r),m=v/t,y=t;y<i+1;y++)u=this.calculateEma(n,r,y,a,c,h,m),p.push(u),l.push(u[0]),f.push(u[1]),c=u[1];return{values:p,xData:l,yData:f}}},s.defaultOptions=O(L.defaultOptions,{params:{index:3,period:9}}),s}(L);return C.registerSeriesType("ema",D),D}),W(P,"Stock/Indicators/AD/ADIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var d=function(s,o){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},d(s,o)};return function(s,o){d(s,o);function e(){this.constructor=s}s.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}}(),L=C.seriesTypes.sma,T=S.error,j=S.extend,O=S.merge,D=function(d){I(s,d);function s(){var o=d!==null&&d.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return s.populateAverage=function(o,e,t,n,r){var i=e[n][1],a=e[n][2],p=e[n][3],l=t[n],f=p===i&&p===a||i===a?0:(2*p-a-i)/(i-a)*l,c=o[n];return[c,f]},s.prototype.getValues=function(o,e){var t=e.period,n=o.xData,r=o.yData,i=e.volumeSeriesID,a=o.chart.get(i),p=a&&a.yData,l=r?r.length:0,f=[],c=[],u=[],y,h,v;if(!(n.length<=t&&l&&r[0].length!==4)){if(!a){T("Series "+i+" not found! Check `volumeSeriesID`.",!0,o.chart);return}for(h=t;h<l;h++)y=f.length,v=s.populateAverage(n,r,p,h,t),y>0&&(v[1]+=f[y-1][1]),f.push(v),c.push(v[0]),u.push(v[1]);return{values:f,xData:c,yData:u}}},s.defaultOptions=O(L.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),s}(L);return j(D.prototype,{nameComponents:!1,nameBase:"Accumulation/Distribution"}),C.registerSeriesType("ad",D),D}),W(P,"Stock/Indicators/AO/AOIndicator.js",[P["Core/Globals.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I){var L=this&&this.__extends||function(){var n=function(r,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,p){a.__proto__=p}||function(a,p){for(var l in p)p.hasOwnProperty(l)&&(a[l]=p[l])},n(r,i)};return function(r,i){n(r,i);function a(){this.constructor=r}r.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),T=C.noop,j=S.seriesTypes,O=j.column.prototype,D=j.sma,d=I.extend,s=I.merge,o=I.correctFloat,e=I.isArray,t=function(n){L(r,n);function r(){var i=n!==null&&n.apply(this,arguments)||this;return i.data=void 0,i.options=void 0,i.points=void 0,i}return r.prototype.drawGraph=function(){var i=this,a=i.options,p=i.points,l=i.userOptions.color,f=a.greaterBarColor,c=a.lowerBarColor,u=p[0],y;if(!l&&u)for(u.color=f,y=1;y<p.length;y++)p[y].y>p[y-1].y?p[y].color=f:p[y].y<p[y-1].y?p[y].color=c:p[y].color=p[y-1].color},r.prototype.getValues=function(i){var a=5,p=34,l=i.xData||[],f=i.yData||[],c=f.length,u=[],y=[],h=[],v=1,m=2,g=0,x=0,_,A,M,V,k,w,E,N;if(!(l.length<=p||!e(f[0])||f[0].length!==4)){for(E=0;E<p-1;E++)w=(f[E][v]+f[E][m])/2,E>=p-a&&(g=o(g+w)),x=o(x+w);for(N=p-1;N<c;N++)w=(f[N][v]+f[N][m])/2,g=o(g+w),x=o(x+w),_=g/a,A=x/p,M=o(_-A),u.push([l[N],M]),y.push(l[N]),h.push(M),V=N+1-a,k=N+1-p,g=o(g-(f[V][v]+f[V][m])/2),x=o(x-(f[k][v]+f[k][m])/2);return{values:u,xData:y,yData:h}}},r.defaultOptions=s(D.defaultOptions,{params:{index:void 0,period:void 0},greaterBarColor:"#06b535",lowerBarColor:"#f21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}}),r}(D);return d(t.prototype,{nameBase:"AO",nameComponents:!1,markerAttribs:T,getColumnMetrics:O.getColumnMetrics,crispCol:O.crispCol,translate:O.translate,drawPoints:O.drawPoints}),S.registerSeriesType("ao",t),t}),W(P,"Stock/Indicators/MultipleLinesComposition.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=C.seriesTypes.sma.prototype,L=S.defined,T=S.error,j=S.merge,O;return function(D){var d=[],s=["bottomLine"],o=["top","bottom"],e=["top"],t="top";function n(c){if(d.indexOf(c)===-1){d.push(c);var u=c.prototype;u.linesApiNames=u.linesApiNames||s.slice(),u.pointArrayMap=u.pointArrayMap||o.slice(),u.pointValKey=u.pointValKey||t,u.areaLinesNames=u.areaLinesNames||e.slice(),u.drawGraph=a,u.getGraphPath=p,u.toYData=l,u.translate=f}return c}D.compose=n;function r(c){return"plot"+c.charAt(0).toUpperCase()+c.slice(1)}function i(c,u){var y=[];return(c.pointArrayMap||[]).forEach(function(h){h!==u&&y.push(r(h))}),y}function a(){var c=this,u=c.pointValKey,y=c.linesApiNames,h=c.areaLinesNames,v=c.points,m=c.options,g=c.graph,x={options:{gapSize:m.gapSize}},_=[],A=i(c,u),M=v.length,V;if(A.forEach(function(B,F){for(_[F]=[];M--;)V=v[M],_[F].push({x:V.x,plotX:V.plotX,plotY:V[B],isNull:!L(V[B])});M=v.length}),c.userOptions.fillColor&&h.length){var k=A.indexOf(r(h[0])),w=_[k],E=h.length===1?v:_[A.indexOf(r(h[1]))],N=c.color;c.points=E,c.nextPoints=w,c.color=c.userOptions.fillColor,c.options=j(v,x),c.graph=c.area,c.fillGraph=!0,I.drawGraph.call(c),c.area=c.graph,delete c.nextPoints,delete c.fillGraph,c.color=N}y.forEach(function(B,F){_[F]?(c.points=_[F],m[B]?c.options=j(m[B].styles,x):T('Error: "There is no '+B+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names."'),c.graph=c["graph"+B],I.drawGraph.call(c),c["graph"+B]=c.graph):T('Error: "'+B+` doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap."`)}),c.points=v,c.options=m,c.graph=g,I.drawGraph.call(c)}function p(c){var u,y=[],h=[];if(c=c||this.points,this.fillGraph&&this.nextPoints){if(u=I.getGraphPath.call(this,this.nextPoints),u&&u.length){u[0][0]="L",y=I.getGraphPath.call(this,c),h=u.slice(0,y.length);for(var v=h.length-1;v>=0;v--)y.push(h[v])}}else y=I.getGraphPath.apply(this,arguments);return y}function l(c){var u=[];return(this.pointArrayMap||[]).forEach(function(y){u.push(c[y])}),u}function f(){var c=this,u=this.pointArrayMap,y=[],h;y=i(this),I.translate.apply(this,arguments),this.points.forEach(function(v){u.forEach(function(m,g){h=v[m],c.dataModify&&(h=c.dataModify.modifyValue(h)),h!==null&&(v[y[g]]=c.yAxis.toPixels(h,!0))})})}}(O||(O={})),O}),W(P,"Stock/Indicators/Aroon/AroonIndicator.js",[P["Stock/Indicators/MultipleLinesComposition.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I){var L=this&&this.__extends||function(){var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},o(e,t)};return function(e,t){o(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T=S.seriesTypes.sma,j=I.extend,O=I.merge,D=I.pick;function d(o,e){var t=o[0],n=0,r;for(r=1;r<o.length;r++)(e==="max"&&o[r]>=t||e==="min"&&o[r]<=t)&&(t=o[r],n=r);return n}var s=function(o){L(e,o);function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return e.prototype.getValues=function(t,n){var r=n.period,i=t.xData,a=t.yData,p=a?a.length:0,l=[],f=[],c=[],u,y=2,h=1,v,m,g,x,_;for(_=r-1;_<p;_++)u=a.slice(_-r+1,_+2),g=d(u.map(function(A){return D(A[y],A)}),"min"),x=d(u.map(function(A){return D(A[h],A)}),"max"),v=x/r*100,m=g/r*100,i[_+1]&&(l.push([i[_+1],v,m]),f.push(i[_+1]),c.push([v,m]));return{values:l,xData:f,yData:c}},e.defaultOptions=O(T.defaultOptions,{params:{index:void 0,period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),e}(T);return j(s.prototype,{areaLinesNames:[],linesApiNames:["aroonDown"],nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y"}),C.compose(s),S.registerSeriesType("aroon",s),s}),W(P,"Stock/Indicators/AroonOscillator/AroonOscillatorIndicator.js",[P["Stock/Indicators/MultipleLinesComposition.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I){var L=this&&this.__extends||function(){var d=function(s,o){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},d(s,o)};return function(s,o){d(s,o);function e(){this.constructor=s}s.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}}(),T=S.seriesTypes.aroon,j=I.extend,O=I.merge,D=function(d){L(s,d);function s(){var o=d!==null&&d.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return s.prototype.getValues=function(o,e){var t=[],n=[],r=[],i,a,p,l,f;for(i=d.prototype.getValues.call(this,o,e),f=0;f<i.yData.length;f++)a=i.yData[f][0],p=i.yData[f][1],l=a-p,t.push([i.xData[f],l]),n.push(i.xData[f]),r.push(l);return{values:t,xData:n,yData:r}},s.defaultOptions=O(T.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b>: {point.y}'}}),s}(T);return j(D.prototype,{nameBase:"Aroon Oscillator",linesApiNames:[],pointArrayMap:["y"],pointValKey:"y"}),C.compose(T),S.registerSeriesType("aroonoscillator",D),D}),W(P,"Stock/Indicators/ATR/ATRIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},o(e,t)};return function(e,t){o(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),L=C.seriesTypes.sma,T=S.isArray,j=S.merge;function O(o,e,t,n){var r=e[n],i=t[n];o.push([r,i])}function D(o,e){var t=o,n=e,r=t[1]-t[2],i=typeof n>"u"?0:Math.abs(t[1]-n[3]),a=typeof n>"u"?0:Math.abs(t[2]-n[3]),p=Math.max(r,i,a);return p}function d(o,e,t,n,r,i){var a=e[n-1],p=D(t[n-1],t[n-2]),l;return l=(i*(r-1)+p)/r,[a,l]}var s=function(o){I(e,o);function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return e.prototype.getValues=function(t,n){var r=n.period,i=t.xData,a=t.yData,p=a?a.length:0,l=i[0],f=a[0],c=1,u=0,y=0,h=[],v=[],m=[],g,x,_;if(_=[[l,f]],!(i.length<=r||!T(a[0])||a[0].length!==4)){for(x=1;x<=p;x++)O(_,i,a,x),r<c?(g=d(_,i,a,x,r,u),u=g[1],h.push(g),v.push(g[0]),m.push(g[1])):r===c?(u=y/(x-1),h.push([i[x-1],u]),v.push(i[x-1]),m.push(u),c++):(y+=D(a[x-1],a[x-2]),c++);return{values:h,xData:v,yData:m}}},e.defaultOptions=j(L.defaultOptions,{params:{index:void 0}}),e}(L);return C.registerSeriesType("atr",s),s}),W(P,"Stock/Indicators/BB/BBIndicator.js",[P["Stock/Indicators/MultipleLinesComposition.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I){var L=this&&this.__extends||function(){var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},o(e,t)};return function(e,t){o(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T=S.seriesTypes.sma,j=I.extend,O=I.isArray,D=I.merge;function d(o,e,t,n){for(var r=0,i=o.length,a=0,p=0,l;p<i;p++)l=(t?o[p][e]:o[p])-n,r+=l*l;return r=r/(i-1),a=Math.sqrt(r),a}var s=function(o){L(e,o);function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return e.prototype.init=function(){S.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=D({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},e.prototype.getValues=function(t,n){var r=n.period,i=n.standardDeviation,a=t.xData,p=t.yData,l=p?p.length:0,f=[],c,u,y,h,v=[],m=[],g,x,_,A,M,V;if(!(a.length<r)){for(A=O(p[0]),V=r;V<=l;V++)g=a.slice(V-r,V),x=p.slice(V-r,V),M=S.seriesTypes.sma.prototype.getValues.call(this,{xData:g,yData:x},n),h=M.xData[0],c=M.yData[0],_=d(x,n.index,A,c),u=c+i*_,y=c-i*_,f.push([h,u,c,y]),v.push(h),m.push([u,c,y]);return{values:f,xData:v,yData:m}}},e.defaultOptions=D(T.defaultOptions,{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),e}(T);return j(s.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","standardDeviation"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),C.compose(s),S.registerSeriesType("bb",s),s}),W(P,"Stock/Indicators/CCI/CCIIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var s=function(o,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},s(o,e)};return function(o,e){s(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),L=C.seriesTypes.sma,T=S.isArray,j=S.merge;function O(s){return s.reduce(function(o,e){return o+e},0)}function D(s,o){var e=s.length,t=0,n;for(n=0;n<e;n++)t+=Math.abs(o-s[n]);return t}var d=function(s){I(o,s);function o(){var e=s!==null&&s.apply(this,arguments)||this;return e.data=void 0,e.points=void 0,e.options=void 0,e}return o.prototype.getValues=function(e,t){var n=t.period,r=e.xData,i=e.yData,a=i?i.length:0,p=[],l=[],f=[],c=[],u,y,h=[],v,m=1,g,x,_,A;if(!(r.length<=n||!T(i[0])||i[0].length!==4)){for(;m<n;)y=i[m-1],p.push((y[1]+y[2]+y[3])/3),m++;for(A=n;A<=a;A++)y=i[A-1],x=(y[1]+y[2]+y[3])/3,v=p.push(x),h=p.slice(v-n),g=O(h)/n,_=D(h,g)/n,u=(x-g)/(.015*_),l.push([r[A-1],u]),f.push(r[A-1]),c.push(u);return{values:l,xData:f,yData:c}}},o.defaultOptions=j(L.defaultOptions,{params:{index:void 0}}),o}(L);return C.registerSeriesType("cci",d),d}),W(P,"Stock/Indicators/CMF/CMFIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var O=function(D,d){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var e in o)o.hasOwnProperty(e)&&(s[e]=o[e])},O(D,d)};return function(D,d){O(D,d);function s(){this.constructor=D}D.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)}}(),L=C.seriesTypes.sma,T=S.merge,j=function(O){I(D,O);function D(){var d=O!==null&&O.apply(this,arguments)||this;return d.data=void 0,d.options=void 0,d.points=void 0,d.volumeSeries=void 0,d.linkedParent=void 0,d.yData=void 0,d.nameBase="Chaikin Money Flow",d}return D.prototype.isValid=function(){var d=this.chart,s=this.options,o=this.linkedParent,e=this.volumeSeries||(this.volumeSeries=d.get(s.params.volumeSeriesID)),t=o&&o.yData&&o.yData[0].length===4;function n(r){return r.xData&&r.xData.length>=s.params.period}return!!(o&&e&&n(o)&&n(e)&&t)},D.prototype.getValues=function(d,s){if(this.isValid())return this.getMoneyFlow(d.xData,d.yData,this.volumeSeries.yData,s.period)},D.prototype.getMoneyFlow=function(d,s,o,e){var t=s.length,n=[],r=0,i=0,a=[],p=[],l=[],f,c,u=-1;function y(h,v){var m=h[1],g=h[2],x=h[3],_=v!==null&&m!==null&&g!==null&&x!==null&&m!==g;function A(M,V,k){return(k-V-(M-k))/(M-V)}return _?A(m,g,x)*v:(u=f,null)}if(e>0&&e<=t){for(f=0;f<e;f++)n[f]=y(s[f],o[f]),r+=o[f],i+=n[f];for(a.push(d[f-1]),p.push(f-u>=e&&r!==0?i/r:null),l.push([a[0],p[0]]);f<t;f++)n[f]=y(s[f],o[f]),r-=o[f-e],r+=o[f],i-=n[f-e],i+=n[f],c=[d[f],f-u>=e?i/r:null],a.push(c[0]),p.push(c[1]),l.push([c[0],c[1]])}return{values:l,xData:a,yData:p}},D.defaultOptions=T(L.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),D}(L);return C.registerSeriesType("cmf",j),j}),W(P,"Stock/Indicators/DMI/DMIIndicator.js",[P["Stock/Indicators/MultipleLinesComposition.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I){var L=this&&this.__extends||function(){var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},o(e,t)};return function(e,t){o(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T=S.seriesTypes.sma,j=I.correctFloat,O=I.extend,D=I.isArray,d=I.merge,s=function(o){L(e,o);function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.options=void 0,t}return e.prototype.calculateDM=function(t,n,r){var i=t[n][1],a=t[n][2],p=t[n-1][1],l=t[n-1][2],f;return i-p>l-a?f=r?Math.max(i-p,0):0:f=r?0:Math.max(l-a,0),j(f)},e.prototype.calculateDI=function(t,n){return t/n*100},e.prototype.calculateDX=function(t,n){return j(Math.abs(t-n)/Math.abs(t+n)*100)},e.prototype.smoothValues=function(t,n,r){return j(t-t/r+n)},e.prototype.getTR=function(t,n){return j(Math.max(t[1]-t[2],n?Math.abs(t[1]-n[3]):0,n?Math.abs(t[2]-n[3]):0))},e.prototype.getValues=function(t,n){var r=n.period,i=t.xData,a=t.yData,p=a?a.length:0,l=[],f=[],c=[];if(!(i.length<=r||!D(a[0])||a[0].length!==4)){var u=0,y=0,h=0,v;for(v=1;v<p;v++){var m=void 0,g=void 0,x=void 0,_=void 0,A=void 0,M=void 0,V=void 0,k=void 0,w=void 0;v<=r?(_=this.calculateDM(a,v,!0),A=this.calculateDM(a,v),M=this.getTR(a[v],a[v-1]),u+=_,y+=A,h+=M,v===r&&(V=this.calculateDI(u,h),k=this.calculateDI(y,h),w=this.calculateDX(u,y),l.push([i[v],w,V,k]),f.push(i[v]),c.push([w,V,k]))):(_=this.calculateDM(a,v,!0),A=this.calculateDM(a,v),M=this.getTR(a[v],a[v-1]),m=this.smoothValues(u,_,r),g=this.smoothValues(y,A,r),x=this.smoothValues(h,M,r),u=m,y=g,h=x,V=this.calculateDI(u,h),k=this.calculateDI(y,h),w=this.calculateDX(u,y),l.push([i[v],w,V,k]),f.push(i[v]),c.push([w,V,k]))}return{values:l,xData:f,yData:c}}},e.defaultOptions=d(T.defaultOptions,{params:{index:void 0},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">DX</span>: {point.y}<br/><span style="color: {point.series.options.plusDILine.styles.lineColor}">+DI</span>: {point.plusDI}<br/><span style="color: {point.series.options.minusDILine.styles.lineColor}">-DI</span>: {point.minusDI}<br/>'},plusDILine:{styles:{lineWidth:1,lineColor:"#06b535"}},minusDILine:{styles:{lineWidth:1,lineColor:"#f21313"}},dataGrouping:{approximation:"averages"}}),e}(T);return O(s.prototype,{areaLinesNames:[],nameBase:"DMI",linesApiNames:["plusDILine","minusDILine"],pointArrayMap:["y","plusDI","minusDI"],parallelArrays:["x","y","plusDI","minusDI"],pointValKey:"y"}),C.compose(s),S.registerSeriesType("dmi",s),s}),W(P,"Stock/Indicators/DPO/DPOIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},o(e,t)};return function(e,t){o(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),L=C.seriesTypes.sma,T=S.extend,j=S.merge,O=S.correctFloat,D=S.pick;function d(o,e,t,n,r){var i=D(e[t][n],e[t]);return O(r?o-i:o+i)}var s=function(o){I(e,o);function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.options=void 0,t.data=void 0,t.points=void 0,t}return e.prototype.getValues=function(t,n){var r=n.period,i=n.index,a=Math.floor(r/2+1),p=r+a,l=t.xData||[],f=t.yData||[],c=f.length,u=[],y=[],h=[],v,m,g,x,_,A,M=0;if(!(l.length<=p)){for(_=0;_<r-1;_++)M=d(M,f,_,i);for(A=0;A<=c-p;A++)m=A+r-1,g=A+p-1,M=d(M,f,m,i),x=D(f[g][i],f[g]),v=x-M/r,M=d(M,f,A,i,!0),u.push([l[g],v]),y.push(l[g]),h.push(v);return{values:u,xData:y,yData:h}}},e.defaultOptions=j(L.defaultOptions,{params:{index:0,period:21}}),e}(L);return T(s.prototype,{nameBase:"DPO"}),C.registerSeriesType("dpo",s),s}),W(P,"Stock/Indicators/Chaikin/ChaikinIndicator.js",[P["Stock/Indicators/AD/ADIndicator.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I){var L=this&&this.__extends||function(){var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},o(e,t)};return function(e,t){o(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T=S.seriesTypes.ema,j=I.correctFloat,O=I.extend,D=I.merge,d=I.error,s=function(o){L(e,o);function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return e.prototype.getValues=function(t,n){var r=n.periods,i=n.period,a,p=[],l=[],f=[],c,u,y,h,v;if(r.length!==2||r[1]<=r[0]){d('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');return}if(a=C.prototype.getValues.call(this,t,{volumeSeriesID:n.volumeSeriesID,period:i}),!!a&&(u=T.prototype.getValues.call(this,a,{period:r[0]}),y=T.prototype.getValues.call(this,a,{period:r[1]}),!(!u||!y))){for(c=r[1]-r[0],v=0;v<y.yData.length;v++)h=j(u.yData[v+c]-y.yData[v]),p.push([y.xData[v],h]),l.push(y.xData[v]),f.push(h);return{values:p,xData:l,yData:f}}},e.defaultOptions=D(T.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",period:9,periods:[3,10]}}),e}(T);return O(s.prototype,{nameBase:"Chaikin Osc",nameComponents:["periods"]}),S.registerSeriesType("chaikin",s),s}),W(P,"Stock/Indicators/CMO/CMOIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var D=function(d,s){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])},D(d,s)};return function(d,s){D(d,s);function o(){this.constructor=d}d.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}(),L=C.seriesTypes.sma,T=S.isNumber,j=S.merge,O=function(D){I(d,D);function d(){var s=D!==null&&D.apply(this,arguments)||this;return s.data=void 0,s.options=void 0,s.points=void 0,s}return d.prototype.getValues=function(s,o){var e=o.period,t=s.xData,n=s.yData,r=n?n.length:0,i=[],a=[],p=[],l,f=o.index,c;if(!(t.length<e)){T(n[0])?c=n:(f=Math.min(f,n[0].length-1),c=n.map(function(g){return g[f]}));for(var u=0,y=0,h=0,v,m=e;m>0;m--)c[m]>c[m-1]?y+=c[m]-c[m-1]:c[m]<c[m-1]&&(h+=c[m-1]-c[m]);for(v=y+h>0?100*(y-h)/(y+h):0,a.push(t[e]),p.push(v),i.push([t[e],v]),l=e+1;l<r;l++)u=Math.abs(c[l-e-1]-c[l-e]),c[l]>c[l-1]?y+=c[l]-c[l-1]:c[l]<c[l-1]&&(h+=c[l-1]-c[l]),c[l-e]>c[l-e-1]?y-=u:h-=u,v=y+h>0?100*(y-h)/(y+h):0,a.push(t[l]),p.push(v),i.push([t[l],v]);return{values:i,xData:a,yData:p}}},d.defaultOptions=j(L.defaultOptions,{params:{period:20,index:3}}),d}(L);return C.registerSeriesType("cmo",O),O}),W(P,"Stock/Indicators/DEMA/DEMAIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var d=function(s,o){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},d(s,o)};return function(s,o){d(s,o);function e(){this.constructor=s}s.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}}(),L=C.seriesTypes.ema,T=S.correctFloat,j=S.isArray,O=S.merge,D=function(d){I(s,d);function s(){var o=d!==null&&d.apply(this,arguments)||this;return o.EMApercent=void 0,o.data=void 0,o.options=void 0,o.points=void 0,o}return s.prototype.getEMA=function(o,e,t,n,r,i){return d.prototype.calculateEma.call(this,i||[],o,typeof r>"u"?1:r,this.EMApercent,e,typeof n>"u"?-1:n,t)},s.prototype.getValues=function(o,e){var t=e.period,n=[],r=2*t,i=o.xData,a=o.yData,p=a?a.length:0,l=[],f=[],c=[],u=0,y=0,h,v,m,g,x=-1,_,A=0;if(this.EMApercent=2/(t+1),!(p<2*t-1)){for(j(a[0])&&(x=e.index?e.index:0),u=d.prototype.accumulatePeriodPoints.call(this,t,x,a),A=u/t,u=0,g=t;g<p+2;g++)g<p+1&&(y=this.getEMA(a,v,A,x,g)[1],n.push(y)),v=y,g<r?u+=y:(g===r&&(A=u/t),y=n[g-t-1],h=this.getEMA([y],m,A)[1],_=[i[g-2],T(2*y-h)],l.push(_),f.push(_[0]),c.push(_[1]),m=h);return{values:l,xData:f,yData:c}}},s.defaultOptions=O(L.defaultOptions),s}(L);return C.registerSeriesType("dema",D),D}),W(P,"Stock/Indicators/TEMA/TEMAIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var d=function(s,o){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},d(s,o)};return function(s,o){d(s,o);function e(){this.constructor=s}s.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}}(),L=C.seriesTypes.ema,T=S.correctFloat,j=S.isArray,O=S.merge,D=function(d){I(s,d);function s(){var o=d!==null&&d.apply(this,arguments)||this;return o.EMApercent=void 0,o.data=void 0,o.options=void 0,o.points=void 0,o}return s.prototype.getEMA=function(o,e,t,n,r,i){return L.prototype.calculateEma(i||[],o,typeof r>"u"?1:r,this.EMApercent,e,typeof n>"u"?-1:n,t)},s.prototype.getTemaPoint=function(o,e,t,n){var r=[o[n-3],T(3*t.level1-3*t.level2+t.level3)];return r},s.prototype.getValues=function(o,e){var t=e.period,n=2*t,r=3*t,i=o.xData,a=o.yData,p=a?a.length:0,l=-1,f=0,c=0,u=[],y=[],h=[],v,m,g=[],x=[],_,A,M={};if(this.EMApercent=2/(t+1),!(p<3*t-2)){for(j(a[0])&&(l=e.index?e.index:0),f=L.prototype.accumulatePeriodPoints(t,l,a),c=f/t,f=0,_=t;_<p+3;_++)_<p+1&&(M.level1=this.getEMA(a,v,c,l,_)[1],g.push(M.level1)),v=M.level1,_<n?f+=M.level1:(_===n&&(c=f/t,f=0),M.level1=g[_-t-1],M.level2=this.getEMA([M.level1],m,c)[1],x.push(M.level2),m=M.level2,_<r?f+=M.level2:(_===r&&(c=f/t),_===p+1&&(M.level1=g[_-t-1],M.level2=this.getEMA([M.level1],m,c)[1],x.push(M.level2)),M.level1=g[_-t-2],M.level2=x[_-2*t-1],M.level3=this.getEMA([M.level2],M.prevLevel3,c)[1],A=this.getTemaPoint(i,r,M,_),A&&(u.push(A),y.push(A[0]),h.push(A[1])),M.prevLevel3=M.level3));return{values:u,xData:y,yData:h}}},s.defaultOptions=O(L.defaultOptions),s}(L);return C.registerSeriesType("tema",D),D}),W(P,"Stock/Indicators/TRIX/TRIXIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var D=function(d,s){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])},D(d,s)};return function(d,s){D(d,s);function o(){this.constructor=d}d.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}(),L=C.seriesTypes.tema,T=S.correctFloat,j=S.merge,O=function(D){I(d,D);function d(){var s=D!==null&&D.apply(this,arguments)||this;return s.data=void 0,s.options=void 0,s.points=void 0,s}return d.prototype.getTemaPoint=function(s,o,e,t){if(t>o)return[s[t-3],e.prevLevel3!==0?T(e.level3-e.prevLevel3)/e.prevLevel3*100:null]},d.defaultOptions=j(L.defaultOptions),d}(L);return C.registerSeriesType("trix",O),O}),W(P,"Stock/Indicators/APO/APOIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var d=function(s,o){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},d(s,o)};return function(s,o){d(s,o);function e(){this.constructor=s}s.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}}(),L=C.seriesTypes.ema,T=S.extend,j=S.merge,O=S.error,D=function(d){I(s,d);function s(){var o=d!==null&&d.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return s.prototype.getValues=function(o,e){var t=e.periods,n=e.index,r=[],i=[],a=[],p,l,f,c,u;if(t.length!==2||t[1]<=t[0]){O('Error: "APO requires two periods. Notice, first period should be lower than the second one."');return}if(l=L.prototype.getValues.call(this,o,{index:n,period:t[0]}),f=L.prototype.getValues.call(this,o,{index:n,period:t[1]}),!(!l||!f)){for(p=t[1]-t[0],u=0;u<f.yData.length;u++)c=l.yData[u+p]-f.yData[u],r.push([f.xData[u],c]),i.push(f.xData[u]),a.push(c);return{values:r,xData:i,yData:a}}},s.defaultOptions=j(L.defaultOptions,{params:{period:void 0,periods:[10,20]}}),s}(L);return T(D.prototype,{nameBase:"APO",nameComponents:["periods"]}),C.registerSeriesType("apo",D),D}),W(P,"Stock/Indicators/IKH/IKHIndicator.js",[P["Extensions/DataGrouping/ApproximationRegistry.js"],P["Core/Color/Color.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I,L){var T=this&&this.__extends||function(){var u=function(y,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var g in m)m.hasOwnProperty(g)&&(v[g]=m[g])},u(y,h)};return function(y,h){u(y,h);function v(){this.constructor=y}y.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),j=S.parse,O=I.seriesTypes.sma,D=L.defined,d=L.extend,s=L.isArray,o=L.isNumber,e=L.merge,t=L.objectEach;function n(u){return u.reduce(function(y,h){return Math.max(y,h[1])},-1/0)}function r(u){return u.reduce(function(y,h){return Math.min(y,h[2])},1/0)}function i(u){return{high:n(u),low:r(u)}}function a(u){var y,h,v,m,g;return u.series.forEach(function(x){if(x.xData)for(m=x.xData,h=x.xIncrement?1:m.length-1,g=h;g>0;g--)v=m[g]-m[g-1],(typeof y>"u"||v<y)&&(y=v)}),y}function p(u,y,h,v){if(u&&y&&h&&v){var m=y.plotX-u.plotX,g=y.plotY-u.plotY,x=v.plotX-h.plotX,_=v.plotY-h.plotY,A=u.plotX-h.plotX,M=u.plotY-h.plotY,V=(-g*A+m*M)/(-x*g+m*_),k=(x*M-_*A)/(-x*g+m*_);if(V>=0&&V<=1&&k>=0&&k<=1)return{plotX:u.plotX+k*m,plotY:u.plotY+k*g}}}function l(u){var y=u.indicator;y.points=u.points,y.nextPoints=u.nextPoints,y.color=u.color,y.options=e(u.options.senkouSpan.styles,u.gap),y.graph=u.graph,y.fillGraph=!0,I.seriesTypes.sma.prototype.drawGraph.call(y)}function f(){var u=[],y;return[].forEach.call(arguments,function(h,v){u.push(C.average(h)),y=!y&&typeof u[v]>"u"}),y?void 0:u}var c=function(u){T(y,u);function y(){var h=u!==null&&u.apply(this,arguments)||this;return h.data=[],h.options={},h.points=[],h.graphCollection=[],h}return y.prototype.init=function(){u.prototype.init.apply(this,arguments),this.options=e({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:j(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:j(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:j(this.color).setOpacity(.2).get()}}},this.options)},y.prototype.toYData=function(h){return[h.tenkanSen,h.kijunSen,h.chikouSpan,h.senkouSpanA,h.senkouSpanB]},y.prototype.translate=function(){var h=this;I.seriesTypes.sma.prototype.translate.apply(h);for(var v=0,m=h.points;v<m.length;v++)for(var g=m[v],x=0,_=h.pointArrayMap;x<_.length;x++){var A=_[x],M=g[A];o(M)&&(g["plot"+A]=h.yAxis.toPixels(M,!0),g.plotY=g["plot"+A],g.tooltipPos=[g.plotX,g["plot"+A]],g.isNull=!1)}},y.prototype.drawGraph=function(){var h=this,v=h.points,m=h.options,g=h.graph,x=h.color,_={options:{gapSize:m.gapSize}},A=h.pointArrayMap.length,M=[[],[],[],[],[],[]],V={tenkanLine:M[0],kijunLine:M[1],chikouLine:M[2],senkouSpanA:M[3],senkouSpanB:M[4],senkouSpan:M[5]},k=[],w=h.options.senkouSpan,E=w.color||w.styles.fill,N=w.negativeColor,B=[[],[]],F=[[],[]],R=v.length,X=0,b,Y,G,z,Q,Z,K,q,et,lt,H,ot,nt;for(h.ikhMap=V;R--;){for(Y=v[R],G=0;G<A;G++)b=h.pointArrayMap[G],D(Y[b])&&M[G].push({plotX:Y.plotX,plotY:Y["plot"+b],isNull:!1});if(N&&R!==v.length-1){var tt=V.senkouSpanB.length-1,st=p(V.senkouSpanA[tt-1],V.senkouSpanA[tt],V.senkouSpanB[tt-1],V.senkouSpanB[tt]);if(st){var ut={plotX:st.plotX,plotY:st.plotY,isNull:!1,intersectPoint:!0};V.senkouSpanA.splice(tt,0,ut),V.senkouSpanB.splice(tt,0,ut),k.push(tt)}}}if(t(V,function(it,$){m[$]&&$!=="senkouSpan"&&(h.points=M[X],h.options=e(m[$].styles,_),h.graph=h["graph"+$],h.fillGraph=!1,h.color=x,I.seriesTypes.sma.prototype.drawGraph.call(h),h["graph"+$]=h.graph),X++}),h.graphCollection)for(var pt=0,ct=h.graphCollection;pt<ct.length;pt++){var dt=ct[pt];h[dt].destroy(),delete h[dt]}if(h.graphCollection=[],N&&V.senkouSpanA[0]&&V.senkouSpanB[0]){for(k.unshift(0),k.push(V.senkouSpanA.length-1),ot=0;ot<k.length-1;ot++)if(z=k[ot],Q=k[ot+1],Z=V.senkouSpanB.slice(z,Q+1),K=V.senkouSpanA.slice(z,Q+1),Math.floor(Z.length/2)>=1){var rt=Math.floor(Z.length/2);if(Z[rt].plotY===K[rt].plotY){for(q=0,et=0,nt=0;nt<Z.length;nt++)q+=Z[nt].plotY,et+=K[nt].plotY;H=q>et?0:1,B[H]=B[H].concat(Z),F[H]=F[H].concat(K)}else H=Z[rt].plotY>K[rt].plotY?0:1,B[H]=B[H].concat(Z),F[H]=F[H].concat(K)}else H=Z[0].plotY>K[0].plotY?0:1,B[H]=B[H].concat(Z),F[H]=F[H].concat(K);["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(it,$){B[$].length&&F[$].length&&(lt=$===0?E:N,l({indicator:h,points:B[$],nextPoints:F[$],color:lt,options:m,gap:_,graph:h[it]}),h[it]=h.graph,h.graphCollection.push(it))})}else l({indicator:h,points:V.senkouSpanB,nextPoints:V.senkouSpanA,color:E,options:m,gap:_,graph:h.graphsenkouSpan}),h.graphsenkouSpan=h.graph;delete h.nextPoints,delete h.fillGraph,h.points=v,h.options=m,h.graph=g,h.color=x},y.prototype.getGraphPath=function(h){var v=this,m=[],g,x=[];if(h=h||this.points,v.fillGraph&&v.nextPoints){if(g=I.seriesTypes.sma.prototype.getGraphPath.call(v,v.nextPoints),g&&g.length){g[0][0]="L",m=I.seriesTypes.sma.prototype.getGraphPath.call(v,h),x=g.slice(0,m.length);for(var _=x.length-1;_>=0;_--)m.push(x[_])}}else m=I.seriesTypes.sma.prototype.getGraphPath.apply(v,arguments);return m},y.prototype.getValues=function(h,v){var m=v.period,g=v.periodTenkan,x=v.periodSenkouSpanB,_=h.xData,A=h.yData,M=h.xAxis,V=A&&A.length||0,k=a(M),w=[],E=[],N,B,F,R,X,b,Y,G,z,Q,Z,K,q;if(!(_.length<=m||!s(A[0])||A[0].length!==4)){var et=_[0]-m*k;for(G=0;G<m;G++)E.push(et+G*k);for(G=0;G<V;G++)G>=g&&(B=A.slice(G-g,G),X=i(B),z=(X.high+X.low)/2),G>=m&&(F=A.slice(G-m,G),b=i(F),Q=(b.high+b.low)/2,K=(z+Q)/2),G>=x&&(R=A.slice(G-x,G),Y=i(R),q=(Y.high+Y.low)/2),Z=A[G][3],N=_[G],typeof w[G]>"u"&&(w[G]=[]),typeof w[G+m-1]>"u"&&(w[G+m-1]=[]),w[G+m-1][0]=z,w[G+m-1][1]=Q,w[G+m-1][2]=void 0,typeof w[G+1]>"u"&&(w[G+1]=[]),w[G+1][2]=Z,G<=m&&(w[G+m-1][3]=void 0,w[G+m-1][4]=void 0),typeof w[G+2*m-2]>"u"&&(w[G+2*m-2]=[]),w[G+2*m-2][3]=K,w[G+2*m-2][4]=q,E.push(N);for(G=1;G<=m;G++)E.push(N+G*k);return{values:w,xData:E,yData:w}}},y.defaultOptions=e(O.defaultOptions,{params:{index:void 0,period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}}),y}(O);return d(c.prototype,{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"]}),C["ichimoku-averages"]=f,I.registerSeriesType("ikh",c),c}),W(P,"Stock/Indicators/KeltnerChannels/KeltnerChannelsIndicator.js",[P["Stock/Indicators/MultipleLinesComposition.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I){var L=this&&this.__extends||function(){var s=function(o,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},s(o,e)};return function(o,e){s(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),T=S.seriesTypes.sma,j=I.correctFloat,O=I.extend,D=I.merge,d=function(s){L(o,s);function o(){var e=s!==null&&s.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return o.prototype.init=function(){S.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=D({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},o.prototype.getValues=function(e,t){var n=t.period,r=t.periodATR,i=t.multiplierATR,a=t.index,p=e.yData,l=p?p.length:0,f=[],c,u,y,h,v=S.seriesTypes.ema.prototype.getValues(e,{period:n,index:a}),m=S.seriesTypes.atr.prototype.getValues(e,{period:r}),g,x,_=[],A=[],M;if(!(l<n)){for(M=n;M<=l;M++)g=v.values[M-n],x=m.values[M-r],h=g[0],u=j(g[1]+i*x[1]),y=j(g[1]-i*x[1]),c=g[1],f.push([h,u,c,y]),_.push(h),A.push([u,c,y]);return{values:f,xData:_,yData:A}}},o.defaultOptions=D(T.defaultOptions,{params:{index:0,period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1}),o}(T);return O(d.prototype,{nameBase:"Keltner Channels",areaLinesNames:["top","bottom"],nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),C.compose(d),S.registerSeriesType("keltnerchannels",d),d}),W(P,"Stock/Indicators/Klinger/KlingerIndicator.js",[P["Stock/Indicators/MultipleLinesComposition.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I){var L=this&&this.__extends||function(){var n=function(r,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,p){a.__proto__=p}||function(a,p){for(var l in p)p.hasOwnProperty(l)&&(a[l]=p[l])},n(r,i)};return function(r,i){n(r,i);function a(){this.constructor=r}r.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),T=S.seriesTypes,j=T.ema,O=T.sma,D=I.correctFloat,d=I.error,s=I.extend,o=I.isArray,e=I.merge,t=function(n){L(r,n);function r(){var i=n!==null&&n.apply(this,arguments)||this;return i.data=void 0,i.points=void 0,i.options=void 0,i.volumeSeries=void 0,i}return r.prototype.calculateTrend=function(i,a){var p=i[a][1]+i[a][2]+i[a][3]>i[a-1][1]+i[a-1][2]+i[a-1][3];return p?1:-1},r.prototype.isValidData=function(i){var a=this.chart,p=this.options,l=this.linkedParent,f=o(i)&&i.length===4,c=this.volumeSeries||(this.volumeSeries=a.get(p.params.volumeSeriesID));c||d("Series "+p.params.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,l.chart);var u=[l,c].every(function(y){return y&&y.xData&&y.xData.length>=p.params.slowAvgPeriod});return!!(u&&f)},r.prototype.getCM=function(i,a,p,l,f){return D(a+(p===l?i:f))},r.prototype.getDM=function(i,a){return D(i-a)},r.prototype.getVolumeForce=function(i){var a=[],p=0,l,f,c=1,u=0,y=i[0][1]-i[0][2],h=0,v;for(c;c<i.length;c++)v=this.calculateTrend(i,c),l=this.getDM(i[c][1],i[c][2]),p=this.getCM(u,l,v,h,y),f=this.volumeSeries.yData[c]*v*Math.abs(2*(l/p-1))*100,a.push([f]),h=v,u=p,y=l;return a},r.prototype.getEMA=function(i,a,p,l,f,c,u){return j.prototype.calculateEma(u||[],i,typeof c>"u"?1:c,l,a,typeof f>"u"?-1:f,p)},r.prototype.getSMA=function(i,a,p){return j.prototype.accumulatePeriodPoints(i,a,p)/i},r.prototype.getValues=function(i,a){var p=[],l=i.xData,f=i.yData,c=[],u=[],y=[],h,v=0,m=0,g,x=void 0,_=void 0,A=null;if(this.isValidData(f[0])){var M=this.getVolumeForce(f),V=this.getSMA(a.fastAvgPeriod,0,M),k=this.getSMA(a.slowAvgPeriod,0,M),w=2/(a.fastAvgPeriod+1),E=2/(a.slowAvgPeriod+1);for(v;v<f.length;v++)v>=a.fastAvgPeriod&&(m=this.getEMA(M,x,V,w,0,v,l)[1],x=m),v>=a.slowAvgPeriod&&(g=this.getEMA(M,_,k,E,0,v,l)[1],_=g,h=D(m-g),y.push(h),y.length>=a.signalPeriod&&(A=y.slice(-a.signalPeriod).reduce(function(N,B){return N+B})/a.signalPeriod),p.push([l[v],h,A]),c.push(l[v]),u.push([h,A]));return{values:p,xData:c,yData:u}}},r.defaultOptions=e(O.defaultOptions,{params:{fastAvgPeriod:34,slowAvgPeriod:55,signalPeriod:13,volumeSeriesID:"volume"},signalLine:{styles:{lineWidth:1,lineColor:"#ff0000"}},dataGrouping:{approximation:"averages"},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">Klinger</span>: {point.y}<br/><span style="color: {point.series.options.signalLine.styles.lineColor}">Signal</span>: {point.signal}<br/>'}}),r}(O);return s(t.prototype,{areaLinesNames:[],linesApiNames:["signalLine"],nameBase:"Klinger",nameComponents:["fastAvgPeriod","slowAvgPeriod"],pointArrayMap:["y","signal"],parallelArrays:["x","y","signal"],pointValKey:"y"}),C.compose(t),S.registerSeriesType("klinger",t),t}),W(P,"Stock/Indicators/MACD/MACDIndicator.js",[P["Core/Globals.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I){var L=this&&this.__extends||function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var p in a)a.hasOwnProperty(p)&&(i[p]=a[p])},t(n,r)};return function(n,r){t(n,r);function i(){this.constructor=n}n.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}(),T=C.noop,j=S.seriesTypes;j.column;var O=j.sma,D=I.extend,d=I.correctFloat,s=I.defined,o=I.merge,e=function(t){L(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.data=void 0,r.options=void 0,r.points=void 0,r.currentLineZone=void 0,r.graphmacd=void 0,r.graphsignal=void 0,r.macdZones=void 0,r.signalZones=void 0,r}return n.prototype.init=function(){S.seriesTypes.sma.prototype.init.apply(this,arguments);var r=this.color,i=this.userOptions._colorIndex;this.options&&(s(this.userOptions._colorIndex)&&(this.options.signalLine&&this.options.signalLine.styles&&!this.options.signalLine.styles.lineColor&&(this.userOptions._colorIndex++,this.getCyclic("color",void 0,this.chart.options.colors),this.options.signalLine.styles.lineColor=this.color),this.options.macdLine&&this.options.macdLine.styles&&!this.options.macdLine.styles.lineColor&&(this.userOptions._colorIndex++,this.getCyclic("color",void 0,this.chart.options.colors),this.options.macdLine.styles.lineColor=this.color)),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0),this.color=r,this.userOptions._colorIndex=i},n.prototype.toYData=function(r){return[r.y,r.signal,r.MACD]},n.prototype.translate=function(){var r=this,i=["plotSignal","plotMACD"];C.seriesTypes.column.prototype.translate.apply(r),r.points.forEach(function(a){[a.signal,a.MACD].forEach(function(p,l){p!==null&&(a[i[l]]=r.yAxis.toPixels(p,!0))})})},n.prototype.destroy=function(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),S.seriesTypes.sma.prototype.destroy.apply(this,arguments)},n.prototype.drawGraph=function(){for(var r=this,i=r.points,a=i.length,p=r.options,l=r.zones,f={options:{gapSize:p.gapSize}},c=[[],[]],u;a--;)u=i[a],s(u.plotMACD)&&c[0].push({plotX:u.plotX,plotY:u.plotMACD,isNull:!s(u.plotMACD)}),s(u.plotSignal)&&c[1].push({plotX:u.plotX,plotY:u.plotSignal,isNull:!s(u.plotMACD)});["macd","signal"].forEach(function(y,h){r.points=c[h],r.options=o(p[y+"Line"].styles,f),r.graph=r["graph"+y],r.currentLineZone=y+"Zones",r.zones=r[r.currentLineZone].zones,S.seriesTypes.sma.prototype.drawGraph.call(r),r["graph"+y]=r.graph}),r.points=i,r.options=p,r.zones=l,r.currentLineZone=null},n.prototype.getZonesGraphs=function(r){var i=t.prototype.getZonesGraphs.call(this,r),a=i;return this.currentLineZone&&(a=i.splice(this[this.currentLineZone].startIndex+1),a.length?a.splice(0,0,r[0]):a=[r[0]]),a},n.prototype.applyZones=function(){var r=this.zones;this.zones=this.signalZones.zones,S.seriesTypes.sma.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=r},n.prototype.getValues=function(r,i){var a=i.longPeriod-i.shortPeriod,p=0,l=[],f=[],c=[],u=[],y,h,v;if(!(r.xData.length<i.longPeriod+i.signalPeriod)){for(y=S.seriesTypes.ema.prototype.getValues(r,{period:i.shortPeriod,index:i.index}),h=S.seriesTypes.ema.prototype.getValues(r,{period:i.longPeriod,index:i.index}),y=y.values,h=h.values,v=0;v<=y.length;v++)s(h[v])&&s(h[v][1])&&s(y[v+a])&&s(y[v+a][0])&&l.push([y[v+a][0],0,null,y[v+a][1]-h[v][1]]);for(v=0;v<l.length;v++)f.push(l[v][0]),c.push([0,null,l[v][3]]);for(u=S.seriesTypes.ema.prototype.getValues({xData:f,yData:c},{period:i.signalPeriod,index:2}),u=u.values,v=0;v<l.length;v++)l[v][0]>=u[0][0]&&(l[v][2]=u[p][1],c[v]=[0,u[p][1],l[v][3]],l[v][3]===null?(l[v][1]=0,c[v][0]=0):(l[v][1]=d(l[v][3]-u[p][1]),c[v][0]=d(l[v][3]-u[p][1])),p++);return{values:l,xData:f,yData:c}}},n.defaultOptions=o(O.defaultOptions,{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0}),n}(O);return D(e.prototype,{nameComponents:["longPeriod","shortPeriod","signalPeriod"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:T,getColumnMetrics:C.seriesTypes.column.prototype.getColumnMetrics,crispCol:C.seriesTypes.column.prototype.crispCol,drawPoints:C.seriesTypes.column.prototype.drawPoints}),S.registerSeriesType("macd",e),e}),W(P,"Stock/Indicators/MFI/MFIIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var n=function(r,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,p){a.__proto__=p}||function(a,p){for(var l in p)p.hasOwnProperty(l)&&(a[l]=p[l])},n(r,i)};return function(r,i){n(r,i);function a(){this.constructor=r}r.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),L=C.seriesTypes.sma,T=S.extend,j=S.merge,O=S.error,D=S.isArray;function d(n){return n.reduce(function(r,i){return r+i})}function s(n,r){return parseFloat(n.toFixed(r))}function o(n){return(n[1]+n[2]+n[3])/3}function e(n,r){return n*r}var t=function(n){I(r,n);function r(){var i=n!==null&&n.apply(this,arguments)||this;return i.data=void 0,i.options=void 0,i.points=void 0,i}return r.prototype.getValues=function(i,a){var p=a.period,l=i.xData,f=i.yData,c=f?f.length:0,u=a.decimals,y=1,h=i.chart.get(a.volumeSeriesID),v=h&&h.yData,m=[],g=!1,x=[],_=[],A=[],M=[],V,k,w,E,N,B,F,R;if(!h){O("Series "+a.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,i.chart);return}if(!(l.length<=p||!D(f[0])||f[0].length!==4||!v)){for(V=o(f[y]);y<p+1;)k=V,V=o(f[y]),g=V>=k,w=e(V,v[y]),A.push(g?w:0),M.push(g?0:w),y++;for(R=y-1;R<c;R++)R>y-1&&(A.shift(),M.shift(),k=V,V=o(f[R]),g=V>k,w=e(V,v[R]),A.push(g?w:0),M.push(g?0:w)),E=d(M),N=d(A),B=N/E,F=s(100-100/(1+B),u),m.push([l[R],F]),x.push(l[R]),_.push(F);return{values:m,xData:x,yData:_}}},r.defaultOptions=j(L.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",decimals:4}}),r}(L);return T(t.prototype,{nameBase:"Money Flow Index"}),C.registerSeriesType("mfi",t),t}),W(P,"Stock/Indicators/Momentum/MomentumIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var s=function(o,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},s(o,e)};return function(o,e){s(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),L=C.seriesTypes.sma,T=S.extend,j=S.isArray,O=S.merge;function D(s,o,e,t,n){var r=o[e-1][n]-o[e-t-1][n],i=s[e-1];return[i,r]}var d=function(s){I(o,s);function o(){var e=s!==null&&s.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return o.prototype.getValues=function(e,t){var n=t.period,r=t.index,i=e.xData,a=e.yData,p=a?a.length:0;a[0];var l=[],f=[],c=[],u,y;if(!(i.length<=n)){if(j(a[0]))a[0][r];else return;for(u=n+1;u<p;u++)y=D(i,a,u,n,r),l.push(y),f.push(y[0]),c.push(y[1]);return y=D(i,a,u,n,r),l.push(y),f.push(y[0]),c.push(y[1]),{values:l,xData:f,yData:c}}},o.defaultOptions=O(L.defaultOptions,{params:{index:3}}),o}(L);return T(d.prototype,{nameBase:"Momentum"}),C.registerSeriesType("momentum",d),d}),W(P,"Stock/Indicators/NATR/NATRIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var O=function(D,d){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var e in o)o.hasOwnProperty(e)&&(s[e]=o[e])},O(D,d)};return function(D,d){O(D,d);function s(){this.constructor=D}D.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)}}(),L=C.seriesTypes.atr,T=S.merge,j=function(O){I(D,O);function D(){var d=O!==null&&O.apply(this,arguments)||this;return d.data=void 0,d.points=void 0,d.options=void 0,d}return D.prototype.getValues=function(d,s){var o=L.prototype.getValues.apply(this,arguments),e=o.values.length,t=s.period-1,n=d.yData,r=0;if(o){for(;r<e;r++)o.yData[r]=o.values[r][1]/n[t][3]*100,o.values[r][1]=o.yData[r],t++;return o}},D.defaultOptions=T(L.defaultOptions,{tooltip:{valueSuffix:"%"}}),D}(L);return C.registerSeriesType("natr",j),j}),W(P,"Stock/Indicators/OBV/OBVIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var s=function(o,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},s(o,e)};return function(o,e){s(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),L=C.seriesTypes.sma,T=S.isNumber,j=S.error,O=S.extend,D=S.merge,d=function(s){I(o,s);function o(){var e=s!==null&&s.apply(this,arguments)||this;return e.data=void 0,e.points=void 0,e.options=void 0,e}return o.prototype.getValues=function(e,t){var n=e.chart.get(t.volumeSeriesID),r=e.xData,i=e.yData,a=[],p=[],l=[],f=!T(i[0]),c=[],u=1,y=0,h=0,v=0,m=0,g;if(n)for(g=n.yData,c=[r[0],y],v=f?i[0][3]:i[0],a.push(c),p.push(r[0]),l.push(c[1]),u;u<i.length;u++)m=f?i[u][3]:i[u],m>v?h=y+g[u]:m===v?h=y:h=y-g[u],c=[r[u],h],y=h,v=m,a.push(c),p.push(r[u]),l.push(c[1]);else{j("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart);return}return{values:a,xData:p,yData:l}},o.defaultOptions=D(L.defaultOptions,{marker:{enabled:!1},params:{index:void 0,period:void 0,volumeSeriesID:"volume"},tooltip:{valueDecimals:0}}),o}(L);return O(d.prototype,{nameComponents:void 0}),C.registerSeriesType("obv",d),d}),W(P,"Stock/Indicators/PivotPoints/PivotPointsPoint.js",[P["Core/Series/SeriesRegistry.js"]],function(C){var S=this&&this.__extends||function(){var j=function(O,D){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,s){d.__proto__=s}||function(d,s){for(var o in s)s.hasOwnProperty(o)&&(d[o]=s[o])},j(O,D)};return function(O,D){j(O,D);function d(){this.constructor=O}O.prototype=D===null?Object.create(D):(d.prototype=D.prototype,new d)}}(),I=C.seriesTypes.sma.prototype.pointClass;function L(j,O){var D=j.series.pointArrayMap,d,s=D.length;for(C.seriesTypes.sma.prototype.pointClass.prototype[O].call(j);s--;)d="dataLabel"+D[s],j[d]&&j[d].element&&j[d].destroy(),j[d]=null}var T=function(j){S(O,j);function O(){var D=j!==null&&j.apply(this,arguments)||this;return D.P=void 0,D.pivotLine=void 0,D.series=void 0,D}return O.prototype.destroyElements=function(){L(this,"destroyElements")},O.prototype.destroy=function(){L(this,"destroyElements")},O}(I);return T}),W(P,"Stock/Indicators/PivotPoints/PivotPointsIndicator.js",[P["Stock/Indicators/PivotPoints/PivotPointsPoint.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I){var L=this&&this.__extends||function(){var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},o(e,t)};return function(e,t){o(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T=S.seriesTypes.sma,j=I.merge,O=I.extend,D=I.defined,d=I.isArray,s=function(o){L(e,o);function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.endPoint=void 0,t.plotEndPoint=void 0,t}return e.prototype.toYData=function(t){return[t.P]},e.prototype.translate=function(){var t=this;S.seriesTypes.sma.prototype.translate.apply(t),t.points.forEach(function(n){t.pointArrayMap.forEach(function(r){D(n[r])&&(n["plot"+r]=t.yAxis.toPixels(n[r],!0))})}),t.plotEndPoint=t.xAxis.toPixels(t.endPoint,!0)},e.prototype.getGraphPath=function(t){for(var n=this,r=t.length,i=[[],[],[],[],[],[],[],[],[]],a=[],p=n.plotEndPoint,l=n.pointArrayMap.length,f,c,u;r--;){for(c=t[r],u=0;u<l;u++)f=n.pointArrayMap[u],D(c[f])&&i[u].push({plotX:c.plotX,plotY:c["plot"+f],isNull:!1},{plotX:p,plotY:c["plot"+f],isNull:!1},{plotX:p,plotY:null,isNull:!0});p=c.plotX}return i.forEach(function(y){a=a.concat(S.seriesTypes.sma.prototype.getGraphPath.call(n,y))}),a},e.prototype.drawDataLabels=function(){var t=this,n=t.pointArrayMap,r,i,a,p;t.options.dataLabels.enabled&&(i=t.points.length,n.concat([!1]).forEach(function(l,f){for(p=i;p--;)a=t.points[p],l?(a.y=a[l],a.pivotLine=l,a.plotY=a["plot"+l],r=a["dataLabel"+l],f&&(a["dataLabel"+n[f-1]]=a.dataLabel),a.dataLabels||(a.dataLabels=[]),a.dataLabels[0]=a.dataLabel=r=r&&r.element?r:null):a["dataLabel"+n[f-1]]=a.dataLabel;S.seriesTypes.sma.prototype.drawDataLabels.call(t)}))},e.prototype.getValues=function(t,n){var r=n.period,i=t.xData,a=t.yData,p=a?a.length:0,l=this[n.algorithm+"Placement"],f=[],c,u=[],y=[],h,v,m,g,x,_,A;if(!(i.length<r||!d(a[0])||a[0].length!==4)){for(A=r+1;A<=p+r;A+=r)v=i.slice(A-r-1,A),m=a.slice(A-r-1,A),h=v.length,c=v[h-1],x=this.getPivotAndHLC(m),_=l(x),g=f.push([c].concat(_)),u.push(c),y.push(f[g-1].slice(1));return this.endPoint=v[0]+(c-v[0])/h*r,{values:f,xData:u,yData:y}}},e.prototype.getPivotAndHLC=function(t){var n=-1/0,r=1/0,i=t[t.length-1][3],a;return t.forEach(function(p){n=Math.max(n,p[1]),r=Math.min(r,p[2])}),a=(n+r+i)/3,[a,n,r,i]},e.prototype.standardPlacement=function(t){var n=t[1]-t[2],r=[null,null,t[0]+n,t[0]*2-t[2],t[0],t[0]*2-t[1],t[0]-n,null,null];return r},e.prototype.camarillaPlacement=function(t){var n=t[1]-t[2],r=[t[3]+n*1.5,t[3]+n*1.25,t[3]+n*1.1666,t[3]+n*1.0833,t[0],t[3]-n*1.0833,t[3]-n*1.1666,t[3]-n*1.25,t[3]-n*1.5];return r},e.prototype.fibonacciPlacement=function(t){var n=t[1]-t[2],r=[null,t[0]+n,t[0]+n*.618,t[0]+n*.382,t[0],t[0]-n*.382,t[0]-n*.618,t[0]-n,null];return r},e.defaultOptions=j(T.defaultOptions,{params:{index:void 0,period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}}),e}(T);return O(s.prototype,{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",pointClass:C}),S.registerSeriesType("pivotpoints",s),s}),W(P,"Stock/Indicators/PPO/PPOIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var s=function(o,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},s(o,e)};return function(o,e){s(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),L=C.seriesTypes.ema,T=S.correctFloat,j=S.extend,O=S.merge,D=S.error,d=function(s){I(o,s);function o(){var e=s!==null&&s.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return o.prototype.getValues=function(e,t){var n=t.periods,r=t.index,i=[],a=[],p=[],l,f,c,u,y;if(n.length!==2||n[1]<=n[0]){D('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');return}if(f=L.prototype.getValues.call(this,e,{index:r,period:n[0]}),c=L.prototype.getValues.call(this,e,{index:r,period:n[1]}),!(!f||!c)){for(l=n[1]-n[0],y=0;y<c.yData.length;y++)u=T((f.yData[y+l]-c.yData[y])/c.yData[y]*100),i.push([c.xData[y],u]),a.push(c.xData[y]),p.push(u);return{values:i,xData:a,yData:p}}},o.defaultOptions=O(L.defaultOptions,{params:{period:void 0,periods:[12,26]}}),o}(L);return j(d.prototype,{nameBase:"PPO",nameComponents:["periods"]}),C.registerSeriesType("ppo",d),d}),W(P,"Stock/Indicators/ArrayUtilities.js",[],function(){function C(I,L,T){return I.reduce(function(j,O){return[Math.min(j[0],O[L]),Math.max(j[1],O[T])]},[Number.MAX_VALUE,-Number.MAX_VALUE])}var S={getArrayExtremes:C};return S}),W(P,"Stock/Indicators/PC/PCIndicator.js",[P["Stock/Indicators/ArrayUtilities.js"],P["Stock/Indicators/MultipleLinesComposition.js"],P["Core/Color/Palettes.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I,L,T){var j=this&&this.__extends||function(){var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},o(e,t)};return function(e,t){o(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),O=L.seriesTypes.sma,D=T.merge,d=T.extend,s=function(o){j(e,o);function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return e.prototype.getValues=function(t,n){var r=n.period,i=t.xData,a=t.yData,p=a?a.length:0,l=[],f,c,u,y,h=2,v=1,m=[],g=[],x,_,A;if(!(p<r)){for(A=r;A<=p;A++)y=i[A-1],x=a.slice(A-r,A),_=C.getArrayExtremes(x,h,v),c=_[1],u=_[0],f=(c+u)/2,l.push([y,c,f,u]),m.push(y),g.push([c,f,u]);return{values:l,xData:m,yData:g}}},e.defaultOptions=D(O.defaultOptions,{params:{index:void 0,period:20},lineWidth:1,topLine:{styles:{lineColor:I.colors[2],lineWidth:1}},bottomLine:{styles:{lineColor:I.colors[8],lineWidth:1}},dataGrouping:{approximation:"averages"}}),e}(O);return d(s.prototype,{areaLinesNames:["top","bottom"],nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),S.compose(s),L.registerSeriesType("pc",s),s}),W(P,"Stock/Indicators/PriceEnvelopes/PriceEnvelopesIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var d=function(s,o){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},d(s,o)};return function(s,o){d(s,o);function e(){this.constructor=s}s.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}}(),L=C.seriesTypes.sma,T=S.extend,j=S.isArray,O=S.merge,D=function(d){I(s,d);function s(){var o=d!==null&&d.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return s.prototype.init=function(){C.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=O({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},s.prototype.toYData=function(o){return[o.top,o.middle,o.bottom]},s.prototype.translate=function(){var o=this,e=["plotTop","plotMiddle","plotBottom"];C.seriesTypes.sma.prototype.translate.apply(o),o.points.forEach(function(t){[t.top,t.middle,t.bottom].forEach(function(n,r){n!==null&&(t[e[r]]=o.yAxis.toPixels(n,!0))})})},s.prototype.drawGraph=function(){for(var o=this,e=o.points,t=e.length,n=o.options,r=o.graph,i={options:{gapSize:n.gapSize}},a=[[],[]],p;t--;)p=e[t],a[0].push({plotX:p.plotX,plotY:p.plotTop,isNull:p.isNull}),a[1].push({plotX:p.plotX,plotY:p.plotBottom,isNull:p.isNull});["topLine","bottomLine"].forEach(function(l,f){o.points=a[f],o.options=O(n[l].styles,i),o.graph=o["graph"+l],C.seriesTypes.sma.prototype.drawGraph.call(o),o["graph"+l]=o.graph}),o.points=e,o.options=n,o.graph=r,C.seriesTypes.sma.prototype.drawGraph.call(o)},s.prototype.getValues=function(o,e){var t=e.period,n=e.topBand,r=e.bottomBand,i=o.xData,a=o.yData,p=a?a.length:0,l=[],f,c,u,y,h=[],v=[],m,g,x,_;if(!(i.length<t||!j(a[0])||a[0].length!==4)){for(_=t;_<=p;_++)m=i.slice(_-t,_),g=a.slice(_-t,_),x=C.seriesTypes.sma.prototype.getValues.call(this,{xData:m,yData:g},e),y=x.xData[0],f=x.yData[0],c=f*(1+n),u=f*(1-r),l.push([y,c,f,u]),h.push(y),v.push([c,f,u]);return{values:l,xData:h,yData:v}}},s.defaultOptions=O(L.defaultOptions,{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),s}(L);return T(D.prototype,{nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle"}),C.registerSeriesType("priceenvelopes",D),D}),W(P,"Stock/Indicators/PSAR/PSARIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var r=function(i,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var f in l)l.hasOwnProperty(f)&&(p[f]=l[f])},r(i,a)};return function(i,a){r(i,a);function p(){this.constructor=i}i.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),L=C.seriesTypes.sma,T=S.merge,j=S.extend;function O(r,i){return parseFloat(r.toFixed(i))}function D(r,i,a,p){return r===1&&i>p||r===-1&&a>p?1:-1}function d(r,i,a,p,l,f,c,u){return r===i?r===1&&a>p||r===-1&&a<p?l===c?c:O(l+f,2):l:u}function s(r,i,a,p){return a===1?r>p?r:p:i<p?i:p}function o(r,i){return r-i}function e(r,i){return r*i}function t(r,i,a,p,l,f,c,u,y){return r===i?r===1?a+p<Math.min(l,f)?a+p:Math.min(l,f):a+p>Math.max(u,c)?a+p:Math.max(u,c):y}var n=function(r){I(i,r);function i(){var a=r!==null&&r.apply(this,arguments)||this;return a.data=void 0,a.points=void 0,a.options=void 0,a}return i.prototype.getValues=function(a,p){var l=a.xData,f=a.yData,c=f[0][1],u=p.initialAccelerationFactor,y=p.maxAccelerationFactor,h=p.increment,v=p.initialAccelerationFactor,m=f[0][2],g=p.decimals,x=p.index,_=[],A=[],M=[],V=1,k,w,E,N,B,F,R,X,b,Y,G,z;if(!(x>=f.length)){for(z=0;z<x;z++)c=Math.max(f[z][1],c),m=Math.min(f[z][2],O(m,g));for(k=f[z][1]>m?1:-1,w=o(c,m),u=p.initialAccelerationFactor,E=e(u,w),_.push([l[x],m]),A.push(l[x]),M.push(O(m,g)),z=x+1;z<f.length;z++)B=f[z-1][2],F=f[z-2][2],R=f[z-1][1],X=f[z-2][1],Y=f[z][1],G=f[z][2],F!==null&&X!==null&&B!==null&&R!==null&&Y!==null&&G!==null&&(m=t(k,V,m,E,F,B,R,X,c),b=s(Y,G,k,c),N=D(V,G,Y,m),u=d(N,k,b,c,u,h,y,v),w=o(b,m),E=e(u,w),_.push([l[z],O(m,g)]),A.push(l[z]),M.push(O(m,g)),V=k,k=N,c=b);return{values:_,xData:A,yData:M}}},i.defaultOptions=T(L.defaultOptions,{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{period:void 0,initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}}),i}(L);return j(n.prototype,{nameComponents:void 0}),C.registerSeriesType("psar",n),n}),W(P,"Stock/Indicators/ROC/ROCIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var s=function(o,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},s(o,e)};return function(o,e){s(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),L=C.seriesTypes.sma,T=S.isArray,j=S.merge,O=S.extend;function D(s,o,e,t,n){var r,i;return n<0?(r=o[e-t],i=r?(o[e]-r)/r*100:null):(r=o[e-t][n],i=r?(o[e][n]-r)/r*100:null),[s[e],i]}var d=function(s){I(o,s);function o(){var e=s!==null&&s.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return o.prototype.getValues=function(e,t){var n=t.period,r=e.xData,i=e.yData,a=i?i.length:0,p=[],l=[],f=[],c,u=-1,y;if(!(r.length<=n)){for(T(i[0])&&(u=t.index),c=n;c<a;c++)y=D(r,i,c,n,u),p.push(y),l.push(y[0]),f.push(y[1]);return{values:p,xData:l,yData:f}}},o.defaultOptions=j(L.defaultOptions,{params:{index:3,period:9}}),o}(L);return O(d.prototype,{nameBase:"Rate of Change"}),C.registerSeriesType("roc",d),d}),W(P,"Stock/Indicators/RSI/RSIIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var d=function(s,o){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},d(s,o)};return function(s,o){d(s,o);function e(){this.constructor=s}s.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}}(),L=C.seriesTypes.sma,T=S.isNumber,j=S.merge;function O(d,s){return parseFloat(d.toFixed(s))}var D=function(d){I(s,d);function s(){var o=d!==null&&d.apply(this,arguments)||this;return o.data=void 0,o.points=void 0,o.options=void 0,o}return s.prototype.getValues=function(o,e){var t=e.period,n=o.xData,r=o.yData,i=r?r.length:0,a=e.decimals,p=1,l=[],f=[],c=[],u=e.index,y=0,h=0,v,m,g,x,_,A;if(!(n.length<t)){for(T(r[0])?A=r:(u=Math.min(u,r[0].length-1),A=r.map(function(M){return M[u]}));p<t;)m=O(A[p]-A[p-1],a),m>0?y+=m:h+=Math.abs(m),p++;for(g=O(y/(t-1),a),x=O(h/(t-1),a),_=p;_<i;_++)m=O(A[_]-A[_-1],a),m>0?(y=m,h=0):(y=0,h=Math.abs(m)),g=O((g*(t-1)+y)/t,a),x=O((x*(t-1)+h)/t,a),x===0?v=100:g===0?v=0:v=O(100-100/(1+g/x),a),l.push([n[_],v]),f.push(n[_]),c.push(v);return{values:l,xData:f,yData:c}}},s.defaultOptions=j(L.defaultOptions,{params:{decimals:4,index:3}}),s}(L);return C.registerSeriesType("rsi",D),D}),W(P,"Stock/Indicators/Stochastic/StochasticIndicator.js",[P["Stock/Indicators/ArrayUtilities.js"],P["Stock/Indicators/MultipleLinesComposition.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I,L){var T=this&&this.__extends||function(){var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},o(e,t)};return function(e,t){o(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),j=I.seriesTypes.sma,O=L.extend,D=L.isArray,d=L.merge,s=function(o){T(e,o);function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return e.prototype.init=function(){I.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=d({smoothedLine:{styles:{lineColor:this.color}}},this.options)},e.prototype.getValues=function(t,n){var r=n.periods[0],i=n.periods[1],a=t.xData,p=t.yData,l=p?p.length:0,f=[],c=[],u=[],y,h=3,v=2,m=1,g,x,_,A,M=null,V,k,w;if(!(l<r||!D(p[0])||p[0].length!==4)){for(w=r-1;w<l;w++)y=p.slice(w-r+1,w+1),k=C.getArrayExtremes(y,v,m),_=k[0],g=p[w][h]-_,x=k[1]-_,A=g/x*100,c.push(a[w]),u.push([A,null]),w>=r-1+(i-1)&&(V=I.seriesTypes.sma.prototype.getValues.call(this,{xData:c.slice(-i),yData:u.slice(-i)},{period:i}),M=V.yData[0]),f.push([a[w],A,M]),u[u.length-1][1]=M;return{values:f,xData:c,yData:u}}},e.defaultOptions=d(j.defaultOptions,{params:{index:void 0,period:void 0,periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),e}(j);return O(s.prototype,{areaLinesNames:[],nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"]}),S.compose(s),I.registerSeriesType("stochastic",s),s}),W(P,"Stock/Indicators/SlowStochastic/SlowStochasticIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var s=function(o,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},s(o,e)};return function(o,e){s(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),L=C.seriesTypes,T=L.sma.prototype,j=L.stochastic,O=S.extend,D=S.merge,d=function(s){I(o,s);function o(){var e=s!==null&&s.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return o.prototype.getValues=function(e,t){var n=t.periods,r=s.prototype.getValues.call(this,e,t),i={values:[],xData:[],yData:[]},a=0;if(r){i.xData=r.xData.slice(n[1]-1);var p=r.yData.slice(n[1]-1),l=T.getValues.call(this,{xData:i.xData,yData:p},{index:1,period:n[2]});if(l){for(var f=i.xData.length;a<f;a++)i.yData[a]=[p[a][1],l.yData[a-n[2]+1]||null],i.values[a]=[i.xData[a],p[a][1],l.yData[a-n[2]+1]||null];return i}}},o.defaultOptions=D(j.defaultOptions,{params:{periods:[14,3,3]}}),o}(j);return O(d.prototype,{nameBase:"Slow Stochastic"}),C.registerSeriesType("slowstochastic",d),d}),W(P,"Stock/Indicators/Supertrend/SupertrendIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"],P["Core/Chart/StockChart.js"]],function(C,S,I){var L=this&&this.__extends||function(){var i=function(a,p){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var c in f)f.hasOwnProperty(c)&&(l[c]=f[c])},i(a,p)};return function(a,p){i(a,p);function l(){this.constructor=a}a.prototype=p===null?Object.create(p):(l.prototype=p.prototype,new l)}}(),T=C.seriesTypes,j=T.atr,O=T.sma,D=S.addEvent,d=S.correctFloat,s=S.isArray,o=S.extend,e=S.merge,t=S.objectEach;function n(i,a,p){return{index:a,close:i.yData[a][p],x:i.xData[a]}}var r=function(i){L(a,i);function a(){var p=i!==null&&i.apply(this,arguments)||this;return p.data=void 0,p.linkedParent=void 0,p.options=void 0,p.points=void 0,p}return a.prototype.init=function(){var p;O.prototype.init.apply(this,arguments);var l=this,f=D(I,"afterLinkSeries",function(){if(l.options){var c=l.options;p=l.linkedParent.options,c.cropThreshold=p.cropThreshold-(c.params.period-1)}f()},{order:1})},a.prototype.drawGraph=function(){for(var p=this,l=p.options,f=p.linkedParent,c=f?f.points:[],u=p.points,y=p.graph,h=u.length,v=c.length-h,m=v>0?v:0,g={options:{gapSize:l.gapSize}},x={top:[],bottom:[],intersect:[]},_={top:{styles:{lineWidth:l.lineWidth,lineColor:l.fallingTrendColor||l.color,dashStyle:l.dashStyle}},bottom:{styles:{lineWidth:l.lineWidth,lineColor:l.risingTrendColor||l.color,dashStyle:l.dashStyle}},intersect:l.changeTrendLine},A=3,M,V,k,w,E,N,B,F,R;h--;)M=u[h],V=u[h-1],k=c[h-1+m],w=c[h-2+m],E=c[h+m],N=c[h+m+1],B=M.options.color,F={x:M.x,plotX:M.plotX,plotY:M.plotY,isNull:!1},!w&&k&&f.yData[k.index-1]&&(w=n(f,k.index-1,A)),!N&&E&&f.yData[E.index+1]&&(N=n(f,E.index+1,A)),!k&&w&&f.yData[w.index+1]?k=n(f,w.index+1,A):!k&&E&&f.yData[E.index-1]&&(k=n(f,E.index-1,A)),M&&k&&E&&w&&M.x!==k.x&&(M.x===E.x?(w=k,k=E):M.x===w.x?(k=w,w={close:f.yData[k.index-1][A],x:f.xData[k.index-1]}):N&&M.x===N.x&&(k=N,w=E)),V&&w&&k?(R={x:V.x,plotX:V.plotX,plotY:V.plotY,isNull:!1},M.y>=k.close&&V.y>=w.close?(M.color=B||l.fallingTrendColor||l.color,x.top.push(F)):M.y<k.close&&V.y<w.close?(M.color=B||l.risingTrendColor||l.color,x.bottom.push(F)):(x.intersect.push(F),x.intersect.push(R),x.intersect.push(e(R,{isNull:!0})),M.y>=k.close&&V.y<w.close?(M.color=B||l.fallingTrendColor||l.color,V.color=B||l.risingTrendColor||l.color,x.top.push(F),x.top.push(e(R,{isNull:!0}))):M.y<k.close&&V.y>=w.close&&(M.color=B||l.risingTrendColor||l.color,V.color=B||l.fallingTrendColor||l.color,x.bottom.push(F),x.bottom.push(e(R,{isNull:!0}))))):k&&(M.y>=k.close?(M.color=B||l.fallingTrendColor||l.color,x.top.push(F)):(M.color=B||l.risingTrendColor||l.color,x.bottom.push(F)));t(x,function(X,b){p.points=X,p.options=e(_[b].styles,g),p.graph=p["graph"+b+"Line"],O.prototype.drawGraph.call(p),p["graph"+b+"Line"]=p.graph}),p.points=u,p.options=l,p.graph=y},a.prototype.getValues=function(p,l){var f=l.period,c=l.multiplier,u=p.xData,y=p.yData,h=[],v=[],m=[],g=[],x=3,_=2,A=1,M=f===0?0:f-1,V,k,w=[],E=[],N,B,F,R,X,b,Y;if(!(u.length<=f||!s(y[0])||y[0].length!==4||f<0)){for(h=j.prototype.getValues.call(this,p,{period:f}).yData,Y=0;Y<h.length;Y++)b=y[M+Y],X=y[M+Y-1]||[],B=w[Y-1],F=E[Y-1],R=g[Y-1],Y===0&&(B=F=R=0),V=d((b[A]+b[_])/2+c*h[Y]),k=d((b[A]+b[_])/2-c*h[Y]),V<B||X[x]>B?w[Y]=V:w[Y]=B,k>F||X[x]<F?E[Y]=k:E[Y]=F,R===B&&b[x]<w[Y]||R===F&&b[x]<E[Y]?N=w[Y]:(R===B&&b[x]>w[Y]||R===F&&b[x]>E[Y])&&(N=E[Y]),v.push([u[M+Y],N]),m.push(u[M+Y]),g.push(N);return{values:v,xData:m,yData:g}}},a.defaultOptions=e(O.defaultOptions,{params:{index:void 0,multiplier:3,period:10},risingTrendColor:"#06b535",fallingTrendColor:"#f21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}}),a}(O);return o(r.prototype,{nameBase:"Supertrend",nameComponents:["multiplier","period"]}),C.registerSeriesType("supertrend",r),r}),W(P,"Stock/Indicators/VBP/VBPPoint.js",[P["Core/Series/SeriesRegistry.js"]],function(C){var S=this&&this.__extends||function(){var T=function(j,O){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,d){D.__proto__=d}||function(D,d){for(var s in d)d.hasOwnProperty(s)&&(D[s]=d[s])},T(j,O)};return function(j,O){T(j,O);function D(){this.constructor=j}j.prototype=O===null?Object.create(O):(D.prototype=O.prototype,new D)}}(),I=C.seriesTypes.sma.prototype.pointClass,L=function(T){S(j,T);function j(){return T!==null&&T.apply(this,arguments)||this}return j.prototype.destroy=function(){return this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),T.prototype.destroy.apply(this,arguments)},j}(I);return L}),W(P,"Stock/Indicators/VBP/VBPIndicator.js",[P["Stock/Indicators/VBP/VBPPoint.js"],P["Core/Animation/AnimationUtilities.js"],P["Core/Globals.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"],P["Core/Chart/StockChart.js"]],function(C,S,I,L,T,j){var O=this&&this.__extends||function(){var v=function(m,g){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,_){x.__proto__=_}||function(x,_){for(var A in _)_.hasOwnProperty(A)&&(x[A]=_[A])},v(m,g)};return function(m,g){v(m,g);function x(){this.constructor=m}m.prototype=g===null?Object.create(g):(x.prototype=g.prototype,new x)}}(),D=S.animObject,d=I.noop,s=L.seriesTypes,o=s.column.prototype,e=s.sma,t=T.addEvent,n=T.arrayMax,r=T.arrayMin,i=T.correctFloat,a=T.defined,p=T.error,l=T.extend,f=T.isArray,c=T.merge;function u(v){for(var m=v.length,g=v[0][3],x=g,_=1,A;_<m;_++)A=v[_][3],A<g&&(g=A),A>x&&(x=A);return{min:g,max:x}}var y=Math.abs,h=function(v){O(m,v);function m(){var g=v!==null&&v.apply(this,arguments)||this;return g.data=void 0,g.negWidths=void 0,g.options=void 0,g.points=void 0,g.posWidths=void 0,g.priceZones=void 0,g.rangeStep=void 0,g.volumeDataArray=void 0,g.zoneStarts=void 0,g.zoneLinesSVG=void 0,g}return m.prototype.init=function(g){var x=this,_,A,M;I.seriesTypes.sma.prototype.init.apply(x,arguments);var V=t(j,"afterLinkSeries",function(){x.options&&(_=x.options.params,A=x.linkedParent,M=g.get(_.volumeSeriesID),x.addCustomEvents(A,M)),V()},{order:1});return x},m.prototype.addCustomEvents=function(g,x){var _=this;function A(){_.chart.redraw(),_.setData([]),_.zoneStarts=[],_.zoneLinesSVG&&(_.zoneLinesSVG=_.zoneLinesSVG.destroy())}return _.dataEventsToUnbind.push(t(g,"remove",function(){A()})),x&&_.dataEventsToUnbind.push(t(x,"remove",function(){A()})),_},m.prototype.animate=function(g){var x=this,_=x.chart.inverted,A=x.group,M={},V;!g&&A&&(V=_?x.yAxis.top:x.xAxis.left,_?(A["forceAnimate:translateY"]=!0,M.translateY=V):(A["forceAnimate:translateX"]=!0,M.translateX=V),A.animate(M,l(D(x.options.animation),{step:function(k,w){x.group.attr({scaleX:Math.max(.001,w.pos)})}})))},m.prototype.drawPoints=function(){var g=this;g.options.volumeDivision.enabled&&(g.posNegVolume(!0,!0),o.drawPoints.apply(g,arguments),g.posNegVolume(!1,!1)),o.drawPoints.apply(g,arguments)},m.prototype.posNegVolume=function(g,x){var _=this,A=x?["positive","negative"]:["negative","positive"],M=_.options.volumeDivision,V=_.points.length,k=[],w=[],E=0,N,B,F,R;for(g?(_.posWidths=k,_.negWidths=w):(k=_.posWidths,w=_.negWidths);E<V;E++)R=_.points[E],R[A[0]+"Graphic"]=R.graphic,R.graphic=R[A[1]+"Graphic"],g&&(N=R.shapeArgs.width,B=_.priceZones[E],F=B.wholeVolumeData,F?(k.push(N/F*B.positiveVolumeData),w.push(N/F*B.negativeVolumeData)):(k.push(0),w.push(0))),R.color=x?M.styles.positiveColor:M.styles.negativeColor,R.shapeArgs.width=x?_.posWidths[E]:_.negWidths[E],R.shapeArgs.x=x?R.shapeArgs.x:_.posWidths[E]},m.prototype.translate=function(){var g=this,x=g.options,_=g.chart,A=g.yAxis,M=A.min,V=g.options.zoneLines,k=g.priceZones,w=0,E,N,B,F,R,X,b,Y,G,z,Q,Z;o.translate.apply(g),E=g.points,E.length&&(G=x.pointPadding<.5?x.pointPadding:.1,N=g.volumeDataArray,B=n(N),F=_.plotWidth/2,z=_.plotTop,R=y(A.toPixels(M)-A.toPixels(M+g.rangeStep)),b=y(A.toPixels(M)-A.toPixels(M+g.rangeStep)),G&&(X=y(R*(1-2*G)),w=y((R-X)/2),R=y(X)),E.forEach(function(K,q){Q=K.barX=K.plotX=0,Z=K.plotY=A.toPixels(k[q].start)-z-(A.reversed?R-b:R)-w,Y=i(F*k[q].wholeVolumeData/B),K.pointWidth=Y,K.shapeArgs=g.crispCol.apply(g,[Q,Z,Y,R]),K.volumeNeg=k[q].negativeVolumeData,K.volumePos=k[q].positiveVolumeData,K.volumeAll=k[q].wholeVolumeData}),V.enabled&&g.drawZones(_,A,g.zoneStarts,V.styles))},m.prototype.getValues=function(g,x){var _=this,A=g.processedXData,M=g.processedYData,V=_.chart,k=x.ranges,w=[],E=[],N=[],B,F,R;if(!g.chart){p("Base series not found! In case it has been removed, add a new one.",!0,V);return}if(!(F=V.get(x.volumeSeriesID))){p("Series "+x.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,V);return}if(B=f(M[0]),B&&M[0].length!==4){p("Type of "+g.name+" series is different than line, OHLC or candlestick.",!0,V);return}return R=_.priceZones=_.specifyZones(B,A,M,k,F),R.forEach(function(X,b){w.push([X.x,X.end]),E.push(w[b][0]),N.push(w[b][1])}),{values:w,xData:E,yData:N}},m.prototype.specifyZones=function(g,x,_,A,M){var V=this,k=g?u(_):!1,w=k?k.min:r(_),E=k?k.max:n(_),N=V.zoneStarts=[],B=[],F=0,R=1,X,b,Y=V.linkedParent;if(!V.options.compareToMain&&Y.dataModify&&(w=Y.dataModify.modifyValue(w),E=Y.dataModify.modifyValue(E)),!a(w)||!a(E))return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG&&(this.zoneLinesSVG=this.zoneLinesSVG.destroy())),[];for(X=V.rangeStep=i(E-w)/A,N.push(w);F<A-1;F++)N.push(i(N[F]+X));for(N.push(E),b=N.length;R<b;R++)B.push({index:R-1,x:x[0],start:N[R-1],end:N[R]});return V.volumePerZone(g,B,M,x,_)},m.prototype.volumePerZone=function(g,x,_,A,M){var V=this,k=_.processedXData,w=_.processedYData,E=x.length-1,N=M.length,B=w.length,F,R,X,b,Y;return y(N-B)&&(A[0]!==k[0]&&w.unshift(0),A[N-1]!==k[B-1]&&w.push(0)),V.volumeDataArray=[],x.forEach(function(G){for(G.wholeVolumeData=0,G.positiveVolumeData=0,G.negativeVolumeData=0,Y=0;Y<N;Y++){R=!1,X=!1,b=g?M[Y][3]:M[Y],F=Y?g?M[Y-1][3]:M[Y-1]:b;var z=V.linkedParent;!V.options.compareToMain&&z.dataModify&&(b=z.dataModify.modifyValue(b),F=z.dataModify.modifyValue(F)),b<=G.start&&G.index===0&&(R=!0),b>=G.end&&G.index===E&&(X=!0),(b>G.start||R)&&(b<G.end||X)&&(G.wholeVolumeData+=w[Y],F>b?G.negativeVolumeData+=w[Y]:G.positiveVolumeData+=w[Y])}V.volumeDataArray.push(G.wholeVolumeData)}),x},m.prototype.drawZones=function(g,x,_,A){var M=this,V=g.renderer,k=M.zoneLinesSVG,w=[],E=0,N=g.plotWidth,B=g.plotTop,F;_.forEach(function(R){F=x.toPixels(R)-B,w=w.concat(g.renderer.crispLine([["M",E,F],["L",N,F]],A.lineWidth))}),k?k.animate({d:w}):k=M.zoneLinesSVG=V.path(w).attr({"stroke-width":A.lineWidth,stroke:A.color,dashstyle:A.dashStyle,zIndex:M.group.zIndex+.1}).add(M.group)},m.defaultOptions=c(e.defaultOptions,{params:{index:void 0,period:void 0,ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"7px"},verticalAlign:"top"}}),m}(e);return l(h.prototype,{nameBase:"Volume by Price",nameComponents:["ranges"],calculateOn:{chart:"render",xAxis:"afterSetExtremes"},pointClass:C,markerAttribs:d,drawGraph:d,getColumnMetrics:o.getColumnMetrics,crispCol:o.crispCol}),L.registerSeriesType("vbp",h),h}),W(P,"Stock/Indicators/VWAP/VWAPIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var d=function(s,o){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},d(s,o)};return function(s,o){d(s,o);function e(){this.constructor=s}s.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}}(),L=C.seriesTypes.sma,T=S.error,j=S.isArray,O=S.merge,D=function(d){I(s,d);function s(){var o=d!==null&&d.apply(this,arguments)||this;return o.data=void 0,o.points=void 0,o.options=void 0,o}return s.prototype.getValues=function(o,e){var t=this,n=o.chart,r=o.xData,i=o.yData,a=e.period,p=!0,l;if(!(l=n.get(e.volumeSeriesID))){T("Series "+e.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,n);return}return j(i[0])||(p=!1),t.calculateVWAPValues(p,r,i,l,a)},s.prototype.calculateVWAPValues=function(o,e,t,n,r){var i=n.yData,a=n.xData.length,p=e.length,l=[],f=[],c=[],u=[],y=[],h,v,m,g,x,_;for(p<=a?h=p:h=a,x=0,_=0;x<h;x++)v=o?(t[x][1]+t[x][2]+t[x][3])/3:t[x],v*=i[x],m=_?l[x-1]+v:v,g=_?f[x-1]+i[x]:i[x],l.push(m),f.push(g),y.push([e[x],m/g]),c.push(y[x][0]),u.push(y[x][1]),_++,_===r&&(_=0);return{values:y,xData:c,yData:u}},s.defaultOptions=O(L.defaultOptions,{params:{index:void 0,period:30,volumeSeriesID:"volume"}}),s}(L);return C.registerSeriesType("vwap",D),D}),W(P,"Stock/Indicators/WilliamsR/WilliamsRIndicator.js",[P["Stock/Indicators/ArrayUtilities.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I){var L=this&&this.__extends||function(){var s=function(o,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},s(o,e)};return function(o,e){s(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),T=S.seriesTypes.sma,j=I.extend,O=I.isArray,D=I.merge,d=function(s){L(o,s);function o(){var e=s!==null&&s.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return o.prototype.getValues=function(e,t){var n=t.period,r=e.xData,i=e.yData,a=i?i.length:0,p=[],l=[],f=[],c,u=3,y=2,h=1,v,m,g,x,_,A;if(!(r.length<n||!O(i[0])||i[0].length!==4)){for(A=n-1;A<a;A++)c=i.slice(A-n+1,A+1),v=C.getArrayExtremes(c,y,h),x=v[0],g=v[1],_=i[A][u],m=(g-_)/(g-x)*-100,r[A]&&(p.push([r[A],m]),l.push(r[A]),f.push(m));return{values:p,xData:l,yData:f}}},o.defaultOptions=D(T.defaultOptions,{params:{index:void 0,period:14}}),o}(T);return j(d.prototype,{nameBase:"Williams %R"}),S.registerSeriesType("williamsr",d),d}),W(P,"Stock/Indicators/WMA/WMAIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},o(e,t)};return function(e,t){o(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),L=C.seriesTypes.sma,T=S.isArray,j=S.merge;function O(o,e,t,n,r){var i=e[n],a=r<0?t[n]:t[n][r];o.push([i,a])}function D(o,e){var t=(e+1)/2*e;return o.reduce(function(n,r,i){return[null,n[1]+r[1]*(i+1)]})[1]/t}function d(o,e,t,n){var r=o.length,i=D(o,r),a=e[n-1];return o.shift(),[a,i]}var s=function(o){I(e,o);function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return e.prototype.getValues=function(t,n){var r=n.period,i=t.xData,a=t.yData,p=a?a.length:0,l=1,f=i[0],c=a[0],u=[],y=[],h=[],v=-1,m,g,x;if(!(i.length<r)){for(T(a[0])&&(v=n.index,c=a[0][v]),g=[[f,c]];l!==r;)O(g,i,a,l,v),l++;for(m=l;m<p;m++)x=d(g,i,a,m),u.push(x),y.push(x[0]),h.push(x[1]),O(g,i,a,m,v);return x=d(g,i,a,m),u.push(x),y.push(x[0]),h.push(x[1]),{values:u,xData:y,yData:h}}},e.defaultOptions=j(L.defaultOptions,{params:{index:3,period:9}}),e}(L);return C.registerSeriesType("wma",s),s}),W(P,"Stock/Indicators/Zigzag/ZigzagIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var D=function(d,s){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])},D(d,s)};return function(d,s){D(d,s);function o(){this.constructor=d}d.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}(),L=C.seriesTypes.sma,T=S.merge,j=S.extend,O=function(D){I(d,D);function d(){var s=D!==null&&D.apply(this,arguments)||this;return s.data=void 0,s.points=void 0,s.options=void 0,s}return d.prototype.getValues=function(s,o){var e=o.lowIndex,t=o.highIndex,n=o.deviation/100,r={low:1+n,high:1-n},i=s.xData,a=s.yData,p=a?a.length:0,l=[],f=[],c=[],u,y,h,v,m,g,x,_=!1,A=!1;if(!(!i||i.length<=1||p&&(typeof a[0][e]>"u"||typeof a[0][t]>"u"))){for(v=a[0][e],m=a[0][t],u=1;u<p;u++)a[u][e]<=m*r.high?(l.push([i[0],m]),h=[i[u],a[u][e]],g=!0,_=!0):a[u][t]>=v*r.low&&(l.push([i[0],v]),h=[i[u],a[u][t]],g=!1,_=!0),_&&(f.push(l[0][0]),c.push(l[0][1]),y=u++,u=p);for(u=y;u<p;u++)g?(a[u][e]<=h[1]&&(h=[i[u],a[u][e]]),a[u][t]>=h[1]*r.low&&(A=t)):(a[u][t]>=h[1]&&(h=[i[u],a[u][t]]),a[u][e]<=h[1]*r.high&&(A=e)),A!==!1&&(l.push(h),f.push(h[0]),c.push(h[1]),h=[i[u],a[u][A]],g=!g,A=!1);return x=l.length,x!==0&&l[x-1][0]<i[p-1]&&(l.push(h),f.push(h[0]),c.push(h[1])),{values:l,xData:f,yData:c}}},d.defaultOptions=T(L.defaultOptions,{params:{index:void 0,period:void 0,lowIndex:2,highIndex:1,deviation:1}}),d}(L);return j(O.prototype,{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag"}),C.registerSeriesType("zigzag",O),O}),W(P,"Stock/Indicators/LinearRegression/LinearRegressionIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var d=function(s,o){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},d(s,o)};return function(s,o){d(s,o);function e(){this.constructor=s}s.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}}(),L=C.seriesTypes.sma,T=S.isArray,j=S.extend,O=S.merge,D=function(d){I(s,d);function s(){var o=d!==null&&d.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return s.prototype.getRegressionLineParameters=function(o,e){var t=this.options.params.index,n=function(v,m){return T(v)?v[m]:v},r=o.reduce(function(v,m){return m+v},0),i=e.reduce(function(v,m){return n(m,t)+v},0),a=r/o.length,p=i/e.length,l,f,c=0,u=0,y,h;for(y=0;y<o.length;y++)l=o[y]-a,f=n(e[y],t)-p,c+=l*f,u+=Math.pow(l,2);return h=u?c/u:0,{slope:h,intercept:p-h*a}},s.prototype.getEndPointY=function(o,e){return o.slope*e+o.intercept},s.prototype.transformXData=function(o,e){var t=o[0];return o.map(function(n){return(n-t)/e})},s.prototype.findClosestDistance=function(o){var e,t,n;for(n=1;n<o.length-1;n++)e=o[n]-o[n-1],e>0&&(typeof t>"u"||e<t)&&(t=e);return t},s.prototype.getValues=function(o,e){var t=o.xData,n=o.yData,r=e.period,i,a,p,l,f={xData:[],yData:[],values:[]},c,u,y,h,v,m=this.options.params.xAxisUnit||this.findClosestDistance(t);for(a=r-1;a<=t.length-1;a++)p=a-r+1,l=a+1,c=t[a],y=t.slice(p,l),h=n.slice(p,l),v=this.transformXData(y,m),i=this.getRegressionLineParameters(v,h),u=this.getEndPointY(i,v[v.length-1]),f.values.push({regressionLineParameters:i,x:c,y:u}),f.xData.push(c),f.yData.push(u);return f},s.defaultOptions=O(L.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),s}(L);return j(D.prototype,{nameBase:"Linear Regression Indicator"}),C.registerSeriesType("linearRegression",D),D}),W(P,"Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopesIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var D=function(d,s){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])},D(d,s)};return function(d,s){D(d,s);function o(){this.constructor=d}d.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}(),L=C.seriesTypes.linearRegression,T=S.extend,j=S.merge,O=function(D){I(d,D);function d(){var s=D!==null&&D.apply(this,arguments)||this;return s.data=void 0,s.options=void 0,s.points=void 0,s}return d.prototype.getEndPointY=function(s){return s.slope},d.defaultOptions=j(L.defaultOptions),d}(L);return T(O.prototype,{nameBase:"Linear Regression Slope Indicator"}),C.registerSeriesType("linearRegressionSlope",O),O}),W(P,"Stock/Indicators/LinearRegressionIntercept/LinearRegressionInterceptIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var D=function(d,s){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])},D(d,s)};return function(d,s){D(d,s);function o(){this.constructor=d}d.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}(),L=C.seriesTypes.linearRegression,T=S.extend,j=S.merge,O=function(D){I(d,D);function d(){var s=D!==null&&D.apply(this,arguments)||this;return s.data=void 0,s.options=void 0,s.points=void 0,s}return d.prototype.getEndPointY=function(s){return s.intercept},d.defaultOptions=j(L.defaultOptions),d}(L);return T(O.prototype,{nameBase:"Linear Regression Intercept Indicator"}),C.registerSeriesType("linearRegressionIntercept",O),O}),W(P,"Stock/Indicators/LinearRegressionAngle/LinearRegressionAngleIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var D=function(d,s){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])},D(d,s)};return function(d,s){D(d,s);function o(){this.constructor=d}d.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}(),L=C.seriesTypes.linearRegression,T=S.extend,j=S.merge,O=function(D){I(d,D);function d(){var s=D!==null&&D.apply(this,arguments)||this;return s.data=void 0,s.options=void 0,s.points=void 0,s}return d.prototype.slopeToAngle=function(s){return Math.atan(s)*(180/Math.PI)},d.prototype.getEndPointY=function(s){return this.slopeToAngle(s.slope)},d.defaultOptions=j(L.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}}),d}(L);return T(O.prototype,{nameBase:"Linear Regression Angle Indicator"}),C.registerSeriesType("linearRegressionAngle",O),O}),W(P,"Stock/Indicators/ABands/ABandsIndicator.js",[P["Stock/Indicators/MultipleLinesComposition.js"],P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S,I){var L=this&&this.__extends||function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var p in a)a.hasOwnProperty(p)&&(i[p]=a[p])},t(n,r)};return function(n,r){t(n,r);function i(){this.constructor=n}n.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}(),T=S.seriesTypes.sma,j=I.correctFloat,O=I.extend,D=I.merge;function d(t,n,r){return j(n-t)/(j(n+t)/2)*1e3*r}function s(t,n){return t*j(1+2*n)}function o(t,n){return t*j(1-2*n)}var e=function(t){L(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.data=void 0,r.options=void 0,r.points=void 0,r}return n.prototype.getValues=function(r,i){var a=i.period,p=i.factor,l=i.index,f=r.xData,c=r.yData,u=c?c.length:0,y=[],h=[],v=[],m,g,x,_,A,M,V,k,w=2,E=1,N=[],B=[],F,R,X;if(!(u<a)){for(X=0;X<=u;X++)X<u&&(A=d(c[X][w],c[X][E],p),y.push(s(c[X][E],A)),h.push(o(c[X][w],A))),X>=a&&(F=f.slice(X-a,X),R=c.slice(X-a,X),V=t.prototype.getValues.call(this,{xData:F,yData:y.slice(X-a,X)},{period:a}),k=t.prototype.getValues.call(this,{xData:F,yData:h.slice(X-a,X)},{period:a}),M=t.prototype.getValues.call(this,{xData:F,yData:R},{period:a,index:l}),_=M.xData[0],g=V.yData[0],x=k.yData[0],m=M.yData[0],v.push([_,g,m,x]),N.push(_),B.push([g,m,x]));return{values:v,xData:N,yData:B}}},n.defaultOptions=D(T.defaultOptions,{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),n}(T);return O(e.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameBase:"Acceleration Bands",nameComponents:["period","factor"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),C.compose(e),S.registerSeriesType("abands",e),e}),W(P,"Stock/Indicators/TrendLine/TrendLineIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var d=function(s,o){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},d(s,o)};return function(s,o){d(s,o);function e(){this.constructor=s}s.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}}(),L=C.seriesTypes.sma,T=S.extend,j=S.merge,O=S.isArray,D=function(d){I(s,d);function s(){var o=d!==null&&d.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return s.prototype.getValues=function(o,e){var t=o.xData,n=o.yData,r=[],i=[],a=[],p=0,l=0,f=0,c=0,u=t.length,y=e.index,h,v,m,g,x;for(m=0;m<u;m++)g=t[m],x=O(n[m])?n[m][y]:n[m],p+=g,l+=x,f+=g*x,c+=g*g;for(h=(u*f-p*l)/(u*c-p*p),isNaN(h)&&(h=0),v=(l-h*p)/u,m=0;m<u;m++)g=t[m],x=h*g+v,r[m]=[g,x],i[m]=g,a[m]=x;return{xData:i,yData:a,values:r}},s.defaultOptions=j(L.defaultOptions,{params:{period:void 0,index:3}}),s}(L);return T(D.prototype,{nameBase:"Trendline",nameComponents:!1}),C.registerSeriesType("trendline",D),D}),W(P,"Stock/Indicators/DisparityIndex/DisparityIndexIndicator.js",[P["Core/Series/SeriesRegistry.js"],P["Core/Utilities.js"]],function(C,S){var I=this&&this.__extends||function(){var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},o(e,t)};return function(e,t){o(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),L=C.seriesTypes.sma,T=S.correctFloat,j=S.defined,O=S.extend,D=S.isArray,d=S.merge,s=function(o){I(e,o);function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.averageIndicator=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t}return e.prototype.init=function(){var t=arguments,n=this,r=t[1].params,i=r&&r.average?r.average:void 0;n.averageIndicator=C.seriesTypes[i]||L,n.averageIndicator.prototype.init.apply(n,t)},e.prototype.calculateDisparityIndex=function(t,n){return T(t-n)/n*100},e.prototype.getValues=function(t,n){var r=n.index,i=t.xData,a=t.yData,p=a?a.length:0,l=[],f=[],c=[],u=this.averageIndicator,y=D(a[0]),h=u.prototype.getValues(t,n),v=h.yData,m=i.indexOf(h.xData[0]);if(!(!v||v.length===0||!j(r)||a.length<=m)){for(var g=m;g<p;g++){var x=this.calculateDisparityIndex(y?a[g][r]:a[g],v[g-m]);l.push([i[g],x]),f.push(i[g]),c.push(x)}return{values:l,xData:f,yData:c}}},e.defaultOptions=d(L.defaultOptions,{params:{average:"sma",index:3},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),e}(L);return O(s.prototype,{nameBase:"Disparity Index",nameComponents:["period","average"]}),C.registerSeriesType("disparityindex",s),s}),W(P,"masters/indicators/indicators-all.src.js",[],function(){})})})(ht);const yt=at,vt=ft({__proto__:null,default:yt},[at]);export{vt as i};
