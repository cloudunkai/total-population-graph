function V(b,y){for(var X=0;X<y.length;X++){const P=y[X];if(typeof P!="string"&&!Array.isArray(P)){for(const h in P)if(h!=="default"&&!(h in b)){const i=Object.getOwnPropertyDescriptor(P,h);i&&Object.defineProperty(b,h,i.get?i:{enumerable:!0,get:()=>P[h]})}}}return Object.freeze(Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}))}var I={},G={get exports(){return I},set exports(b){I=b}};(function(b){(function(y){b.exports?(y.default=y,b.exports=y):y(typeof Highcharts<"u"?Highcharts:void 0)})(function(y){function X(P,h,i,o){P.hasOwnProperty(h)||(P[h]=o.apply(null,i),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:h,module:P[h]}})))}y=y?y._modules:{},X(y,"Series/PathUtilities.js",[],function(){return{curvedPath:function(P,h){for(var i=[],o=0;o<P.length;o++){var t=P[o][1],e=P[o][2];if(typeof t=="number"&&typeof e=="number")if(o===0)i.push(["M",t,e]);else if(o===P.length-1)i.push(["L",t,e]);else if(h){var s=P[o-1],f=P[o+1];if(s&&f){var p=s[1];s=s[2];var d=f[1];if(f=f[2],typeof p=="number"&&typeof d=="number"&&typeof s=="number"&&typeof f=="number"&&p!==d&&s!==f){var l=p<d?1:-1,v=s<f?1:-1;i.push(["L",t-l*Math.min(Math.abs(t-p),h),e-v*Math.min(Math.abs(e-s),h)],["C",t,e,t,e,t+l*Math.min(Math.abs(t-d),h),e+v*Math.min(Math.abs(e-f),h)])}}}else i.push(["L",t,e])}return i}}}),X(y,"Series/Treegraph/TreegraphNode.js",[y["Core/Series/SeriesRegistry.js"]],function(P){var h=this&&this.__extends||function(){var i=function(o,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var f in s)s.hasOwnProperty(f)&&(e[f]=s[f])},i(o,t)};return function(o,t){function e(){this.constructor=o}i(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();return function(i){function o(){var t=i!==null&&i.apply(this,arguments)||this;return t.mod=0,t.shift=0,t.change=0,t.children=[],t.preX=0,t.hidden=!1,t.wasVisited=!1,t.collapsed=!1,t}return h(o,i),o.prototype.nextLeft=function(){return this.getLeftMostChild()||this.thread},o.prototype.nextRight=function(){return this.getRightMostChild()||this.thread},o.prototype.getAncestor=function(t,e){return t.ancestor.children[0]===this.children[0]?t.ancestor:e},o.prototype.getLeftMostSibling=function(){var t=this.getParent();if(t){var e=0;for(t=t.children;e<t.length;e++){var s=t[e];if(s&&s.point.visible)return s}}},o.prototype.hasChildren=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].point.visible)return!0;return!1},o.prototype.getLeftSibling=function(){var t=this.getParent();if(t){t=t.children;for(var e=this.relativeXPosition-1;0<=e;e--)if(t[e]&&t[e].point.visible)return t[e]}},o.prototype.getLeftMostChild=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].point.visible)return t[e]},o.prototype.getRightMostChild=function(){for(var t=this.children,e=t.length-1;0<=e;e--)if(t[e].point.visible)return t[e]},o.prototype.getParent=function(){return this.parentNode},o.prototype.getFirstChild=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].point.visible)return t[e]},o}(P.seriesTypes.treemap.prototype.NodeClass)}),X(y,"Series/Treegraph/TreegraphPoint.js",[y["Core/Series/Point.js"],y["Core/Series/SeriesRegistry.js"],y["Core/Utilities.js"]],function(P,h,i){var o=this&&this.__extends||function(){var p=function(d,l){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var S in g)g.hasOwnProperty(S)&&(v[S]=g[S])},p(d,l)};return function(d,l){function v(){this.constructor=d}p(d,l),d.prototype=l===null?Object.create(l):(v.prototype=l.prototype,new v)}}(),t=i.addEvent,e=i.fireEvent,s=i.merge,f=i.pick;return h=function(p){function d(){var l=p!==null&&p.apply(this,arguments)||this;return l.options=void 0,l.isLink=!1,l.series=void 0,l.node=void 0,l.setState=P.prototype.setState,l}return o(d,p),d.prototype.draw=function(){p.prototype.draw.apply(this,arguments),this.renderCollapseButton()},d.prototype.renderCollapseButton=function(){var l=this.series,v=this.graphic&&this.graphic.parentGroup;l=s(l.options.collapseButton,(l.mapOptionsToLevel[this.node.level||0]||{}).collapseButton,this.series.options.collapseButton);var g=l.width,S=l.height,R=l.shape,z=l.style,W=this.series.chart;if(this.shapeArgs){if(this.collapseButtonOptions=l,this.collapseButton)this.node.children.length&&l.enabled?(v=this.getCollapseBtnPosition(l),Y=v.x,_=v.y,this.collapseButton.attr({text:this.collapsed?"+":"-",rotation:W.inverted?90:0,rotationOriginX:g/2,rotationOriginY:S/2,visibility:!this.visible||l.onlyOnHover&&this.state!=="hover"&&!this.collapsed?"hidden":"inherit"}).animate({x:Y,y:_})):(this.collapseButton.destroy(),delete this.collapseButton);else if(this.node.children.length&&l.enabled){_=this.getCollapseBtnPosition(l);var Y=_.x,_=_.y;this.collapseButton=W.renderer.label(this.collapsed?"+":"-",Y,_,R).attr({height:S-4,width:g-4,padding:2,fill:"#cccccc",rotation:W.inverted?90:0,rotationOriginX:g/2,rotationOriginY:S/2,stroke:"#333333","stroke-width":1,"text-align":"center",align:"center",zIndex:1}).addClass("highcharts-tracker").addClass("highcharts-collapse-button").removeClass("highcharts-no-tooltip").css(z||{}).add(v),this.collapseButton.element.point=this,l.onlyOnHover&&!this.collapsed&&this.collapseButton.hide()}}},d.prototype.toggleCollapse=function(l){this.collapsed=f(l,!this.collapsed),e(this.series,"toggleCollapse"),this.series.redraw()},d.prototype.shouldDraw=function(){return p.prototype.shouldDraw.call(this)&&this.visible},d.prototype.destroy=function(){this.collapseButton&&(this.collapseButton.destroy(),delete this.collapseButton,this.collapseButton=void 0),p.prototype.destroy.apply(this,arguments)},d.prototype.getCollapseBtnPosition=function(l){var v=l.width,g=l.height,S=this.shapeArgs||{},R=S.x,z=S.y,W=S.width;return S=S.height,{x:(R===void 0?0:R)+l.x+(this.series.chart.inverted?.3*-g:(W===void 0?0:W)+-.3*v),y:(z===void 0?0:z)+(S===void 0?0:S)/2-g/2+l.y}},d}(h.seriesTypes.treemap.prototype.pointClass),t(h,"mouseOut",function(){var p=this.collapseButton,d=this.collapseButtonOptions;p&&d&&d.onlyOnHover&&!this.collapsed&&p.hide()}),t(h,"mouseOver",function(){this.collapseButton&&this.collapseButton.show()}),t(h,"click",function(){this.toggleCollapse()}),h}),X(y,"Series/Treegraph/TreegraphLink.js",[y["Core/Series/Point.js"],y["Core/Utilities.js"],y["Core/Series/SeriesRegistry.js"]],function(P,h,i){var o=this&&this.__extends||function(){var s=function(f,p){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,l){d.__proto__=l}||function(d,l){for(var v in l)l.hasOwnProperty(v)&&(d[v]=l[v])},s(f,p)};return function(f,p){function d(){this.constructor=f}s(f,p),f.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)}}(),t=h.pick,e=h.extend;return function(s){function f(){var p=s!==null&&s.apply(this,arguments)||this;return p.isLink=!0,p.node={},p.formatPrefix="link",p.dataLabelOnNull=!0,p}return o(f,s),f.prototype.init=function(p,d,l,v){var g=s.prototype.init.apply(this,arguments);return this.formatPrefix="link",this.dataLabelOnNull=!0,v&&(g.fromNode=v.node.parentNode.point,g.visible=v.visible,g.toNode=v,this.id=g.toNode.id+"-"+g.fromNode.id),g},f.prototype.update=function(p,d,l,v){var g={id:this.id,formatPrefix:this.formatPrefix};P.prototype.update.call(this,p,this.isLink?!1:d,l,v),this.visible=this.toNode.visible,e(this,g),t(d,!0)&&this.series.chart.redraw(l)},f}(i.seriesTypes.column.prototype.pointClass)}),X(y,"Series/Treegraph/TreegraphLayout.js",[y["Series/Treegraph/TreegraphNode.js"]],function(P){return function(){function h(){}return h.createDummyNode=function(i,o,t,e){return e=new P,e.id=i.id+"-"+t,e.ancestor=i,e.children.push(o),e.parent=i.id,e.parentNode=i,e.point=o.point,e.level=o.level-t,e.relativeXPosition=o.relativeXPosition,e.visible=o.visible,i.children[o.relativeXPosition]=e,o.oldParentNode=i,o.relativeXPosition=0,o.parentNode=e,o.parent=e.id,e},h.prototype.calculatePositions=function(i){var o=i.nodeList;this.resetValues(o),(i=i.tree)&&(this.calculateRelativeX(i,0),this.beforeLayout(o),this.firstWalk(i),this.secondWalk(i,-i.preX),this.afterLayout(o))},h.prototype.beforeLayout=function(i){for(var o=0;o<i.length;o++)for(var t=i[o],e=0,s=0,f=t.children;s<f.length;s++){var p=f[s];if(p&&1<p.level-t.level)for(var d=p.level-t.level-1;0<d;)p=h.createDummyNode(t,p,d,e),d--;++e}},h.prototype.resetValues=function(i){for(var o=0;o<i.length;o++){var t=i[o];t.mod=0,t.ancestor=t,t.shift=0,t.thread=void 0,t.change=0,t.preX=0}},h.prototype.calculateRelativeX=function(i,o){for(var t=i.children,e=0,s=t.length;e<s;++e)this.calculateRelativeX(t[e],e);i.relativeXPosition=o},h.prototype.firstWalk=function(i){if(i.hasChildren()){for(var o=i.getLeftMostChild(),t=0,e=i.children;t<e.length;t++){var s=e[t];this.firstWalk(s),o=this.apportion(s,o)}this.executeShifts(i),o=i.getLeftMostChild(),t=i.getRightMostChild(),t=(o.preX+t.preX)/2,(o=i.getLeftSibling())?(i.preX=o.preX+1,i.mod=i.preX-t):i.preX=t}else(o=i.getLeftSibling())?(i.preX=o.preX+1,i.mod=i.preX):i.preX=0},h.prototype.secondWalk=function(i,o){i.yPosition=i.preX+o,i.xPosition=i.level;for(var t=0,e=i.children;t<e.length;t++)this.secondWalk(e[t],o+i.mod)},h.prototype.executeShifts=function(i){for(var o=0,t=0,e=i.children.length-1;0<=e;e--){var s=i.children[e];s.preX+=o,s.mod+=o,t+=s.change,o+=s.shift+t}},h.prototype.apportion=function(i,o){var t=i.getLeftSibling();if(t){for(var e=i,s=i,f=e.getLeftMostSibling(),p=e.mod,d=s.mod,l=t.mod,v=f.mod;t&&t.nextRight()&&e&&e.nextLeft();){t=t.nextRight(),f=f.nextLeft(),e=e.nextLeft(),s=s.nextRight(),s.ancestor=i;var g=t.preX+l-(e.preX+p)+1;0<g&&(this.moveSubtree(i.getAncestor(t,o),i,g),p+=g,d+=g),l+=t.mod,p+=e.mod,v+=f.mod,d+=s.mod}t&&t.nextRight()&&!s.nextRight()&&(s.thread=t.nextRight(),s.mod+=l-d),e&&e.nextLeft()&&!f.nextLeft()&&(f.thread=e.nextLeft(),f.mod+=p-v),o=i}return o},h.prototype.moveSubtree=function(i,o,t){var e=o.relativeXPosition-i.relativeXPosition;o.change-=t/e,o.shift+=t,o.preX+=t,o.mod+=t,i.change+=t/e},h.prototype.afterLayout=function(i){for(var o=0;o<i.length;o++){var t=i[o];t.oldParentNode&&(t.relativeXPosition=t.parentNode.relativeXPosition,t.parent=t.oldParentNode.parent,t.parentNode=t.oldParentNode,delete t.oldParentNode.children[t.relativeXPosition],t.oldParentNode.children[t.relativeXPosition]=t,t.oldParentNode=void 0)}},h}()}),X(y,"Series/Treegraph/TreegraphSeriesDefaults.js",[],function(){return{reversed:!1,marker:{radius:10,lineWidth:0,symbol:"circle",fillOpacity:1,states:{}},link:{color:"#666666",lineWidth:1,radius:10,cursor:"default",type:"curved"},collapseButton:{onlyOnHover:!0,enabled:!0,x:0,y:0,height:10,width:10,shape:"circle"},tooltip:{linkFormat:"{point.fromNode.id} â†’ {point.toNode.id}",pointFormat:"{point.id}"},dataLabels:{linkTextPath:{attributes:{startOffset:"50%"}},enabled:!0,linkFormatter:function(){return""},formatter:function(){return this.point.id}}}}),X(y,"Series/Treegraph/TreegraphSeries.js",[y["Series/PathUtilities.js"],y["Core/Series/SeriesRegistry.js"],y["Core/Renderer/SVG/SVGRenderer.js"],y["Series/Treegraph/TreegraphNode.js"],y["Series/Treegraph/TreegraphPoint.js"],y["Series/TreeUtilities.js"],y["Core/Utilities.js"],y["Series/Treegraph/TreegraphLink.js"],y["Series/Treegraph/TreegraphLayout.js"],y["Series/Treegraph/TreegraphSeriesDefaults.js"]],function(P,h,i,o,t,e,s,f,p,d){var l=this&&this.__extends||function(){var N=function(L,r){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var u in n)n.hasOwnProperty(u)&&(a[u]=n[u])},N(L,r)};return function(L,r){function a(){this.constructor=L}N(L,r),L.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),v=P.curvedPath,g=h.series.prototype;P=h.seriesTypes;var S=P.treemap,R=P.column,z=i.prototype.symbols,W=e.getLevelOptions;i=s.extend;var Y=s.isArray,_=s.merge,E=s.pick,H=s.relativeLength;return s=function(N){function L(){var r=N!==null&&N.apply(this,arguments)||this;return r.data=void 0,r.options=void 0,r.points=void 0,r.layoutModifier=void 0,r.nodeMap=void 0,r.tree=void 0,r.nodeList=[],r.layoutAlgorythm=void 0,r.links=[],r.mapOptionsToLevel=void 0,r}return l(L,N),L.prototype.init=function(){N.prototype.init.apply(this,arguments),this.layoutAlgorythm=new p},L.prototype.getLayoutModifiers=function(){var r=this,a=this.chart,n=this,u=a.plotSizeX,m=a.plotSizeY,c=1/0,T=-1/0,x=1/0,k=-1/0,w=0,C=0,O=0,j=0;this.points.forEach(function(M){var A=M.node;M=_(r.options.marker,(n.mapOptionsToLevel[M.node.level]||{}).marker,M.options.marker);var D=H(M.radius||0,Math.min(u,m)),B=M.symbol,F=B!=="circle"&&M.height?H(M.height,m):2*D;D=B!=="circle"&&M.width?H(M.width,u):2*D,A.nodeSizeX=D,A.nodeSizeY=F,A.xPosition<=c&&(c=A.xPosition,B=M.lineWidth||0,C=Math.max(D+B,C)),A.xPosition>=T&&(T=A.xPosition,B=M.lineWidth||0,w=Math.max(D+B,w)),A.yPosition<=x&&(x=A.yPosition,B=M.lineWidth||0,j=Math.max(F+B,j)),A.yPosition>=k&&(k=A.yPosition,B=M.lineWidth||0,O=Math.max(F+B,O))}),a=k===x?1:(m-(j+O)/2)/(k-x);var U=T===c?1:(u-(w+w)/2)/(T-c);return{ax:U,bx:T===c?u/2:-U*c+C/2,ay:a,by:k===x?m/2:-a*x+j/2}},L.prototype.getLinks=function(){var r=this,a=[];return this.data.forEach(function(n,u){u=r.mapOptionsToLevel[n.node.level||0]||{},n.node.parent?(u=_(u,n.options),n.linkToParent&&n.linkToParent.update?n.linkToParent.update(u,!1):(u=new r.LinkClass().init(r,u,void 0,n),n.linkToParent=u),n.linkToParent.index=a.push(n.linkToParent)-1):n.linkToParent&&(r.links.splice(n.linkToParent.index),n.linkToParent.destroy(),delete n.linkToParent)}),a},L.prototype.buildTree=function(r,a,n,u,m){var c=this.points[a];return n=c&&c.level||n,N.prototype.buildTree.call(this,r,a,n,u,m)},L.prototype.markerAttribs=function(){return{}},L.prototype.setCollapsedStatus=function(r,a){var n=this,u=r.point;u&&(u.collapsed=E(u.collapsed,(this.mapOptionsToLevel[r.level]||{}).collapsed),u.visible=a,a=a===!1?!1:!u.collapsed),r.children.forEach(function(m){n.setCollapsedStatus(m,a)})},L.prototype.drawTracker=function(){R.prototype.drawTracker.apply(this,arguments),R.prototype.drawTracker.call(this,this.links)},L.prototype.translate=function(){var r=this,a=this.options,n=e.updateRootId(this);g.translate.call(this);var u=this.tree=this.getTree(),m=this.nodeMap[n];n===""||m&&m.children.length||(this.setRootNode("",!1),n=this.rootNode,m=this.nodeMap[n]),this.mapOptionsToLevel=W({from:m.level+1,levels:a.levels,to:u.height,defaults:{levelIsConstant:this.options.levelIsConstant,colorByPoint:a.colorByPoint}}),this.setCollapsedStatus(u,!0),this.links=this.getLinks(),this.setTreeValues(u),this.layoutAlgorythm.calculatePositions(this),this.layoutModifier=this.getLayoutModifiers(),this.points.forEach(function(c){r.translateNode(c)}),this.points.forEach(function(c){c.linkToParent&&r.translateLink(c.linkToParent)})},L.prototype.translateLink=function(r){var a=r.fromNode,n=r.toNode,u=this.options.link.lineWidth,m=Math.round(u)%2/2,c=E(this.options.link.curveFactor,.5),T=E(r.options.link&&r.options.link.type,this.options.link.type);if(a.shapeArgs&&n.shapeArgs){var x=a.shapeArgs.width||0,k=this.chart.inverted,w=Math.floor((a.shapeArgs.y||0)+(a.shapeArgs.height||0)/2)+m,C=Math.floor((n.shapeArgs.y||0)+(n.shapeArgs.height||0)/2)+m,O=Math.floor((a.shapeArgs.x||0)+x)+m,j=Math.floor(n.shapeArgs.x||0)+m;k&&(O-=x,j+=n.shapeArgs.width||0),a=n.node.xPosition-a.node.xPosition,r.shapeType="path",x=(Math.abs(j-O)+x)/a-x,c=x*c*(k?-1:1),r.plotX=Math.floor((j+O)/2)+m,r.plotY=C,r.shapeArgs=T==="straight"?{d:[["M",O,w],["L",O+x*(k?-1:1),C],["L",j,C]]}:T==="curved"?{d:[["M",O,w],["C",O+c,w,O-c+x*(k?-1:1),C,O+x*(k?-1:1),C],["L",j,C]]}:{d:v([["M",O,w],["L",O+x*(k?-.5:.5),w],["L",O+x*(k?-.5:.5),C],["L",j,C]],this.options.link.radius)},r.dlBox={x:(O+j)/2,y:(w+C)/2,height:u,width:0},r.tooltipPos=k?[(this.chart.plotSizeY||0)-r.dlBox.y,(this.chart.plotSizeX||0)-r.dlBox.x]:[r.dlBox.x,r.dlBox.y]}},L.prototype.drawNodeLabels=function(r){for(var a=this.mapOptionsToLevel,n,u,m=0;m<r.length;m++){var c=r[m];u=a[c.node.level],n={style:{}},u&&u.dataLabels&&(n=_(n,u.dataLabels),this._hasPointLabels=!0),c.shapeArgs&&(n.style.width=c.shapeArgs.width,c.dataLabel&&c.dataLabel.css({width:c.shapeArgs.width+"px"})),c.dlOptions=_(n,c.options.dataLabels)}g.drawDataLabels.call(this,r)},L.prototype.drawDataLabels=function(){this.options.dataLabels&&(Y(this.options.dataLabels)||(this.options.dataLabels=[this.options.dataLabels]),this.drawNodeLabels(this.points),g.drawDataLabels.call(this,this.links))},L.prototype.destroy=function(){for(var r=0,a=this.links;r<a.length;r++)a[r].destroy();return g.destroy.apply(this,arguments)},L.prototype.pointAttribs=function(r,a){var n=this.mapOptionsToLevel[r.node.level||0]||{},u=r.options,m=n.states&&n.states[a]||{};r.options.marker=_(this.options.marker,n.marker,r.options.marker);var c=E(m.borderRadius,u.borderRadius,n.borderRadius,this.options.borderRadius),T=E(m.link&&m.link.color,u.link&&u.link.color,n.link&&n.link.color,this.options.link&&this.options.link.color);return n=E(m.link&&m.link.lineWidth,u.link&&u.link.lineWidth,n.link&&n.link.lineWidth,this.options.link&&this.options.link.lineWidth),a=g.pointAttribs.call(this,r,a),r.isLink?(a.stroke=T,a["stroke-width"]=n,delete a.fill):c&&(a.r=c),a},L.prototype.drawPoints=function(){N.prototype.drawPoints.apply(this,arguments),R.prototype.drawPoints.call(this,this.links)},L.prototype.translateNode=function(r){var a=this.chart,n=r.node,u=a.plotSizeY,m=a.plotSizeX,c=this.layoutModifier,T=c.ax*n.xPosition+c.bx,x=c.ay*n.yPosition+c.by;c=_(this.options.marker,(this.mapOptionsToLevel[n.level]||{}).marker,r.options.marker).symbol;var k=n.nodeSizeY,w=n.nodeSizeX,C=this.options.reversed;T=n.x=a.inverted?m-w/2-T:T-w/2,n=n.y=C?x-k/2:u-x-k/2,r.shapeType="path",r.plotX=T,r.plotY=n,r.shapeArgs={d:z[c||"circle"](T,n,w,k),x:T,y:n,width:w,height:k,cursor:r.node.isLeaf?"default":"pointer"},r.tooltipPos=a.inverted?[u-n-k/2,m-T-w/2]:[T+w/2,n]},L.defaultOptions=_(S.defaultOptions,d),L}(S),i(s.prototype,{pointClass:t,NodeClass:o,LinkClass:f}),h.registerSeriesType("treegraph",s),s}),X(y,"masters/modules/treegraph.src.js",[],function(){})})})(G);const q=I,$=V({__proto__:null,default:q},[I]);export{$ as t};
