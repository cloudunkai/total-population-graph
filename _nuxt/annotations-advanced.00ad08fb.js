function it(H,f){for(var I=0;I<f.length;I++){const C=f[I];if(typeof C!="string"&&!Array.isArray(C)){for(const b in C)if(b!=="default"&&!(b in H)){const E=Object.getOwnPropertyDescriptor(C,b);E&&Object.defineProperty(H,b,E.get?E:{enumerable:!0,get:()=>C[b]})}}}return Object.freeze(Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}))}var $={},nt={get exports(){return $},set exports(H){$=H}};(function(H){(function(f){H.exports?(f.default=f,H.exports=f):f(typeof Highcharts<"u"?Highcharts:void 0)})(function(f){function I(C,b,E,A){C.hasOwnProperty(b)||(C[b]=A.apply(null,E),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:b,module:C[b]}})))}f=f?f._modules:{},I(f,"Extensions/Annotations/AnnotationChart.js",[f["Core/Utilities.js"]],function(C){function b(a,x){return a=this.initAnnotation(a),this.options.annotations.push(a.options),e(x,!0)&&(a.redraw(),a.graphic.attr({opacity:1})),a}function E(){var a=this;a.plotBoxClip=this.renderer.clipRect(this.plotBox),a.controlPointsGroup=a.renderer.g("control-points").attr({zIndex:99}).clip(a.plotBoxClip).add(),a.options.annotations.forEach(function(x,y){if(!a.annotations.some(function(h){return h.options===x})){var d=a.initAnnotation(x);a.options.annotations[y]=d.options}}),a.drawAnnotations(),i(a,"redraw",a.drawAnnotations),i(a,"destroy",function(){a.plotBoxClip.destroy(),a.controlPointsGroup.destroy()}),i(a,"exportData",function(x){var y=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,d=!x.dataRows[1].xValues,h=a.options.lang&&a.options.lang.exportData&&a.options.lang.exportData.annotationHeader,c=function(O){if(y){var g=y(O);if(g!==!1)return g}return g=h+" "+O,d?{columnTitle:g,topLevelColumnTitle:g}:g},m=x.dataRows[0].length,v=a.options.exporting&&a.options.exporting.csv&&a.options.exporting.csv.annotations&&a.options.exporting.csv.annotations.itemDelimiter,N=a.options.exporting&&a.options.exporting.csv&&a.options.exporting.csv.annotations&&a.options.exporting.csv.annotations.join;a.annotations.forEach(function(O){O.options.labelOptions&&O.options.labelOptions.includeInDataExport&&O.labels.forEach(function(g){if(g.options.text){var P=g.options.text;g.points.forEach(function(w){var B=w.x,k=w.series.xAxis?w.series.xAxis.options.index:-1,j=!1;if(k===-1){w=x.dataRows[0].length;for(var _=Array(w),Y=0;Y<w;++Y)_[Y]="";_.push(P),_.xValues=[],_.xValues[k]=B,x.dataRows.push(_),j=!0}if(j||x.dataRows.forEach(function(S){!j&&S.xValues&&k!==void 0&&B===S.xValues[k]&&(N&&S.length>m?S[S.length-1]+=v+P:S.push(P),j=!0)}),!j){for(w=x.dataRows[0].length,_=Array(w),Y=0;Y<w;++Y)_[Y]="";_[0]=B,_.push(P),_.xValues=[],k!==void 0&&(_.xValues[k]=B),x.dataRows.push(_)}})}})});var X=0;x.dataRows.forEach(function(O){X=Math.max(X,O.length)});for(var D=X-x.dataRows[0].length,T=0;T<D;T++){var L=c(T+1);d?(x.dataRows[0].push(L.topLevelColumnTitle),x.dataRows[1].push(L.columnTitle)):x.dataRows[0].push(L)}})}function A(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach(function(a){a.redraw(),a.graphic.animate({opacity:1},a.animationConfig)})}function M(a){var x=this.annotations,y=a.coll==="annotations"?a:t(x,function(d){return d.options.id===a});y&&(o(y,"remove"),n(this.options.annotations,y.options),n(x,y),y.destroy())}function p(){this.annotations=[],this.options.annotations||(this.options.annotations=[])}function s(a){this.chart.hasDraggedAnnotation||a.apply(this,Array.prototype.slice.call(arguments,1))}var i=C.addEvent,n=C.erase,t=C.find,o=C.fireEvent,e=C.pick,r=C.wrap,u=[],l;return function(a){a.compose=function(x,y,d){u.indexOf(y)===-1&&(u.push(y),i(y,"afterInit",p),y=y.prototype,y.addAnnotation=b,y.callbacks.push(E),y.collectionsWithInit.annotations=[b],y.collectionsWithUpdate.push("annotations"),y.drawAnnotations=A,y.removeAnnotation=M,y.initAnnotation=function(h){return h=new(x.types[h.type]||x)(this,h),this.annotations.push(h),h}),u.indexOf(d)===-1&&(u.push(d),r(d.prototype,"onContainerMouseDown",s))}}(l||(l={})),l}),I(f,"Extensions/Annotations/AnnotationDefaults.js",[f["Core/Utilities.js"]],function(C){var b=C.defined;return{visible:!0,animation:{},crop:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"#000000",borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return b(this.y)?""+this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{events:{},style:{cursor:"pointer",fill:"#ffffff",stroke:"#000000","stroke-width":2},height:10,symbol:"circle",visible:!1,width:10},events:{},zIndex:6}}),I(f,"Extensions/Annotations/EventEmitter.js",[f["Core/Globals.js"],f["Core/Utilities.js"]],function(C,b){var E=C.doc,A=C.isTouchDevice,M=b.addEvent,p=b.fireEvent,s=b.objectEach,i=b.pick,n=b.removeEvent;return function(){function t(){}return t.prototype.addEvents=function(){var o=this,e=function(u){M(u,A?"touchstart":"mousedown",function(l){o.onMouseDown(l)},{passive:!1})};if(e(this.graphic.element),(o.labels||[]).forEach(function(u){u.options.useHTML&&u.graphic.text&&e(u.graphic.text.element)}),s(o.options.events,function(u,l){var a=function(x){l==="click"&&o.cancelClick||u.call(o,o.chart.pointer.normalize(x),o.target)};(o.nonDOMEvents||[]).indexOf(l)===-1?o.graphic.on(l,a):M(o,l,a,{passive:!1})}),o.options.draggable&&(M(o,"drag",o.onDrag),!o.graphic.renderer.styledMode)){var r={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[o.options.draggable]};o.graphic.css(r),(o.labels||[]).forEach(function(u){u.options.useHTML&&u.graphic.text&&u.graphic.text.css(r)})}o.isUpdating||p(o,"add")},t.prototype.destroy=function(){this.removeDocEvents(),n(this),this.hcEvents=null},t.prototype.mouseMoveToRadians=function(o,e,r){var u=o.prevChartY-r,l=o.prevChartX-e;return r=o.chartY-r,o=o.chartX-e,this.chart.inverted&&(e=l,l=u,u=e,e=o,o=r,r=e),Math.atan2(r,o)-Math.atan2(u,l)},t.prototype.mouseMoveToScale=function(o,e,r){return e=(o.chartX-e||1)/(o.prevChartX-e||1),o=(o.chartY-r||1)/(o.prevChartY-r||1),this.chart.inverted&&(r=o,o=e,e=r),{x:e,y:o}},t.prototype.mouseMoveToTranslation=function(o){var e=o.chartX-o.prevChartX;if(o=o.chartY-o.prevChartY,this.chart.inverted){var r=o;o=e,e=r}return{x:e,y:o}},t.prototype.onDrag=function(o){if(this.chart.isInsidePlot(o.chartX-this.chart.plotLeft,o.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){var e=this.mouseMoveToTranslation(o);this.options.draggable==="x"&&(e.y=0),this.options.draggable==="y"&&(e.x=0),this.points.length?this.translate(e.x,e.y):(this.shapes.forEach(function(r){return r.translate(e.x,e.y)}),this.labels.forEach(function(r){return r.translate(e.x,e.y)})),this.redraw(!1)}},t.prototype.onMouseDown=function(o){if(o.preventDefault&&o.preventDefault(),o.button!==2){var e=this,r=e.chart.pointer;o=r.normalize(o);var u=o.chartX,l=o.chartY;e.cancelClick=!1,e.chart.hasDraggedAnnotation=!0,e.removeDrag=M(E,A?"touchmove":"mousemove",function(a){e.hasDragged=!0,a=r.normalize(a),a.prevChartX=u,a.prevChartY=l,p(e,"drag",a),u=a.chartX,l=a.chartY},A?{passive:!1}:void 0),e.removeMouseUp=M(E,A?"touchend":"mouseup",function(a){var x=i(e.target&&e.target.annotation,e.target);x&&(x.cancelClick=e.hasDragged),e.cancelClick=e.hasDragged,e.hasDragged=!1,e.chart.hasDraggedAnnotation=!1,p(i(x,e),"afterUpdate"),e.onMouseUp(a)},A?{passive:!1}:void 0)}},t.prototype.onMouseUp=function(o){var e=this.chart;o=this.target||this;var r=e.options.annotations;e=e.annotations.indexOf(o),this.removeDocEvents(),r[e]=o.options},t.prototype.removeDocEvents=function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},t}()}),I(f,"Extensions/Annotations/ControlPoint.js",[f["Extensions/Annotations/EventEmitter.js"],f["Core/Utilities.js"]],function(C,b){var E=this&&this.__extends||function(){var p=function(s,i){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o])},p(s,i)};return function(s,i){function n(){this.constructor=s}p(s,i),s.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),A=b.merge,M=b.pick;return C=function(p){function s(i,n,t,o){var e=p.call(this)||this;return e.graphic=void 0,e.nonDOMEvents=["drag"],e.chart=i,e.target=n,e.options=t,e.index=M(t.index,o),e}return E(s,p),s.prototype.destroy=function(){p.prototype.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.options=this.target=this.chart=null},s.prototype.redraw=function(i){this.graphic[i?"animate":"attr"](this.options.positioner.call(this,this.target))},s.prototype.render=function(){var i=this.chart,n=this.options;this.graphic=i.renderer.symbol(n.symbol,0,0,n.width,n.height).add(i.controlPointsGroup).css(n.style),this.setVisibility(n.visible),this.addEvents()},s.prototype.setVisibility=function(i){this.graphic[i?"show":"hide"](),this.options.visible=i},s.prototype.update=function(i){var n=this.chart,t=this.target,o=this.index;i=A(!0,this.options,i),this.destroy(),this.constructor(n,t,i,o),this.render(n.controlPointsGroup),this.redraw()},s}(C),C}),I(f,"Extensions/Annotations/MockPoint.js",[f["Core/Series/SeriesRegistry.js"],f["Core/Utilities.js"]],function(C,b){var E=C.series.prototype,A=b.defined,M=b.fireEvent;return C=function(){function p(s,i,n){this.plotY=this.plotX=void 0,this.mock=!0,this.series={visible:!0,chart:s,getPlotBox:E.getPlotBox},this.target=i||null,this.options=n,this.applyOptions(this.getOptions())}return p.fromPoint=function(s){return new p(s.series.chart,null,{x:s.x,y:s.y,xAxis:s.series.xAxis,yAxis:s.series.yAxis})},p.pointToPixels=function(s,i){var n=s.series,t=n.chart,o=s.plotX||0,e=s.plotY||0;return t.inverted&&(s.mock?(o=s.plotY,e=s.plotX):(o=t.plotWidth-(s.plotY||0),e=t.plotHeight-(s.plotX||0))),n&&!i&&(s=n.getPlotBox(),o+=s.translateX,e+=s.translateY),{x:o,y:e}},p.pointToOptions=function(s){return{x:s.x,y:s.y,xAxis:s.series.xAxis,yAxis:s.series.yAxis}},p.prototype.applyOptions=function(s){this.command=s.command,this.setAxis(s,"x"),this.setAxis(s,"y"),this.refresh()},p.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},p.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},p.prototype.hasDynamicOptions=function(){return typeof this.options=="function"},p.prototype.isInsidePlot=function(){var s=this.plotX,i=this.plotY,n=this.series.xAxis,t=this.series.yAxis,o={x:s,y:i,isInsidePlot:!0,options:{}};return n&&(o.isInsidePlot=A(s)&&0<=s&&s<=n.len),t&&(o.isInsidePlot=o.isInsidePlot&&A(i)&&0<=i&&i<=t.len),M(this.series.chart,"afterIsInsidePlot",o),o.isInsidePlot},p.prototype.refresh=function(){var s=this.series,i=s.xAxis;s=s.yAxis;var n=this.getOptions();i?(this.x=n.x,this.plotX=i.toPixels(n.x,!0)):(this.x=void 0,this.plotX=n.x),s?(this.y=n.y,this.plotY=s.toPixels(n.y,!0)):(this.y=null,this.plotY=n.y),this.isInside=this.isInsidePlot()},p.prototype.refreshOptions=function(){var s=this.series,i=s.xAxis;s=s.yAxis,this.x=this.options.x=i?this.options.x=i.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=s?s.toValue(this.plotY,!0):this.plotY},p.prototype.rotate=function(s,i,n){if(!this.hasDynamicOptions()){var t=Math.cos(n);n=Math.sin(n);var o=this.plotX-s,e=this.plotY-i;this.plotX=o*t-e*n+s,this.plotY=o*n+e*t+i,this.refreshOptions()}},p.prototype.scale=function(s,i,n,t){if(!this.hasDynamicOptions()){var o=this.plotY*t;this.plotX=(1-n)*s+this.plotX*n,this.plotY=(1-t)*i+o,this.refreshOptions()}},p.prototype.setAxis=function(s,i){i+="Axis",s=s[i];var n=this.series.chart;this.series[i]=typeof s=="object"?s:A(s)?n[i][s]||n.get(s):null},p.prototype.toAnchor=function(){var s=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(s[0]=this.plotY,s[1]=this.plotX),s},p.prototype.translate=function(s,i,n,t){this.hasDynamicOptions()||(this.plotX+=n,this.plotY+=t,this.refreshOptions())},p}(),C}),I(f,"Extensions/Annotations/Controllables/Controllable.js",[f["Extensions/Annotations/ControlPoint.js"],f["Extensions/Annotations/MockPoint.js"],f["Core/Tooltip.js"],f["Core/Utilities.js"]],function(C,b,E,A){var M=A.isObject,p=A.isString,s=A.merge,i=A.splat;return A=function(){function n(t,o,e,r){this.graphic=void 0,this.annotation=t,this.chart=t.chart,this.collection=r==="label"?"labels":"shapes",this.options=o,this.points=[],this.controlPoints=[],this.index=e,this.itemType=r,this.init(t,o,e)}return n.prototype.addControlPoints=function(){var t=this,o=this.controlPoints,e=this.options.controlPoints||[];e.forEach(function(r,u){r=s(t.options.controlPointOptions,r),r.index||(r.index=u),e[u]=r,o.push(new C(t.chart,t,r))})},n.prototype.anchor=function(t){var o=t.series.getPlotBox(),e=t.series.chart,r=t.mock?t.toAnchor():E.prototype.getAnchor.call({chart:t.series.chart},t);return r={x:r[0]+(this.options.x||0),y:r[1]+(this.options.y||0),height:r[2]||0,width:r[3]||0},{relativePosition:r,absolutePosition:s(r,{x:r.x+(t.mock?o.translateX:e.plotLeft),y:r.y+(t.mock?o.translateY:e.plotTop)})}},n.prototype.attr=function(){this.graphic.attr.apply(this.graphic,arguments)},n.prototype.attrsFromOptions=function(t){var o=this.constructor.attrsMap,e={},r=this.chart.styledMode,u;for(u in t){var l=o[u];typeof o[u]>"u"||r&&["fill","stroke","stroke-width"].indexOf(l)!==-1||(e[l]=t[u])}return e},n.prototype.destroy=function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach(function(t){return t.destroy()}),this.options=this.controlPoints=this.points=this.chart=null,this.annotation&&(this.annotation=null)},n.prototype.getPointsOptions=function(){var t=this.options;return t.points||t.point&&i(t.point)},n.prototype.init=function(t,o,e){this.annotation=t,this.chart=t.chart,this.options=o,this.points=[],this.controlPoints=[],this.index=e,this.linkPoints(),this.addControlPoints()},n.prototype.linkPoints=function(){var t=this.getPointsOptions(),o=this.points,e=t&&t.length||0,r;for(r=0;r<e;r++){var u=this.point(t[r],o[r]);if(!u){o.length=0;return}u.mock&&u.refresh(),o[r]=u}return o},n.prototype.point=function(t,o){return t&&t.series?t:(o&&o.series!==null||(M(t)?o=new b(this.chart,this,t):p(t)?o=this.chart.get(t)||null:typeof t=="function"&&(o=t.call(o,this),o=o.series?o:new b(this.chart,this,t))),o)},n.prototype.render=function(t){this.controlPoints.forEach(function(o){return o.render()})},n.prototype.redraw=function(t){this.controlPoints.forEach(function(o){return o.redraw(t)})},n.prototype.rotate=function(t,o,e){this.transform("rotate",t,o,e)},n.prototype.scale=function(t,o,e,r){this.transform("scale",t,o,e,r)},n.prototype.setControlPointsVisibility=function(t){this.controlPoints.forEach(function(o){o.setVisibility(t)})},n.prototype.shouldBeDrawn=function(){return!!this.points.length},n.prototype.transform=function(t,o,e,r,u){var l=this;if(this.chart.inverted){var a=o;o=e,e=a}this.points.forEach(function(x,y){return l.transformPoint(t,o,e,r,u,y)},this)},n.prototype.transformPoint=function(t,o,e,r,u,l){var a=this.points[l];a.mock||(a=this.points[l]=b.fromPoint(a)),a[t](o,e,r,u)},n.prototype.translate=function(t,o){this.transform("translate",null,null,t,o)},n.prototype.translatePoint=function(t,o,e){this.transformPoint("translate",null,null,t,o,e)},n.prototype.translateShape=function(t,o,e){var r=this.annotation.chart,u=this.annotation.userOptions,l=r.annotations.indexOf(this.annotation);r=r.options.annotations[l],this.translatePoint(t,o,0),e&&this.translatePoint(t,o,1),r[this.collection][this.index].point=this.options.point,u[this.collection][this.index].point=this.options.point},n.prototype.update=function(t){var o=this.annotation;t=s(!0,this.options,t);var e=this.graphic.parentGroup;this.destroy(),this.constructor(o,t,this.index,this.itemType),this.render(e),this.redraw()},n}(),A}),I(f,"Extensions/Annotations/Controllables/ControllableDefaults.js",[],function(){return{defaultMarkers:{arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}}}}),I(f,"Extensions/Annotations/Controllables/ControllablePath.js",[f["Extensions/Annotations/Controllables/Controllable.js"],f["Extensions/Annotations/Controllables/ControllableDefaults.js"],f["Core/Globals.js"],f["Core/Utilities.js"]],function(C,b,E,A){function M(d){return function(h){this.attr(d,"url(#"+h+")")}}function p(){this.options.defs=r(n,this.options.defs||{})}function s(d,h){var c={attributes:{id:d}},m={stroke:h.color||"none",fill:h.color||"rgba(0, 0, 0, 0.75)"};return c.children=h.children&&h.children.map(function(v){return r(m,v)}),h=r(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},h,c),h=this.definition(h),h.id=d,h}var i=this&&this.__extends||function(){var d=function(h,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var N in v)v.hasOwnProperty(N)&&(m[N]=v[N])},d(h,c)};return function(h,c){function m(){this.constructor=h}d(h,c),h.prototype=c===null?Object.create(c):(m.prototype=c.prototype,new m)}}(),n=b.defaultMarkers,t=A.addEvent,o=A.defined,e=A.extend,r=A.merge,u=A.uniqueKey,l=[],a=M("marker-end"),x=M("marker-start"),y="rgba(192,192,192,"+(E.svg?1e-4:.002)+")";return function(d){function h(c,m,v){return c=d.call(this,c,m,v,"shape")||this,c.type="path",c}return i(h,d),h.compose=function(c,m){l.indexOf(c)===-1&&(l.push(c),t(c,"afterGetContainer",p)),l.indexOf(m)===-1&&(l.push(m),m.prototype.addMarker=s)},h.prototype.toD=function(){var c=this.options.d;if(c)return typeof c=="function"?c.call(this):c;c=this.points;var m=c.length,v=[],N=m,X=c[0],D=N&&this.anchor(X).absolutePosition,T=0;if(D)for(v.push(["M",D.x,D.y]);++T<m&&N;)X=c[T],N=X.command||"L",D=this.anchor(X).absolutePosition,N==="M"?v.push([N,D.x,D.y]):N==="L"?v.push([N,D.x,D.y]):N==="Z"&&v.push([N]),N=X.series.visible;return N&&this.graphic?this.chart.renderer.crispLine(v,this.graphic.strokeWidth()):null},h.prototype.shouldBeDrawn=function(){return d.prototype.shouldBeDrawn.call(this)||!!this.options.d},h.prototype.render=function(c){var m=this.options,v=this.attrsFromOptions(m);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(v).add(c),m.className&&this.graphic.addClass(m.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(c),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:y,fill:y,"stroke-width":this.graphic.strokeWidth()+2*m.snap}),d.prototype.render.call(this),e(this.graphic,{markerStartSetter:x,markerEndSetter:a}),this.setMarkers(this)},h.prototype.redraw=function(c){if(this.graphic){var m=this.toD(),v=c?"animate":"attr";m?(this.graphic[v]({d:m}),this.tracker[v]({d:m})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!m}d.prototype.redraw.call(this,c)},h.prototype.setMarkers=function(c){var m=c.options,v=c.chart,N=v.options.defs,X=m.fill,D=o(X)&&X!=="none"?X:m.stroke;["markerStart","markerEnd"].forEach(function(T){var L=m[T],O;if(L){for(O in N){var g=N[O];if((L===(g.attributes&&g.attributes.id)||L===g.id)&&g.tagName==="marker"){var P=g;break}}P&&(L=c[T]=v.renderer.addMarker((m.id||u())+"-"+L,r(P,{color:D})),c.attr(T,L.getAttribute("id")))}})},h.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},h}(C)}),I(f,"Extensions/Annotations/Controllables/ControllableRect.js",[f["Extensions/Annotations/Controllables/Controllable.js"],f["Extensions/Annotations/Controllables/ControllablePath.js"],f["Core/Utilities.js"]],function(C,b,E){var A=this&&this.__extends||function(){var p=function(s,i){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o])},p(s,i)};return function(s,i){function n(){this.constructor=s}p(s,i),s.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),M=E.merge;return function(p){function s(i,n,t){return i=p.call(this,i,n,t,"shape")||this,i.type="rect",i.translate=p.prototype.translateShape,i}return A(s,p),s.prototype.render=function(i){var n=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(n).add(i),p.prototype.render.call(this)},s.prototype.redraw=function(i){if(this.graphic){var n=this.anchor(this.points[0]).absolutePosition;n?this.graphic[i?"animate":"attr"]({x:n.x,y:n.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=!!n}p.prototype.redraw.call(this,i)},s.attrsMap=M(b.attrsMap,{width:"width",height:"height"}),s}(C)}),I(f,"Extensions/Annotations/Controllables/ControllableCircle.js",[f["Extensions/Annotations/Controllables/Controllable.js"],f["Extensions/Annotations/Controllables/ControllablePath.js"],f["Core/Utilities.js"]],function(C,b,E){var A=this&&this.__extends||function(){var p=function(s,i){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o])},p(s,i)};return function(s,i){function n(){this.constructor=s}p(s,i),s.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),M=E.merge;return function(p){function s(i,n,t){return i=p.call(this,i,n,t,"shape")||this,i.type="circle",i.translate=p.prototype.translateShape,i}return A(s,p),s.prototype.redraw=function(i){if(this.graphic){var n=this.anchor(this.points[0]).absolutePosition;n?this.graphic[i?"animate":"attr"]({x:n.x,y:n.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!n}p.prototype.redraw.call(this,i)},s.prototype.render=function(i){var n=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(n).add(i),p.prototype.render.call(this)},s.prototype.setRadius=function(i){this.options.r=i},s.attrsMap=M(b.attrsMap,{r:"r"}),s}(C)}),I(f,"Extensions/Annotations/Controllables/ControllableEllipse.js",[f["Extensions/Annotations/Controllables/Controllable.js"],f["Extensions/Annotations/Controllables/ControllablePath.js"],f["Core/Utilities.js"]],function(C,b,E){var A=this&&this.__extends||function(){var s=function(i,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])},s(i,n)};return function(i,n){function t(){this.constructor=i}s(i,n),i.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),M=E.merge,p=E.defined;return function(s){function i(n,t,o){return n=s.call(this,n,t,o,"shape")||this,n.type="ellipse",n}return A(i,s),i.prototype.init=function(n,t,o){p(t.yAxis)&&t.points.forEach(function(e){e.yAxis=t.yAxis}),p(t.xAxis)&&t.points.forEach(function(e){e.xAxis=t.xAxis}),s.prototype.init.call(this,n,t,o)},i.prototype.render=function(n){this.graphic=this.annotation.chart.renderer.createElement("ellipse").attr(this.attrsFromOptions(this.options)).add(n),s.prototype.render.call(this)},i.prototype.translate=function(n,t){s.prototype.translateShape.call(this,n,t,!0)},i.prototype.getDistanceFromLine=function(n,t,o,e){return Math.abs((t.y-n.y)*o-(t.x-n.x)*e+t.x*n.y-t.y*n.x)/Math.sqrt((t.y-n.y)*(t.y-n.y)+(t.x-n.x)*(t.x-n.x))},i.prototype.getAttrs=function(n,t){var o=n.x,e=n.y,r=t.x,u=t.y;t=(o+r)/2,n=(e+u)/2;var l=Math.sqrt((o-r)*(o-r)/4+(e-u)*(e-u)/4);return e=180*Math.atan((u-e)/(r-o))/Math.PI,t<o&&(e+=180),o=this.getRY(),{cx:t,cy:n,rx:l,ry:o,angle:e}},i.prototype.getRY=function(){var n=this.getYAxis();return p(n)?Math.abs(n.toPixels(this.options.ry)-n.toPixels(0)):this.options.ry},i.prototype.getYAxis=function(){return this.chart.yAxis[this.options.yAxis]},i.prototype.getAbsolutePosition=function(n){return this.anchor(n).absolutePosition},i.prototype.redraw=function(n){if(this.graphic){var t=this.getAbsolutePosition(this.points[0]),o=this.getAbsolutePosition(this.points[1]);o=this.getAttrs(t,o),t?this.graphic[n?"animate":"attr"]({cx:o.cx,cy:o.cy,rx:o.rx,ry:o.ry,rotation:o.angle,rotationOriginX:o.cx,rotationOriginY:o.cy}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!t}s.prototype.redraw.call(this,n)},i.prototype.setYRadius=function(n){var t=this.annotation.userOptions.shapes;this.options.ry=n,t&&t[0]&&(t[0].ry=n,t[0].ry=n)},i.attrsMap=M(b.attrsMap,{ry:"ry"}),i}(C)}),I(f,"Extensions/Annotations/Controllables/ControllableLabel.js",[f["Extensions/Annotations/Controllables/Controllable.js"],f["Core/FormatUtilities.js"],f["Extensions/Annotations/MockPoint.js"],f["Core/Tooltip.js"],f["Core/Utilities.js"]],function(C,b,E,A,M){function p(r,u,l,a,x){var y=x&&x.anchorX;x=x&&x.anchorY;var d=l/2;if(t(y)&&t(x)){var h=[["M",y,x]],c=u-x;0>c&&(c=-a-c),c<l&&(d=y<r+l/2?c:l-c),x>u+a?h.push(["L",r+d,u+a]):x<u?h.push(["L",r+d,u]):y<r?h.push(["L",r,u+a/2]):y>r+l&&h.push(["L",r+l,u+a/2])}return h||[]}var s=this&&this.__extends||function(){var r=function(u,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,x){a.__proto__=x}||function(a,x){for(var y in x)x.hasOwnProperty(y)&&(a[y]=x[y])},r(u,l)};return function(u,l){function a(){this.constructor=u}r(u,l),u.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)}}(),i=b.format,n=M.extend,t=M.isNumber,o=M.pick,e=[];return function(r){function u(l,a,x){return r.call(this,l,a,x,"label")||this}return s(u,r),u.alignedPosition=function(l,a){var x=l.align,y=l.verticalAlign,d=(a.x||0)+(l.x||0),h=(a.y||0)+(l.y||0),c,m;return x==="right"?c=1:x==="center"&&(c=2),c&&(d+=(a.width-(l.width||0))/c),y==="bottom"?m=1:y==="middle"&&(m=2),m&&(h+=(a.height-(l.height||0))/m),{x:Math.round(d),y:Math.round(h)}},u.compose=function(l){e.indexOf(l)===-1&&(e.push(l),l.prototype.symbols.connector=p)},u.justifiedOptions=function(l,a,x,y){var d=x.align,h=x.verticalAlign,c=a.box?0:a.padding||0,m=a.getBBox();a={align:d,verticalAlign:h,x:x.x,y:x.y,width:a.width,height:a.height},x=(y.x||0)-l.plotLeft,y=(y.y||0)-l.plotTop;var v=x+c;return 0>v&&(d==="right"?a.align="left":a.x=(a.x||0)-v),v=x+m.width-c,v>l.plotWidth&&(d==="left"?a.align="right":a.x=(a.x||0)+l.plotWidth-v),v=y+c,0>v&&(h==="bottom"?a.verticalAlign="top":a.y=(a.y||0)-v),v=y+m.height-c,v>l.plotHeight&&(h==="top"?a.verticalAlign="bottom":a.y=(a.y||0)+l.plotHeight-v),a},u.prototype.translatePoint=function(l,a){r.prototype.translatePoint.call(this,l,a,0)},u.prototype.translate=function(l,a){var x=this.annotation.chart,y=this.annotation.userOptions,d=x.annotations.indexOf(this.annotation);d=x.options.annotations[d],x.inverted&&(x=l,l=a,a=x),this.options.x+=l,this.options.y+=a,d[this.collection][this.index].x=this.options.x,d[this.collection][this.index].y=this.options.y,y[this.collection][this.index].x=this.options.x,y[this.collection][this.index].y=this.options.y},u.prototype.render=function(l){var a=this.options,x=this.attrsFromOptions(a),y=a.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,a.shape,null,null,a.useHTML,null,"annotation-label").attr(x).add(l),this.annotation.chart.styledMode||(y.color==="contrast"&&(y.color=this.annotation.chart.renderer.getContrast(-1<u.shapesWithoutBackground.indexOf(a.shape)?"#FFFFFF":a.backgroundColor)),this.graphic.css(a.style).shadow(a.shadow)),a.className&&this.graphic.addClass(a.className),this.graphic.labelrank=a.labelrank,r.prototype.render.call(this)},u.prototype.redraw=function(l){var a=this.options,x=this.text||a.format||a.text,y=this.graphic,d=this.points[0];y?(y.attr({text:x?i(String(x),d.getLabelConfig(),this.annotation.chart):a.formatter.call(d,this)}),a=this.anchor(d),(x=this.position(a))?(y.alignAttr=x,x.anchorX=a.absolutePosition.x,x.anchorY=a.absolutePosition.y,y[l?"animate":"attr"](x)):y.attr({x:0,y:-9999}),y.placed=!!x,r.prototype.redraw.call(this,l)):this.redraw(l)},u.prototype.anchor=function(l){var a=r.prototype.anchor.apply(this,arguments),x=this.options.x||0,y=this.options.y||0;return a.absolutePosition.x-=x,a.absolutePosition.y-=y,a.relativePosition.x-=x,a.relativePosition.y-=y,a},u.prototype.position=function(l){var a=this.graphic,x=this.annotation.chart,y=this.points[0],d=this.options,h=l.absolutePosition,c=l.relativePosition,m=y.series.visible&&E.prototype.isInsidePlot.call(y);if(a&&m){var v=a.width;l=v===void 0?0:v,v=a.height;var N=v===void 0?0:v;d.distance?v=A.prototype.getPosition.call({chart:x,distance:o(d.distance,16)},l,N,{plotX:c.x,plotY:c.y,negative:y.negative,ttBelow:y.ttBelow,h:c.height||c.width}):d.positioner?v=d.positioner.call(this):(y={x:h.x,y:h.y,width:0,height:0},v=u.alignedPosition(n(d,{width:l,height:N}),y),this.options.overflow==="justify"&&(v=u.alignedPosition(u.justifiedOptions(x,a,d,v),y))),d.crop&&(a=v.x-x.plotLeft,d=v.y-x.plotTop,m=x.isInsidePlot(a,d)&&x.isInsidePlot(a+l,d+N))}return m?v:null},u.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},u.shapesWithoutBackground=["connector"],u}(C)}),I(f,"Extensions/Annotations/Controllables/ControllableImage.js",[f["Extensions/Annotations/Controllables/Controllable.js"],f["Extensions/Annotations/Controllables/ControllableLabel.js"]],function(C,b){var E=this&&this.__extends||function(){var A=function(M,p){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var n in i)i.hasOwnProperty(n)&&(s[n]=i[n])},A(M,p)};return function(M,p){function s(){this.constructor=M}A(M,p),M.prototype=p===null?Object.create(p):(s.prototype=p.prototype,new s)}}();return function(A){function M(p,s,i){return p=A.call(this,p,s,i,"shape")||this,p.type="image",p.translate=A.prototype.translateShape,p}return E(M,A),M.prototype.render=function(p){var s=this.attrsFromOptions(this.options),i=this.options;this.graphic=this.annotation.chart.renderer.image(i.src,0,-9e9,i.width,i.height).attr(s).add(p),this.graphic.width=i.width,this.graphic.height=i.height,A.prototype.render.call(this)},M.prototype.redraw=function(p){if(this.graphic){var s=this.anchor(this.points[0]);(s=b.prototype.position.call(this,s))?this.graphic[p?"animate":"attr"]({x:s.x,y:s.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!s}A.prototype.redraw.call(this,p)},M.attrsMap={width:"width",height:"height",zIndex:"zIndex"},M}(C)}),I(f,"Core/Chart/ChartNavigationComposition.js",[],function(){var C;return function(b){b.compose=function(A){return A.navigation||(A.navigation=new E(A)),A};var E=function(){function A(M){this.updates=[],this.chart=M}return A.prototype.addUpdate=function(M){this.chart.navigation.updates.push(M)},A.prototype.update=function(M,p){var s=this;this.updates.forEach(function(i){i.call(s.chart,M,p)})},A}();b.Additions=E}(C||(C={})),C}),I(f,"Extensions/Annotations/NavigationBindingsUtilities.js",[f["Core/Utilities.js"]],function(C){var b=C.defined,E=C.isNumber,A=C.pick,M={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:M,getAssignedAxis:function(p){return p.filter(function(s){var i=s.axis.getExtremes(),n=i.min;i=i.max;var t=A(s.axis.minPointOffset,0);return E(n)&&E(i)&&s.value>=n-t&&s.value<=i+t&&!s.axis.options.isInternal})[0]},getFieldType:function(p,s){return p=M[p],s=typeof s,b(p)&&(s=p),{string:"text",number:"number",boolean:"checkbox"}[s]}}}),I(f,"Extensions/Annotations/NavigationBindingsDefaults.js",[f["Extensions/Annotations/NavigationBindingsUtilities.js"],f["Core/Utilities.js"]],function(C,b){var E=C.getAssignedAxis,A=b.isNumber,M=b.merge;return{lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(p){var s=this.chart.pointer.getCoordinates(p);p=E(s.xAxis),s=E(s.yAxis);var i=this.chart.options.navigation;if(p&&s)return this.chart.addAnnotation(M({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:p.value,y:s.value,xAxis:p.axis.options.index,yAxis:s.axis.options.index},r:5}]},i.annotationsOptions,i.bindings.circleAnnotation.annotationsOptions))},steps:[function(p,s){var i=s.options.shapes;if(i=i&&i[0]&&i[0].point||{},A(i.xAxis)&&A(i.yAxis)){var n=this.chart.inverted,t=this.chart.xAxis[i.xAxis].toPixels(i.x);i=this.chart.yAxis[i.yAxis].toPixels(i.y),n=Math.max(Math.sqrt(Math.pow(n?i-p.chartX:t-p.chartX,2)+Math.pow(n?t-p.chartY:i-p.chartY,2)),5)}s.update({shapes:[{r:n}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(p){var s=this.chart.pointer.getCoordinates(p);p=E(s.xAxis),s=E(s.yAxis);var i=this.chart.options.navigation;if(p&&s)return this.chart.addAnnotation(M({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:p.axis.options.index,yAxis:s.axis.options.index,points:[{x:p.value,y:s.value},{x:p.value,y:s.value}],ry:1}]},i.annotationsOptions,i.bindings.ellipseAnnotation.annotationOptions))},steps:[function(p,s){s=s.shapes[0];var i=s.getAbsolutePosition(s.points[1]);s.translatePoint(p.chartX-i.x,p.chartY-i.y,1),s.redraw(!1)},function(p,s){s=s.shapes[0];var i=s.getAbsolutePosition(s.points[0]),n=s.getAbsolutePosition(s.points[1]);p=s.getDistanceFromLine(i,n,p.chartX,p.chartY),i=s.getYAxis(),p=Math.abs(i.toValue(0)-i.toValue(p)),s.setYRadius(p),s.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(p){p=this.chart.pointer.getCoordinates(p);var s=E(p.xAxis),i=E(p.yAxis);if(s&&i){p=s.value;var n=i.value;s=s.axis.options.index,i=i.axis.options.index;var t=this.chart.options.navigation;return this.chart.addAnnotation(M({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:s,yAxis:i,x:p,y:n},{xAxis:s,yAxis:i,x:p,y:n},{xAxis:s,yAxis:i,x:p,y:n},{xAxis:s,yAxis:i,x:p,y:n},{command:"Z"}]}]},t.annotationsOptions,t.bindings.rectangleAnnotation.annotationsOptions))}},steps:[function(p,s){var i=s.options.shapes;i=i&&i[0]&&i[0].points||[];var n=this.chart.pointer.getCoordinates(p);p=E(n.xAxis),n=E(n.yAxis),p&&n&&(p=p.value,n=n.value,i[1].x=p,i[2].x=p,i[2].y=n,i[3].y=n,s.update({shapes:[{points:i}]}))}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(p){var s=this.chart.pointer.getCoordinates(p);p=E(s.xAxis),s=E(s.yAxis);var i=this.chart.options.navigation;if(p&&s)return this.chart.addAnnotation(M({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:p.axis.options.index,yAxis:s.axis.options.index,x:p.value,y:s.value},overflow:"none",crop:!0}]},i.annotationsOptions,i.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}}),I(f,"Extensions/Annotations/NavigationBindings.js",[f["Core/Chart/ChartNavigationComposition.js"],f["Core/Defaults.js"],f["Core/FormatUtilities.js"],f["Core/Globals.js"],f["Extensions/Annotations/NavigationBindingsDefaults.js"],f["Extensions/Annotations/NavigationBindingsUtilities.js"],f["Core/Utilities.js"]],function(C,b,E,A,M,p,s){function i(B,k){var j=d.Element.prototype,_=j.matches||j.msMatchesSelector||j.webkitMatchesSelector,Y=null;if(j.closest)Y=j.closest.call(B,k);else do{if(_.call(B,k))return B;B=B.parentElement||B.parentNode}while(B!==null&&B.nodeType===1);return Y}function n(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}function t(){this.navigationBindings&&this.navigationBindings.destroy()}function o(){var B=this.options;B&&B.navigation&&B.navigation.bindings&&(this.navigationBindings=new w(this,B.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())}function e(){var B=this.navigationBindings;if(this&&B){var k=!1;if(this.series.forEach(function(_){!_.options.isInternal&&_.visible&&(k=!0)}),this.navigationBindings&&this.navigationBindings.container&&this.navigationBindings.container[0]){var j=this.navigationBindings.container[0];O(B.boundClassNames,function(_,Y){if(Y=j.querySelectorAll("."+Y))for(var S=0;S<Y.length;S++){var U=Y[S],W=U.className;_.noDataState==="normal"||k?W.indexOf("highcharts-disabled-btn")!==-1&&U.classList.remove("highcharts-disabled-btn"):W.indexOf("highcharts-disabled-btn")===-1&&(U.className+=" highcharts-disabled-btn")}})}}}function r(){this.deselectAnnotation()}function u(){this.selectedButtonElement=null}function l(B){var k=B.prototype.defaultOptions.events&&B.prototype.defaultOptions.events.click;L(!0,B.prototype.defaultOptions.events,{click:function(j){var _=this,Y=_.chart.navigationBindings,S=Y.activeAnnotation;k&&k.call(_,j),S!==_?(Y.deselectAnnotation(),Y.activeAnnotation=_,_.setControlPointsVisibility(!0),v(Y,"showPopup",{annotation:_,formType:"annotation-toolbar",options:Y.annotationToFields(_),onSubmit:function(U){if(U.actionType==="remove")Y.activeAnnotation=!1,Y.chart.removeAnnotation(_);else{var W={};Y.fieldsToOptions(U.fields,W),Y.deselectAnnotation(),U=W.typeOptions,_.options.type==="measure"&&(U.crosshairY.enabled=U.crosshairY.strokeWidth!==0,U.crosshairX.enabled=U.crosshairX.strokeWidth!==0),_.update(W)}}})):v(Y,"closePopup"),j.activeAnnotation=!0}})}var a=b.setOptions,x=E.format,y=A.doc,d=A.win,h=p.getFieldType,c=s.addEvent,m=s.attr,v=s.fireEvent,N=s.isArray,X=s.isFunction,D=s.isNumber,T=s.isObject,L=s.merge,O=s.objectEach,g=s.pick,P=[],w=function(){function B(k,j){this.selectedButton=this.boundClassNames=void 0,this.chart=k,this.options=j,this.eventsToUnbind=[],this.container=this.chart.container.getElementsByClassName(this.options.bindingsClassName||""),this.container.length||(this.container=y.getElementsByClassName(this.options.bindingsClassName||""))}return B.compose=function(k,j){P.indexOf(k)===-1&&(P.push(k),c(k,"remove",n),l(k),O(k.types,function(_){l(_)})),P.indexOf(j)===-1&&(P.push(j),c(j,"destroy",t),c(j,"load",o),c(j,"render",e)),P.indexOf(B)===-1&&(P.push(B),c(B,"closePopup",r),c(B,"deselectButton",u)),P.indexOf(a)===-1&&(P.push(a),a(M))},B.prototype.initEvents=function(){var k=this,j=k.chart,_=k.container,Y=k.options;k.boundClassNames={},O(Y.bindings||{},function(S){k.boundClassNames[S.className]=S}),[].forEach.call(_,function(S){k.eventsToUnbind.push(c(S,"click",function(U){var W=k.getButtonEvents(S,U);W&&W.button.className.indexOf("highcharts-disabled-btn")===-1&&k.bindingsButtonClick(W.button,W.events,U)}))}),O(Y.events||{},function(S,U){X(S)&&k.eventsToUnbind.push(c(k,U,S,{passive:!1}))}),k.eventsToUnbind.push(c(j.container,"click",function(S){!j.cancelClick&&j.isInsidePlot(S.chartX-j.plotLeft,S.chartY-j.plotTop,{visiblePlotOnly:!0})&&k.bindingsChartClick(this,S)})),k.eventsToUnbind.push(c(j.container,A.isTouchDevice?"touchmove":"mousemove",function(S){k.bindingsContainerMouseMove(this,S)},A.isTouchDevice?{passive:!1}:void 0))},B.prototype.initUpdate=function(){var k=this;C.compose(this.chart).navigation.addUpdate(function(j){k.update(j)})},B.prototype.bindingsButtonClick=function(k,j,_){var Y=this.chart,S=Y.renderer.boxWrapper,U=!0;this.selectedButtonElement&&(this.selectedButtonElement.classList===k.classList&&(U=!1),v(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&this.currentUserDetails.coll==="annotations"&&Y.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),U?(this.selectedButton=j,this.selectedButtonElement=k,v(this,"selectButton",{button:k}),j.init&&j.init.call(this,k,_),(j.start||j.steps)&&Y.renderer.boxWrapper.addClass("highcharts-draw-mode")):(Y.stockTools&&Y.stockTools.toggleButtonActiveClass(k),S.removeClass("highcharts-draw-mode"),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null)},B.prototype.bindingsChartClick=function(k,j){k=this.chart;var _=this.activeAnnotation,Y=this.selectedButton;k=k.renderer.boxWrapper,_&&(_.cancelClick||j.activeAnnotation||!j.target.parentNode||i(j.target,".highcharts-popup")?_.cancelClick&&setTimeout(function(){_.cancelClick=!1},0):v(this,"closePopup")),Y&&Y.start&&(this.nextEvent?(this.nextEvent(j,this.currentUserDetails),this.steps&&(this.stepIndex++,Y.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=Y.steps[this.stepIndex]:(v(this,"deselectButton",{button:this.selectedButtonElement}),k.removeClass("highcharts-draw-mode"),Y.end&&Y.end.call(this,j,this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null))):(this.currentUserDetails=Y.start.call(this,j))&&Y.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=Y.steps[this.stepIndex]):(v(this,"deselectButton",{button:this.selectedButtonElement}),k.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,Y.end&&Y.end.call(this,j,this.currentUserDetails)))},B.prototype.bindingsContainerMouseMove=function(k,j){this.mouseMoveEvent&&this.mouseMoveEvent(j,this.currentUserDetails)},B.prototype.fieldsToOptions=function(k,j){return O(k,function(_,Y){var S=parseFloat(_),U=Y.split("."),W=U.length-1;if(!D(S)||_.match(/px/g)||Y.match(/format/g)||(_=S),_!=="undefined"){var z=j;U.forEach(function(F,R){var q=g(U[R+1],"");W===R?z[F]=_:(z[F]||(z[F]=q.match(/\d/g)?[]:{}),z=z[F])})}}),j},B.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},B.prototype.annotationToFields=function(k){function j(F,R,q,V,J){if(q&&F&&W.indexOf(R)===-1&&(0<=(q.indexOf&&q.indexOf(R))||q[R]||q===!0))if(N(F))V[R]=[],F.forEach(function(K,Z){T(K)?(V[R][Z]={},O(K,function(Q,tt){j(Q,tt,S[R],V[R][Z],R)})):j(K,0,S[R],V[R],R)});else if(T(F)){var G={};N(V)?(V.push(G),G[R]={},G=G[R]):V[R]=G,O(F,function(K,Z){j(K,Z,R===0?q:S[R],G,R)})}else R==="format"?V[R]=[x(F,k.labels[0].points[0]).toString(),"text"]:N(V)?V.push([F,h(J,F)]):V[R]=[F,h(R,F)]}var _=k.options,Y=B.annotationsEditable,S=Y.nestedOptions,U=g(_.type,_.shapes&&_.shapes[0]&&_.shapes[0].type,_.labels&&_.labels[0]&&_.labels[0].type,"label"),W=B.annotationsNonEditable[_.langKey]||[],z={langKey:_.langKey,type:U};return O(_,function(F,R){R==="typeOptions"?(z[R]={},O(_[R],function(q,V){j(q,V,S,z[R],V)})):j(F,R,Y[U],z,R)}),z},B.prototype.getClickedClassNames=function(k,j){var _=j.target;j=[];for(var Y;_&&((Y=m(_,"class"))&&(j=j.concat(Y.split(" ").map(function(S){return[S,_]}))),_=_.parentNode,_!==k););return j},B.prototype.getButtonEvents=function(k,j){var _=this,Y;return this.getClickedClassNames(k,j).forEach(function(S){_.boundClassNames[S[0]]&&!Y&&(Y={events:_.boundClassNames[S[0]],button:S[1]})}),Y},B.prototype.update=function(k){this.options=L(!0,this.options,k),this.removeEvents(),this.initEvents()},B.prototype.removeEvents=function(){this.eventsToUnbind.forEach(function(k){return k()})},B.prototype.destroy=function(){this.removeEvents()},B.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},B.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},B}();return w}),I(f,"Extensions/Annotations/Popup/PopupAnnotations.js",[f["Core/Globals.js"],f["Core/Utilities.js"]],function(C,b){function E(e,r,u,l,a,x){var y=this;if(r){var d=this.addInput,h=this.lang,c,m;n(l,function(v,N){c=u!==""?u+"."+N:N,i(v)&&(!s(v)||s(v)&&i(v[0])?(m=h[N]||N,m.match(/\d/g)||a.push([!0,m,e]),E.call(y,e,r,c,v,a,!1)):a.push([y,c,"annotation",e,v]))}),x&&(o(a,function(v){return v[1].match(/format/g)?-1:1}),M&&a.reverse(),a.forEach(function(v){v[0]===!0?p("span",{className:"highcharts-annotation-title"},void 0,v[2]).appendChild(A.createTextNode(v[1])):(v[4]={value:v[4][0],type:v[4][1]},d.apply(v[0],v.splice(1)))}))}}var A=C.doc,M=C.isFirefox,p=b.createElement,s=b.isArray,i=b.isObject,n=b.objectEach,t=b.pick,o=b.stableSort;return{addForm:function(e,r,u,l){if(e){var a=this.container,x=this.lang,y=p("h2",{className:"highcharts-popup-main-title"},void 0,a);y.appendChild(A.createTextNode(x[r.langKey]||r.langKey||"")),y=p("div",{className:"highcharts-popup-lhs-col highcharts-popup-lhs-full"},void 0,a);var d=p("div",{className:"highcharts-popup-bottom-row"},void 0,a);E.call(this,y,e,"",r,[],!0),this.addButton(d,l?x.addButton||"Add":x.saveButton||"Save",l?"add":"save",a,u)}},addToolbar:function(e,r,u){var l=this,a=this.lang,x=this.container,y=this.showForm;x.className.indexOf("highcharts-annotation-toolbar")===-1&&(x.className+=" highcharts-annotation-toolbar"),e&&(x.style.top=e.plotTop+10+"px"),p("span",void 0,void 0,x).appendChild(A.createTextNode(t(a[r.langKey]||r.langKey,r.shapes&&r.shapes[0].type,"")));var d=this.addButton(x,a.removeButton||"Remove","remove",x,u);d.className+=" highcharts-annotation-remove-button",d.style["background-image"]="url("+this.iconsURL+"destroy.svg)",d=this.addButton(x,a.editButton||"Edit","edit",x,function(){y.call(l,"annotation-edit",e,r,u)}),d.className+=" highcharts-annotation-edit-button",d.style["background-image"]="url("+this.iconsURL+"edit.svg)"}}}),I(f,"Extensions/Annotations/Popup/PopupIndicators.js",[f["Core/Renderer/HTML/AST.js"],f["Core/Globals.js"],f["Extensions/Annotations/NavigationBindingsUtilities.js"],f["Core/Series/SeriesRegistry.js"],f["Core/Utilities.js"]],function(C,b,E,A,M){function p(T){var L=d("div",{className:"highcharts-popup-lhs-col"},void 0,T);return T=d("div",{className:"highcharts-popup-rhs-col"},void 0,T),d("div",{className:"highcharts-popup-rhs-col-wrapper"},void 0,T),{lhsCol:L,rhsCol:T}}function s(T,L,O,g){var P=this,w=P.lang,B=L.querySelectorAll(".highcharts-popup-lhs-col")[0];L=L.querySelectorAll(".highcharts-popup-rhs-col")[0];var k=O==="edit";if(O=k?T.series:T.options.plotOptions||{},T||!O){var j,_=[];k||c(O)?c(O)&&(_=r.call(this,O)):_=e.call(this,O,g),N(_,function(U,W){return U=U.indicatorFullName.toLowerCase(),W=W.indicatorFullName.toLowerCase(),U<W?-1:U>W?1:0}),B.children[1]&&B.children[1].remove();var Y=d("ul",{className:"highcharts-indicator-list"},void 0,B),S=L.querySelectorAll(".highcharts-popup-rhs-col-wrapper")[0];_.forEach(function(U){var W=U.indicatorFullName,z=U.indicatorType,F=U.series;j=d("li",{className:"highcharts-indicator-list"},void 0,Y),j.appendChild(a.createTextNode(W)),["click","touchstart"].forEach(function(R){y(j,R,function(){var q=S.parentNode.children[1],V=F.params||F.options.params;S.innerHTML=C.emptyHTML,d("h3",{className:"highcharts-indicator-title"},void 0,S).appendChild(a.createTextNode(u(F,z).indicatorFullName)),d("input",{type:"hidden",name:"highcharts-type-"+z,value:z},void 0,S),l.call(P,z,"series",T,S,F,F.linkedParent&&F.linkedParent.options.id),V.volumeSeriesID&&l.call(P,z,"volume",T,S,F,F.linkedParent&&V.volumeSeriesID),i.call(P,T,"params",V,z,S),q&&(q.style.display="block"),k&&F.options&&d("input",{type:"hidden",name:"highcharts-id-"+z,value:F.options.id},void 0,S).setAttribute("highcharts-data-series-id",F.options.id)})})}),0<Y.childNodes.length?Y.childNodes[0].click():k||(C.setElementHTML(S.parentNode.children[0],w.noFilterMatch||""),S.parentNode.children[1].style.display="none")}}function i(T,L,O,g,P){var w=this;if(T){var B=this.addInput;v(O,function(k,j){var _=L+"."+j;h(k)&&_&&(m(k)&&(B.call(w,_,g,P,{}),i.call(w,T,_,k,g,P)),_ in X?(_=t.call(w,g,_,P),o.call(w,T,L,_,g,j,k)):_==="params.volumeSeriesID"||c(k)||B.call(w,_,g,P,{value:k,type:"number"}))})}}function n(T,L){var O=this,g=L.querySelectorAll(".highcharts-popup-lhs-col")[0];L=this.lang.clearFilter,g=d("div",{className:"highcharts-input-wrapper"},void 0,g);var P=this.addInput("searchIndicators","input",g,{value:"",type:"text",htmlFor:"search-indicators",labelClassName:"highcharts-input-search-indicators-label"}),w=d("a",{textContent:L},void 0,g);P.classList.add("highcharts-input-search-indicators"),w.classList.add("clear-filter-button"),y(P,"input",function(B){s.call(O,T,O.container,"add",this.value),w.style.display=this.value.length?"inline-block":"none"}),["click","touchstart"].forEach(function(B){y(w,B,function(){P.value="",s.call(O,T,O.container,"add",""),w.style.display="none"})})}function t(T,L,O){var g=L.split(".");g=g[g.length-1],T="highcharts-"+L+"-type-"+T;var P=this.lang;return d("label",{htmlFor:T},null,O).appendChild(a.createTextNode(P[g]||L)),O=d("select",{name:T,className:"highcharts-popup-field",id:"highcharts-select-"+L},null,O),O.setAttribute("id","highcharts-select-"+L),O}function o(T,L,O,g,P,w,B){L==="series"||L==="volume"?T.series.forEach(function(k){var j=k.options,_=j.name||j.params?k.name:j.id||"";j.id!=="highcharts-navigator-series"&&j.id!==(B&&B.options&&B.options.id)&&(h(w)||L!=="volume"||k.type!=="column"||(w=j.id),d("option",{value:j.id},void 0,O).appendChild(a.createTextNode(_)))}):g&&P&&D[P+"-"+g].forEach(function(k){d("option",{value:k},void 0,O).appendChild(a.createTextNode(k))}),h(w)&&(O.value=w)}function e(T,L){var O=this.chart&&this.chart.options.lang,g=O&&O.navigation&&O.navigation.popup&&O.navigation.popup.indicatorAliases,P=[],w;return v(T,function(B,k){var j=B&&B.options;if(B.params||j&&j.params)if(j=u(B,k),k=j.indicatorFullName,j=j.indicatorType,L){var _=L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");_=new RegExp(_,"i");var Y=g&&g[j]&&g[j].join(" ")||"";(k.match(_)||Y.match(_))&&(w={indicatorFullName:k,indicatorType:j,series:B},P.push(w))}else w={indicatorFullName:k,indicatorType:j,series:B},P.push(w)}),P}function r(T){var L=[];return T.forEach(function(O){O.is("sma")&&L.push({indicatorFullName:O.name,indicatorType:O.type,series:O})}),L}function u(T,L){var O=T.options,g=x[L]&&x[L].prototype.nameBase||L.toUpperCase();return O&&O.type&&(L=T.options.type,g=T.name),{indicatorFullName:g,indicatorType:L}}function l(T,L,O,g,P,w){O&&(T=t.call(this,T,L,g),o.call(this,O,L,T,void 0,void 0,void 0,P),h(w)&&(T.value=w))}var a=b.doc,x=A.seriesTypes,y=M.addEvent,d=M.createElement,h=M.defined,c=M.isArray,m=M.isObject,v=M.objectEach,N=M.stableSort,X;(function(T){T[T["params.algorithm"]=0]="params.algorithm",T[T["params.average"]=1]="params.average"})(X||(X={}));var D={"algorithm-pivotpoints":["standard","fibonacci","camarilla"],"average-disparityindex":["sma","ema","dema","tema","wma"]};return{addForm:function(T,L,O){if(L=this.lang,T){this.tabs.init.call(this,T);var g=this.container.querySelectorAll(".highcharts-tab-item-content");p(g[0]),n.call(this,T,g[0]),s.call(this,T,g[0],"add");var P=g[0].querySelectorAll(".highcharts-popup-rhs-col")[0];this.addButton(P,L.addButton||"add","add",P,O),p(g[1]),s.call(this,T,g[1],"edit"),P=g[1].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(P,L.saveButton||"save","edit",P,O),this.addButton(P,L.removeButton||"remove","remove",P,O)}},getAmount:function(){var T=0;return this.series.forEach(function(L){(L.params||L.options.params)&&T++}),T}}}),I(f,"Extensions/Annotations/Popup/PopupTabs.js",[f["Core/Globals.js"],f["Core/Utilities.js"]],function(C,b){function E(){return n("div",{className:"highcharts-tab-item-content highcharts-no-mousewheel"},void 0,this.container)}function A(t,o){var e=this.container,r=this.lang,u="highcharts-tab-item";return o===0&&(u+=" highcharts-tab-disabled"),o=n("span",{className:u},void 0,e),o.appendChild(s.createTextNode(r[t+"Button"]||t)),o.setAttribute("highcharts-data-tab-type",t),o}function M(t,o){var e=this.container.querySelectorAll(".highcharts-tab-item-content");t.className+=" highcharts-tab-item-active",e[o].className+=" highcharts-tab-item-show"}function p(t){var o=this;this.container.querySelectorAll(".highcharts-tab-item").forEach(function(e,r){t===0&&e.getAttribute("highcharts-data-tab-type")==="edit"||["click","touchstart"].forEach(function(u){i(e,u,function(){var l=o.container,a=l.querySelectorAll(".highcharts-tab-item");l=l.querySelectorAll(".highcharts-tab-item-content");for(var x=0;x<a.length;x++)a[x].classList.remove("highcharts-tab-item-active"),l[x].classList.remove("highcharts-tab-item-show");M.call(o,this,r)})})})}var s=C.doc,i=b.addEvent,n=b.createElement;return{init:function(t){if(t){t=this.indicators.getAmount.call(t);var o=A.call(this,"add");A.call(this,"edit",t),E.call(this),E.call(this),p.call(this,t),M.call(this,o,0)}}}}),I(f,"Extensions/Annotations/Popup/Popup.js",[f["Core/Renderer/HTML/AST.js"],f["Core/Defaults.js"],f["Core/Globals.js"],f["Extensions/Annotations/Popup/PopupAnnotations.js"],f["Extensions/Annotations/Popup/PopupIndicators.js"],f["Extensions/Annotations/Popup/PopupTabs.js"],f["Core/Utilities.js"]],function(C,b,E,A,M,p,s){function i(l,a){var x=Array.prototype.slice.call(l.querySelectorAll("input")),y=Array.prototype.slice.call(l.querySelectorAll("select")),d=l.querySelectorAll("#highcharts-select-series > option:checked")[0];l=l.querySelectorAll("#highcharts-select-volume > option:checked")[0];var h={actionType:a,linkedTo:d&&d.getAttribute("value")||"",fields:{}};return x.forEach(function(c){var m=c.getAttribute("highcharts-data-name");c.getAttribute("highcharts-data-series-id")?h.seriesId=c.value:m?h.fields[m]=c.value:h.type=c.value}),y.forEach(function(c){var m=c.id;m!=="highcharts-select-series"&&m!=="highcharts-select-volume"&&(m=m.split("highcharts-select-")[1],h.fields[m]=c.value)}),l&&(h.fields["params.volumeSeriesID"]=l.getAttribute("value")||""),h}var n=b.getOptions,t=E.doc,o=s.addEvent,e=s.createElement;b=s.extend;var r=s.fireEvent,u=s.pick;return s=function(){function l(a,x,y){this.chart=y,this.iconsURL=x,this.lang=n().lang.navigation.popup,this.container=e("div",{className:"highcharts-popup highcharts-no-tooltip"},void 0,a),o(this.container,"mousedown",function(){var d=y&&y.navigationBindings&&y.navigationBindings.activeAnnotation;if(d){d.cancelClick=!0;var h=o(E.doc,"click",function(){setTimeout(function(){d.cancelClick=!1},0),h()})}}),this.addCloseBtn()}return l.prototype.init=function(a,x,y){l.call(this,a,x,y)},l.prototype.addCloseBtn=function(){var a=this,x=this.iconsURL,y=e("div",{className:"highcharts-popup-close"},void 0,this.container);y.style["background-image"]="url("+(x.match(/png|svg|jpeg|jpg|gif/ig)?x:x+"close.svg")+")",["click","touchstart"].forEach(function(d){o(y,d,function(){if(a.chart){var h=a.chart.navigationBindings;r(h,"closePopup"),h&&h.selectedButtonElement&&r(h,"deselectButton",{button:h.selectedButtonElement})}else a.closePopup()})})},l.prototype.addInput=function(a,x,y,d){var h=a.split(".");h=h[h.length-1];var c=this.lang;return x="highcharts-"+x+"-"+u(d.htmlFor,h),h.match(/^\d+$/)||e("label",{htmlFor:x,className:d.labelClassName},void 0,y).appendChild(t.createTextNode(c[h]||h)),y=e("input",{name:x,value:d.value,type:d.type,className:"highcharts-popup-field"},void 0,y),y.setAttribute("highcharts-data-name",a),y},l.prototype.addButton=function(a,x,y,d,h){var c=this,m=e("button",void 0,void 0,a);return m.appendChild(t.createTextNode(x)),h&&["click","touchstart"].forEach(function(v){o(m,v,function(){return c.closePopup(),h(i(d,y))})}),m},l.prototype.showPopup=function(){var a=this.container,x=a.querySelectorAll(".highcharts-popup-close")[0];this.formType=void 0,a.innerHTML=C.emptyHTML,0<=a.className.indexOf("highcharts-annotation-toolbar")&&(a.classList.remove("highcharts-annotation-toolbar"),a.removeAttribute("style")),a.appendChild(x),a.style.display="block",a.style.height=""},l.prototype.closePopup=function(){this.container.style.display="none"},l.prototype.showForm=function(a,x,y,d){x&&(this.showPopup(),a==="indicators"&&this.indicators.addForm.call(this,x,y,d),a==="annotation-toolbar"&&this.annotations.addToolbar.call(this,x,y,d),a==="annotation-edit"&&this.annotations.addForm.call(this,x,y,d),a==="flag"&&this.annotations.addForm.call(this,x,y,d,!0),this.formType=a,this.container.style.height=this.container.offsetHeight+"px")},l}(),b(s.prototype,{annotations:A,indicators:M,tabs:p}),s}),I(f,"Extensions/Annotations/Popup/PopupComposition.js",[f["Extensions/Annotations/Popup/Popup.js"],f["Core/Utilities.js"]],function(C,b){function E(){this.popup&&this.popup.closePopup()}function A(n){this.popup||(this.popup=new C(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/10.3.3/gfx/stock-icons/",this.chart)),this.popup.showForm(n.formType,this.chart,n.options,n.onSubmit)}function M(n,t){this.inClass(t.target,"highcharts-popup")||n.apply(this,Array.prototype.slice.call(arguments,1))}var p=b.addEvent,s=b.wrap,i=[];return{compose:function(n,t){i.indexOf(n)===-1&&(i.push(n),p(n,"closePopup",E),p(n,"showPopup",A)),i.indexOf(t)===-1&&(i.push(t),s(t.prototype,"onContainerMouseDown",M))}}}),I(f,"Extensions/Annotations/Annotation.js",[f["Core/Animation/AnimationUtilities.js"],f["Extensions/Annotations/AnnotationChart.js"],f["Extensions/Annotations/AnnotationDefaults.js"],f["Extensions/Annotations/Controllables/Controllable.js"],f["Extensions/Annotations/Controllables/ControllableRect.js"],f["Extensions/Annotations/Controllables/ControllableCircle.js"],f["Extensions/Annotations/Controllables/ControllableEllipse.js"],f["Extensions/Annotations/Controllables/ControllablePath.js"],f["Extensions/Annotations/Controllables/ControllableImage.js"],f["Extensions/Annotations/Controllables/ControllableLabel.js"],f["Extensions/Annotations/ControlPoint.js"],f["Extensions/Annotations/EventEmitter.js"],f["Extensions/Annotations/MockPoint.js"],f["Extensions/Annotations/NavigationBindings.js"],f["Extensions/Annotations/Popup/PopupComposition.js"],f["Core/Utilities.js"]],function(C,b,E,A,M,p,s,i,n,t,o,e,r,u,l,a){function x(L){var O=L.graphic;L=L.points.some(function(g){return g.series.visible!==!1&&g.visible!==!1}),O&&(L?O.visibility==="hidden"&&O.show():O.hide())}function y(L,O){var g={};return["labels","shapes"].forEach(function(P){var w=L[P];w&&(g[P]=O[P]?T(O[P]).map(function(B,k){return X(w[k],B)}):L[P])}),g}var d=this&&this.__extends||function(){var L=function(O,g){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,w){P.__proto__=w}||function(P,w){for(var B in w)w.hasOwnProperty(B)&&(P[B]=w[B])},L(O,g)};return function(O,g){function P(){this.constructor=O}L(O,g),O.prototype=g===null?Object.create(g):(P.prototype=g.prototype,new P)}}(),h=C.getDeferredAnimation,c=A.prototype,m=a.destroyObjectProperties,v=a.erase,N=a.fireEvent,X=a.merge,D=a.pick,T=a.splat;return C=function(L){function O(g,P){var w=L.call(this)||this;return w.annotation=void 0,w.coll="annotations",w.collection=void 0,w.animationConfig=void 0,w.graphic=void 0,w.group=void 0,w.labelCollector=void 0,w.labelsGroup=void 0,w.shapesGroup=void 0,w.chart=g,w.points=[],w.controlPoints=[],w.coll="annotations",w.labels=[],w.shapes=[],w.options=X(w.defaultOptions,P),w.userOptions=P,P=y(w.options,P),w.options.labels=P.labels,w.options.shapes=P.shapes,w.init(g,w.options),w}return d(O,L),O.compose=function(g,P,w){b.compose(O,g,P),t.compose(w),i.compose(g,w),u.compose(O,g),l.compose(u,P)},O.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&this.options.crop&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},O.prototype.addLabels=function(){var g=this,P=this.options.labels||[];P.forEach(function(w,B){w=g.initLabel(w,B),X(!0,P[B],w.options)})},O.prototype.addShapes=function(){var g=this,P=this.options.shapes||[];P.forEach(function(w,B){w=g.initShape(w,B),X(!0,P[B],w.options)})},O.prototype.destroy=function(){var g=this.chart,P=function(w){w.destroy()};this.labels.forEach(P),this.shapes.forEach(P),this.clipYAxis=this.clipXAxis=null,v(g.labelCollectors,this.labelCollector),L.prototype.destroy.call(this),c.destroy.call(this),m(this,g)},O.prototype.destroyItem=function(g){v(this[g.itemType+"s"],g),g.destroy()},O.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},O.prototype.init=function(g,P,w){g=this.chart,P=this.options.animation,this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=h(g,P)},O.prototype.initLabel=function(g,P){return g=X(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},g),P=new t(this,g,P),P.itemType="label",this.labels.push(P),P},O.prototype.initShape=function(g,P){return g=X(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},g),P=new O.shapesMap[g.type](this,g,P),P.itemType="shape",this.shapes.push(P),P},O.prototype.redraw=function(g){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,g),this.redrawItems(this.labels,g),c.redraw.call(this,g)},O.prototype.redrawItem=function(g,P){g.linkPoints(),g.shouldBeDrawn()?(g.graphic||this.renderItem(g),g.redraw(D(P,!0)&&g.graphic.placed),g.points.length&&x(g)):this.destroyItem(g)},O.prototype.redrawItems=function(g,P){for(var w=g.length;w--;)this.redrawItem(g[w],P)},O.prototype.remove=function(){return this.chart.removeAnnotation(this)},O.prototype.render=function(){var g=this.chart.renderer;this.graphic=g.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"inherit":"hidden"}).add(),this.shapesGroup=g.g("annotation-shapes").add(this.graphic),this.options.crop&&this.shapesGroup.clip(this.chart.plotBoxClip),this.labelsGroup=g.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),c.render.call(this)},O.prototype.renderItem=function(g){g.render(g.itemType==="label"?this.labelsGroup:this.shapesGroup)},O.prototype.renderItems=function(g){for(var P=g.length;P--;)this.renderItem(g[P])},O.prototype.setClipAxes=function(){var g=this.chart.xAxis,P=this.chart.yAxis,w=(this.options.labels||[]).concat(this.options.shapes||[]).reduce(function(B,k){return k=k&&(k.point||k.points&&k.points[0]),[g[k&&k.xAxis]||B[0],P[k&&k.yAxis]||B[1]]},[]);this.clipXAxis=w[0],this.clipYAxis=w[1]},O.prototype.setControlPointsVisibility=function(g){var P=function(w){w.setControlPointsVisibility(g)};c.setControlPointsVisibility.call(this,g),this.shapes.forEach(P),this.labels.forEach(P)},O.prototype.setLabelCollector=function(){var g=this;g.labelCollector=function(){return g.labels.reduce(function(P,w){return w.options.allowOverlap||P.push(w.graphic),P},[])},g.chart.labelCollectors.push(g.labelCollector)},O.prototype.setOptions=function(g){this.options=X(this.defaultOptions,g)},O.prototype.setVisibility=function(g){var P=this.options,w=this.chart.navigationBindings;g=D(g,!P.visible),this.graphic.attr("visibility",g?"inherit":"hidden"),g||(this.setControlPointsVisibility(!1),w.activeAnnotation===this&&w.popup&&w.popup.formType==="annotation-toolbar"&&N(w,"closePopup")),P.visible=g},O.prototype.update=function(g,P){var w=this.chart,B=y(this.userOptions,g),k=w.annotations.indexOf(this);g=X(!0,this.userOptions,g),g.labels=B.labels,g.shapes=B.shapes,this.destroy(),this.constructor(w,g),w.options.annotations[k]=g,this.isUpdating=!0,D(P,!0)&&w.redraw(),N(this,"afterUpdate"),this.isUpdating=!1},O.ControlPoint=o,O.MockPoint=r,O.shapesMap={rect:M,circle:p,ellipse:s,path:i,image:n},O.types={},O}(e),X(!0,C.prototype,A.prototype,X(C.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:E})),C}),I(f,"Extensions/Annotations/Types/BasicAnnotation.js",[f["Extensions/Annotations/Annotation.js"],f["Extensions/Annotations/MockPoint.js"],f["Core/Utilities.js"]],function(C,b,E){var A=this&&this.__extends||function(){var p=function(s,i){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o])},p(s,i)};return function(s,i){function n(){this.constructor=s}p(s,i),s.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}();E=E.merge;var M=function(p){function s(){return p!==null&&p.apply(this,arguments)||this}return A(s,p),s.prototype.addControlPoints=function(){var i=this.options,n=s.basicControlPoints,t=this.basicType;(i.labels||i.shapes||[]).forEach(function(o){o.controlPoints=n[t]})},s.prototype.init=function(){var i=this.options;i.shapes?(delete i.labelOptions,this.basicType=(i=i.shapes[0].type)&&i!=="path"?i:"rectangle"):(delete i.shapes,this.basicType="label"),C.prototype.init.apply(this,arguments)},s.basicControlPoints={label:[{symbol:"triangle-down",positioner:function(i){return i.graphic.placed?(i=b.pointToPixels(i.points[0]),{x:i.x-this.graphic.width/2,y:i.y-this.graphic.height/2}):{x:0,y:-9e7}},events:{drag:function(i,n){i=this.mouseMoveToTranslation(i),n.translatePoint(i.x,i.y),n.annotation.userOptions.labels[0].point=n.options.point,n.redraw(!1)}}},{symbol:"square",positioner:function(i){return i.graphic.placed?{x:i.graphic.alignAttr.x-this.graphic.width/2,y:i.graphic.alignAttr.y-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag:function(i,n){i=this.mouseMoveToTranslation(i),n.translate(i.x,i.y),n.annotation.userOptions.labels[0].point=n.options.point,n.redraw(!1)}}}],rectangle:[{positioner:function(i){return i=b.pointToPixels(i.points[2]),{x:i.x-4,y:i.y-4}},events:{drag:function(i,n){var t=n.annotation,o=this.chart.pointer.getCoordinates(i);i=o.xAxis[0].value,o=o.yAxis[0].value;var e=n.options.points,r=t.userOptions.shapes;e[1].x=i,e[2].x=i,e[2].y=o,e[3].y=o,r&&r[0]&&(r[0].points=n.options.points),t.redraw(!1)}}}],circle:[{positioner:function(i){var n=b.pointToPixels(i.points[0]);return i=i.options.r,{x:n.x+i*Math.cos(Math.PI/4)-this.graphic.width/2,y:n.y+i*Math.sin(Math.PI/4)-this.graphic.height/2}},events:{drag:function(i,n){var t=n.annotation;i=this.mouseMoveToTranslation(i),t=t.userOptions.shapes,n.setRadius(Math.max(n.options.r+i.y/Math.sin(Math.PI/4),5)),t&&t[0]&&(t[0].r=n.options.r,t[0].point=n.options.point),n.redraw(!1)}}}],ellipse:[{positioner:function(i){return i=i.getAbsolutePosition(i.points[0]),{x:i.x-this.graphic.width/2,y:i.y-this.graphic.height/2}},events:{drag:function(i,n){var t=n.getAbsolutePosition(n.points[0]);n.translatePoint(i.chartX-t.x,i.chartY-t.y,0),n.redraw(!1)}}},{positioner:function(i){return i=i.getAbsolutePosition(i.points[1]),{x:i.x-this.graphic.width/2,y:i.y-this.graphic.height/2}},events:{drag:function(i,n){var t=n.getAbsolutePosition(n.points[1]);n.translatePoint(i.chartX-t.x,i.chartY-t.y,1),n.redraw(!1)}}},{positioner:function(i){var n=i.getAbsolutePosition(i.points[0]),t=i.getAbsolutePosition(i.points[1]);return i=i.getAttrs(n,t),{x:i.cx-this.graphic.width/2+i.ry*Math.sin(i.angle*Math.PI/180),y:i.cy-this.graphic.height/2-i.ry*Math.cos(i.angle*Math.PI/180)}},events:{drag:function(i,n){var t=n.getAbsolutePosition(n.points[0]),o=n.getAbsolutePosition(n.points[1]);i=n.getDistanceFromLine(t,o,i.chartX,i.chartY),t=n.getYAxis(),i=Math.abs(t.toValue(0)-t.toValue(i)),n.setYRadius(i),n.redraw(!1)}}}]},s}(C);return M.prototype.defaultOptions=E(C.prototype.defaultOptions,{}),C.types.basicAnnotation=M}),I(f,"Extensions/Annotations/Types/CrookedLine.js",[f["Extensions/Annotations/Annotation.js"],f["Extensions/Annotations/ControlPoint.js"],f["Extensions/Annotations/MockPoint.js"],f["Core/Utilities.js"]],function(C,b,E,A){var M=this&&this.__extends||function(){var s=function(i,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])},s(i,n)};return function(i,n){function t(){this.constructor=i}s(i,n),i.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),p=A.merge;return A=function(s){function i(){return s!==null&&s.apply(this,arguments)||this}return M(i,s),i.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},i.prototype.getPointsOptions=function(){var n=this.options.typeOptions;return(n.points||[]).map(function(t){return t.xAxis=n.xAxis,t.yAxis=n.yAxis,t})},i.prototype.getControlPointsOptions=function(){return this.getPointsOptions()},i.prototype.addControlPoints=function(){this.getControlPointsOptions().forEach(function(n,t){t=new b(this.chart,this,p(this.options.controlPointOptions,n.controlPoint),t),this.controlPoints.push(t),n.controlPoint=t.options},this)},i.prototype.addShapes=function(){var n=this.options.typeOptions,t=this.initShape(p(n.line,{type:"path",points:this.points.map(function(o,e){return function(r){return r.annotation.points[e]}})}),0);n.line=t.options},i}(C),A.prototype.defaultOptions=p(C.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,line:{fill:"none"}},controlPointOptions:{positioner:function(s){var i=this.graphic;return s=E.pointToPixels(s.points[this.index]),{x:s.x-i.width/2,y:s.y-i.height/2}},events:{drag:function(s,i){i.chart.isInsidePlot(s.chartX-i.chart.plotLeft,s.chartY-i.chart.plotTop,{visiblePlotOnly:!0})&&(s=this.mouseMoveToTranslation(s),i.translatePoint(s.x,s.y,this.index),i.options.typeOptions.points[this.index].x=i.points[this.index].x,i.options.typeOptions.points[this.index].y=i.points[this.index].y,i.redraw(!1))}}}}),C.types.crookedLine=A}),I(f,"Extensions/Annotations/Types/ElliottWave.js",[f["Extensions/Annotations/Annotation.js"],f["Extensions/Annotations/Types/CrookedLine.js"],f["Core/Utilities.js"]],function(C,b,E){var A=this&&this.__extends||function(){var p=function(s,i){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o])},p(s,i)};return function(s,i){function n(){this.constructor=s}p(s,i),s.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),M=E.merge;return E=function(p){function s(){return p!==null&&p.apply(this,arguments)||this}return A(s,p),s.prototype.addLabels=function(){var i=this;this.getPointsOptions().forEach(function(n,t){var o=i.initLabel(M(n.label,{text:i.options.typeOptions.labels[t],point:function(e){return e.annotation.points[t]}}),!1);n.label=o.options})},s}(b),E.prototype.defaultOptions=M(b.prototype.defaultOptions,{typeOptions:{labels:"(0) (A) (B) (C) (D) (E)".split(" "),line:{strokeWidth:1}},labelOptions:{align:"center",allowOverlap:!0,crop:!0,overflow:"none",type:"rect",backgroundColor:"none",borderWidth:0,y:-5}}),C.types.elliottWave=E}),I(f,"Extensions/Annotations/Types/Tunnel.js",[f["Extensions/Annotations/Annotation.js"],f["Extensions/Annotations/ControlPoint.js"],f["Extensions/Annotations/Types/CrookedLine.js"],f["Extensions/Annotations/MockPoint.js"],f["Core/Utilities.js"]],function(C,b,E,A,M){var p=this&&this.__extends||function(){var i=function(n,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var r in e)e.hasOwnProperty(r)&&(o[r]=e[r])},i(n,t)};return function(n,t){function o(){this.constructor=n}i(n,t),n.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),s=M.merge;return M=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return p(n,i),n.prototype.getPointsOptions=function(){var t=E.prototype.getPointsOptions.call(this);return t[2]=this.heightPointOptions(t[1]),t[3]=this.heightPointOptions(t[0]),t},n.prototype.getControlPointsOptions=function(){return this.getPointsOptions().slice(0,2)},n.prototype.heightPointOptions=function(t){return t=s(t),t.y+=this.options.typeOptions.height,t},n.prototype.addControlPoints=function(){E.prototype.addControlPoints.call(this);var t=this.options,o=t.typeOptions;t=new b(this.chart,this,s(t.controlPointOptions,o.heightControlPoint),2),this.controlPoints.push(t),o.heightControlPoint=t.options},n.prototype.addShapes=function(){this.addLine(),this.addBackground()},n.prototype.addLine=function(){var t=this.initShape(s(this.options.typeOptions.line,{type:"path",points:[this.points[0],this.points[1],function(o){return o=A.pointToOptions(o.annotation.points[2]),o.command="M",o},this.points[3]]}),0);this.options.typeOptions.line=t.options},n.prototype.addBackground=function(){var t=this.initShape(s(this.options.typeOptions.background,{type:"path",points:this.points.slice()}),1);this.options.typeOptions.background=t.options},n.prototype.translateSide=function(t,o,e){e=Number(e);var r=e===0?3:2;this.translatePoint(t,o,e),this.translatePoint(t,o,r)},n.prototype.translateHeight=function(t){this.translatePoint(0,t,2),this.translatePoint(0,t,3),this.options.typeOptions.height=this.points[3].y-this.points[0].y,this.userOptions.typeOptions.height=this.options.typeOptions.height},n}(E),M.prototype.defaultOptions=s(E.prototype.defaultOptions,{typeOptions:{background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},line:{strokeWidth:1},height:-2,heightControlPoint:{positioner:function(i){var n=A.pointToPixels(i.points[2]);i=A.pointToPixels(i.points[3]);var t=(n.x+i.x)/2;return{x:t-this.graphic.width/2,y:(i.y-n.y)/(i.x-n.x)*(t-n.x)+n.y-this.graphic.height/2}},events:{drag:function(i,n){n.chart.isInsidePlot(i.chartX-n.chart.plotLeft,i.chartY-n.chart.plotTop,{visiblePlotOnly:!0})&&(n.translateHeight(this.mouseMoveToTranslation(i).y),n.redraw(!1))}}}},controlPointOptions:{events:{drag:function(i,n){n.chart.isInsidePlot(i.chartX-n.chart.plotLeft,i.chartY-n.chart.plotTop,{visiblePlotOnly:!0})&&(i=this.mouseMoveToTranslation(i),n.translateSide(i.x,i.y,!!this.index),n.redraw(!1))}}}}),C.types.tunnel=M}),I(f,"Extensions/Annotations/Types/InfinityLine.js",[f["Extensions/Annotations/Annotation.js"],f["Extensions/Annotations/Types/CrookedLine.js"],f["Extensions/Annotations/MockPoint.js"],f["Core/Utilities.js"]],function(C,b,E,A){var M=this&&this.__extends||function(){var s=function(i,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])},s(i,n)};return function(i,n){function t(){this.constructor=i}s(i,n),i.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),p=A.merge;return A=function(s){function i(){return s!==null&&s.apply(this,arguments)||this}return M(i,s),i.edgePoint=function(n,t){return function(o){o=o.annotation;var e=o.options.typeOptions.type,r=o.points;return(e==="horizontalLine"||e==="verticalLine")&&(r=[r[0],new E(o.chart,r[0].target,{x:r[0].x+ +(e==="horizontalLine"),y:r[0].y+ +(e==="verticalLine"),xAxis:r[0].options.xAxis,yAxis:r[0].options.yAxis})]),i.findEdgePoint(r[n],r[t])}},i.findEdgeCoordinate=function(n,t,o,e){var r=o==="x"?"y":"x";return(t[o]-n[o])*(e-n[r])/(t[r]-n[r])+n[o]},i.findEdgePoint=function(n,t){var o=n.series.chart,e=n.series.xAxis,r=t.series.yAxis,u=E.pointToPixels(n);t=E.pointToPixels(t);var l=t.x-u.x,a=t.y-u.y,x=e.left,y=x+e.width;e=r.top,r=e+r.height,y=0>l?x:y;var d=0>a?e:r;return x={x:l===0?u.x:y,y:a===0?u.y:d},l!==0&&a!==0&&(l=i.findEdgeCoordinate(u,t,"y",y),u=i.findEdgeCoordinate(u,t,"x",d),l>=e&&l<=r?(x.x=y,x.y=l):(x.x=u,x.y=d)),x.x-=o.plotLeft,x.y-=o.plotTop,n.series.chart.inverted&&(n=x.x,x.x=x.y,x.y=n),x},i.prototype.addShapes=function(){var n=this.options.typeOptions,t=[this.points[0],i.endEdgePoint];n.type.match(/line/gi)&&(t[0]=i.startEdgePoint),t=this.initShape(p(n.line,{type:"path",points:t}),0),n.line=t.options},i.endEdgePoint=i.edgePoint(0,1),i.startEdgePoint=i.edgePoint(1,0),i}(b),A.prototype.defaultOptions=p(b.prototype.defaultOptions,{}),C.types.infinityLine=A,A}),I(f,"Extensions/Annotations/Types/TimeCycles.js",[f["Extensions/Annotations/Annotation.js"],f["Extensions/Annotations/Types/CrookedLine.js"],f["Extensions/Annotations/ControlPoint.js"],f["Core/Utilities.js"]],function(C,b,E,A){function M(t,o,e,r){for(var u=[],l=1;l<=o;l++)u.push(["A",t/2,t/2,0,1,1,e+l*t,r]);return u}var p=this&&this.__extends||function(){var t=function(o,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,u){r.__proto__=u}||function(r,u){for(var l in u)u.hasOwnProperty(l)&&(r[l]=u[l])},t(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),s=A.merge,i=A.isNumber,n=A.defined;return A=function(t){function o(){return t!==null&&t.apply(this,arguments)||this}return p(o,t),o.prototype.init=function(e,r,u){n(r.yAxis)&&r.points.forEach(function(l){l.yAxis=r.yAxis}),n(r.xAxis)&&r.points.forEach(function(l){l.xAxis=r.xAxis}),t.prototype.init.call(this,e,r,u)},o.prototype.setPath=function(){this.shapes[0].options.d=this.getPath()},o.prototype.getPath=function(){return[["M",this.startX,this.y]].concat(M(this.pixelInterval,this.numberOfCircles,this.startX,this.y))},o.prototype.addShapes=function(){var e=this.options.typeOptions;this.setPathProperties();var r=this.initShape(s(e.line,{type:"path",d:this.getPath(),points:this.options.points}),0);e.line=r.options},o.prototype.addControlPoints=function(){var e=this,r=this.options,u=r.typeOptions;r.controlPointOptions.style.cursor=this.chart.inverted?"ns-resize":"ew-resize",u.controlPointOptions.forEach(function(l){l=s(r.controlPointOptions,l),l=new E(e.chart,e,l,0),e.controlPoints.push(l)})},o.prototype.setPathProperties=function(){var e=this.options.typeOptions,r=e.points;if(r){var u=r[0],l=this.chart.xAxis[e.xAxis||0],a=this.chart.yAxis[e.yAxis||0];e=u.x;var x=u.y;u=r[1].x,e&&u&&(r=i(x)?a.toPixels(x):a.top+a.height,e=i(e)?l.toPixels(e):l.left,a=i(u)?l.toPixels(u):l.left+30,a=Math.round(Math.max(Math.abs(a-e),2)),u=Math.floor(l.len/a)+2,this.startX=e-(Math.floor((e-l.left)/a)+1)*a,this.y=r,this.pixelInterval=a,this.numberOfCircles=u)}},o.prototype.redraw=function(e){this.setPathProperties(),this.setPath(),t.prototype.redraw.call(this,e)},o}(b),A.prototype.defaultOptions=s(b.prototype.defaultOptions,{typeOptions:{controlPointOptions:[{positioner:function(t){return{x:t.anchor(t.points[0]).absolutePosition.x-this.graphic.width/2,y:t.y-this.graphic.height}},events:{drag:function(t,o){var e=o.anchor(o.points[0]).absolutePosition;o.translatePoint(t.chartX-e.x,0,0),o.redraw(!1)}}},{positioner:function(t){return{x:t.anchor(t.points[1]).absolutePosition.x-this.graphic.width/2,y:t.y-this.graphic.height}},events:{drag:function(t,o){var e=o.anchor(o.points[1]).absolutePosition;o.translatePoint(t.chartX-e.x,0,1),o.redraw(!1)}}}]}}),C.types.timeCycles=A,A}),I(f,"Extensions/Annotations/Types/Fibonacci.js",[f["Extensions/Annotations/Annotation.js"],f["Extensions/Annotations/MockPoint.js"],f["Extensions/Annotations/Types/Tunnel.js"],f["Core/Utilities.js"]],function(C,b,E,A){function M(i,n){return function(){var t=this.annotation;if(!t.startRetracements||!t.endRetracements)return[];var o=this.anchor(t.startRetracements[i]).absolutePosition,e=this.anchor(t.endRetracements[i]).absolutePosition;return o=[["M",Math.round(o.x),Math.round(o.y)],["L",Math.round(e.x),Math.round(e.y)]],n&&(e=this.anchor(t.endRetracements[i-1]).absolutePosition,t=this.anchor(t.startRetracements[i-1]).absolutePosition,o.push(["L",Math.round(e.x),Math.round(e.y)],["L",Math.round(t.x),Math.round(t.y)])),o}}var p=this&&this.__extends||function(){var i=function(n,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var r in e)e.hasOwnProperty(r)&&(o[r]=e[r])},i(n,t)};return function(n,t){function o(){this.constructor=n}i(n,t),n.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),s=A.merge;return A=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return p(n,i),n.prototype.linkPoints=function(){i.prototype.linkPoints.call(this),this.linkRetracementsPoints()},n.prototype.linkRetracementsPoints=function(){var t=this,o=this.points,e=o[0].y-o[3].y,r=o[1].y-o[2].y,u=o[0].x,l=o[1].x;n.levels.forEach(function(a,x){var y=o[0].y-e*a;a=o[1].y-r*a,t.startRetracements=t.startRetracements||[],t.endRetracements=t.endRetracements||[],t.linkRetracementPoint(x,u,y,t.startRetracements),t.linkRetracementPoint(x,l,a,t.endRetracements)})},n.prototype.linkRetracementPoint=function(t,o,e,r){var u=r[t],l=this.options.typeOptions;u?(u.options.x=o,u.options.y=e,u.refresh()):r[t]=new b(this.chart,this,{x:o,y:e,xAxis:l.xAxis,yAxis:l.yAxis})},n.prototype.addShapes=function(){n.levels.forEach(function(t,o){var e=this.options.typeOptions;t=e.backgroundColors;var r=e.lineColor;e=e.lineColors,this.initShape({type:"path",d:M(o),stroke:e[o]||r},o),0<o&&this.initShape({type:"path",fill:t[o-1],strokeWidth:0,d:M(o,!0)})},this)},n.prototype.addLabels=function(){n.levels.forEach(function(t,o){var e=this.options.typeOptions;t=this.initLabel(s(e.labels[o],{point:function(r){return b.pointToOptions(r.annotation.startRetracements[o])},text:t.toString()})),e.labels[o]=t.options},this)},n.levels=[0,.236,.382,.5,.618,.786,1],n}(E),A.prototype.defaultOptions=s(E.prototype.defaultOptions,{typeOptions:{height:2,backgroundColors:"rgba(130, 170, 255, 0.4);rgba(139, 191, 216, 0.4);rgba(150, 216, 192, 0.4);rgba(156, 229, 161, 0.4);rgba(162, 241, 130, 0.4);rgba(169, 255, 101, 0.4)".split(";"),lineColor:"#999999",lineColors:[],labels:[]},labelOptions:{allowOverlap:!0,align:"right",backgroundColor:"none",borderWidth:0,crop:!1,overflow:"none",shape:"rect",style:{color:"grey"},verticalAlign:"middle",y:0}}),C.types.fibonacci=A}),I(f,"Extensions/Annotations/Types/FibonacciTimeZones.js",[f["Extensions/Annotations/Annotation.js"],f["Extensions/Annotations/ControlPoint.js"],f["Extensions/Annotations/Types/CrookedLine.js"],f["Extensions/Annotations/Types/InfinityLine.js"],f["Extensions/Annotations/MockPoint.js"],f["Core/Utilities.js"]],function(C,b,E,A,M,p){function s(t,o,e){return function(r){var u=r.annotation.chart;r=r.annotation.points;var l=r[0].series.xAxis.toValue(r[0].plotX+(u.inverted?u.plotTop:u.plotLeft)+e*(1<r.length?r[1].plotX-r[0].plotX:0));return r=[new M(u,r[0].target,{x:l,y:0,xAxis:r[0].options.xAxis,yAxis:r[0].options.yAxis}),new M(u,r[0].target,{x:l,y:1,xAxis:r[0].options.xAxis,yAxis:r[0].options.yAxis})],A.findEdgePoint(r[t],r[o])}}var i=this&&this.__extends||function(){var t=function(o,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,u){r.__proto__=u}||function(r,u){for(var l in u)u.hasOwnProperty(l)&&(r[l]=u[l])},t(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),n=p.merge;return p=function(t){function o(){return t!==null&&t.apply(this,arguments)||this}return i(o,t),o.prototype.addShapes=function(){for(var e=1,r=1,u=0;11>u;u++){var l=u?e:0;l=[s(1,0,l),s(0,1,l)],r=e+r,e=r-e,u===1&&(this.secondLineEdgePoints=[l[0],l[1]]),this.initShape(n(this.options.typeOptions.line,{type:"path",points:l}),u)}},o.prototype.addControlPoints=function(){var e=this.options,r=e.typeOptions;e=new b(this.chart,this,n(e.controlPointOptions,r.controlPointOptions),0),this.controlPoints.push(e),r.controlPointOptions=e.options},o}(E),p.prototype.defaultOptions=n(E.prototype.defaultOptions,{typeOptions:{line:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:void 0},controlPointOptions:{positioner:function(){var t=this.target,o=this.graphic,e=t.secondLineEdgePoints,r={annotation:t},u=e[0](r).y,l=e[1](r).y;t=this.chart.plotLeft;var a=this.chart.plotTop;return e=e[0](r).x,u=(u+l)/2,this.chart.inverted&&(u=[u,e],e=u[0],u=u[1]),{x:t+e-o.width/2,y:a+u-o.height/2}},events:{drag:function(t,o){o.chart.isInsidePlot(t.chartX-o.chart.plotLeft,t.chartY-o.chart.plotTop,{visiblePlotOnly:!0})&&(t=this.mouseMoveToTranslation(t),o.translatePoint(t.x,0,1),o.redraw(!1))}}}}}),C.types.fibonacciTimeZones=p,p}),I(f,"Extensions/Annotations/Types/Pitchfork.js",[f["Extensions/Annotations/Annotation.js"],f["Extensions/Annotations/Types/InfinityLine.js"],f["Extensions/Annotations/MockPoint.js"],f["Core/Utilities.js"]],function(C,b,E,A){var M=this&&this.__extends||function(){var s=function(i,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])},s(i,n)};return function(i,n){function t(){this.constructor=i}s(i,n),i.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),p=A.merge;return A=function(s){function i(){return s!==null&&s.apply(this,arguments)||this}return M(i,s),i.outerLineEdgePoint=function(n){return function(t){var o=t.annotation,e=o.points;return i.findEdgePoint(e[n],e[0],new E(o.chart,t,o.midPointOptions()))}},i.findEdgePoint=function(n,t,o){return t=Math.atan2(o.plotY-t.plotY,o.plotX-t.plotX),{x:n.plotX+1e7*Math.cos(t),y:n.plotY+1e7*Math.sin(t)}},i.middleLineEdgePoint=function(n){var t=n.annotation;return b.findEdgePoint(t.points[0],new E(t.chart,n,t.midPointOptions()))},i.prototype.midPointOptions=function(){var n=this.points;return{x:(n[1].x+n[2].x)/2,y:(n[1].y+n[2].y)/2,xAxis:n[0].series.xAxis,yAxis:n[0].series.yAxis}},i.prototype.addShapes=function(){this.addLines(),this.addBackgrounds()},i.prototype.addLines=function(){this.initShape({type:"path",points:[this.points[0],i.middleLineEdgePoint]},0),this.initShape({type:"path",points:[this.points[1],i.topLineEdgePoint]},1),this.initShape({type:"path",points:[this.points[2],i.bottomLineEdgePoint]},2)},i.prototype.addBackgrounds=function(){var n=this.shapes,t=this.options.typeOptions,o=this.initShape(p(t.innerBackground,{type:"path",points:[function(e){var r=e.annotation;return e=r.points,r=r.midPointOptions(),{x:(e[1].x+r.x)/2,y:(e[1].y+r.y)/2,xAxis:r.xAxis,yAxis:r.yAxis}},n[1].points[1],n[2].points[1],function(e){var r=e.annotation;return e=r.points,r=r.midPointOptions(),{x:(r.x+e[2].x)/2,y:(r.y+e[2].y)/2,xAxis:r.xAxis,yAxis:r.yAxis}}]}),3);n=this.initShape(p(t.outerBackground,{type:"path",points:[this.points[1],n[1].points[1],n[2].points[1],this.points[2]]}),4),t.innerBackground=o.options,t.outerBackground=n.options},i.topLineEdgePoint=i.outerLineEdgePoint(1),i.bottomLineEdgePoint=i.outerLineEdgePoint(0),i}(b),A.prototype.defaultOptions=p(b.prototype.defaultOptions,{typeOptions:{innerBackground:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},outerBackground:{fill:"rgba(156, 229, 161, 0.4)",strokeWidth:0}}}),C.types.pitchfork=A}),I(f,"Extensions/Annotations/Types/VerticalLine.js",[f["Extensions/Annotations/Annotation.js"],f["Extensions/Annotations/MockPoint.js"],f["Core/Utilities.js"]],function(C,b,E){var A=this&&this.__extends||function(){var s=function(i,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])},s(i,n)};return function(i,n){function t(){this.constructor=i}s(i,n),i.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),M=E.merge,p=E.pick;return E=function(s){function i(){return s!==null&&s.apply(this,arguments)||this}return A(i,s),i.connectorFirstPoint=function(n){var t=n.annotation;n=t.chart;var o=n.inverted,e=t.points[0],r=p(e.series.yAxis&&e.series.yAxis.left,0),u=p(e.series.yAxis&&e.series.yAxis.top,0);t=t.options.typeOptions.label.offset;var l=b.pointToPixels(e,!0)[o?"x":"y"];return{x:e.x,xAxis:e.series.xAxis,y:l+t+(o?r-n.plotLeft:u-n.plotTop)}},i.connectorSecondPoint=function(n){var t=n.annotation;n=t.chart;var o=n.inverted,e=t.options.typeOptions;t=t.points[0];var r=p(t.series.yAxis&&t.series.yAxis.left,0),u=p(t.series.yAxis&&t.series.yAxis.top,0),l=b.pointToPixels(t,!0)[o?"x":"y"],a=e.yOffset;return 0>e.label.offset&&(a*=-1),{x:t.x,xAxis:t.series.xAxis,y:l+a+(o?r-n.plotLeft:u-n.plotTop)}},i.prototype.getPointsOptions=function(){return[this.options.typeOptions.point]},i.prototype.addShapes=function(){var n=this.options.typeOptions,t=this.initShape(M(n.connector,{type:"path",points:[i.connectorFirstPoint,i.connectorSecondPoint]}),0);n.connector=t.options},i.prototype.addLabels=function(){var n=this.options.typeOptions,t=n.label,o=0,e=t.offset,r=0>t.offset?"bottom":"top",u="center";this.chart.inverted&&(o=t.offset,e=0,r="middle",u=0>t.offset?"right":"left"),t=this.initLabel(M(t,{verticalAlign:r,align:u,x:o,y:e})),n.label=t.options},i}(C),E.prototype.defaultOptions=M(C.prototype.defaultOptions,{typeOptions:{yOffset:10,label:{offset:-40,point:function(s){return s.annotation.points[0]},allowOverlap:!0,backgroundColor:"none",borderWidth:0,crop:!0,overflow:"none",shape:"rect",text:"{y:.2f}"},connector:{strokeWidth:1,markerEnd:"arrow"}}}),C.types.verticalLine=E}),I(f,"Extensions/Annotations/Types/Measure.js",[f["Extensions/Annotations/Annotation.js"],f["Extensions/Annotations/ControlPoint.js"],f["Core/Utilities.js"]],function(C,b,E){function A(){var y=this.chart.series,d=p(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),h=0,c=!1;return y.forEach(function(m){m.visible&&m.options.id!=="highcharts-navigator-series"&&m.points.forEach(function(v){!v.isNull&&v.x>d.xAxisMin&&v.x<=d.xAxisMax&&v.y>d.yAxisMin&&v.y<=d.yAxisMax&&(h++,c=!0)})}),c||(h=""),h}function M(){return"Min: "+this.min+"<br>Max: "+this.max+"<br>Average: "+this.average+"<br>Bins: "+this.bins}function p(y,d,h,c){return{xAxisMin:Math.min(d,y),xAxisMax:Math.max(d,y),yAxisMin:Math.min(c,h),yAxisMax:Math.max(c,h)}}function s(y,d,h){return y.toValue(y.toPixels(d)+h)}function i(){var y=this.chart.series,d=p(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),h=-1/0,c=!1;return y.forEach(function(m){m.visible&&m.options.id!=="highcharts-navigator-series"&&m.points.forEach(function(v){!v.isNull&&v.y>h&&v.x>d.xAxisMin&&v.x<=d.xAxisMax&&v.y>d.yAxisMin&&v.y<=d.yAxisMax&&(h=v.y,c=!0)})}),c||(h=""),h}function n(){var y=this.chart.series,d=p(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),h=1/0,c=!1;return y.forEach(function(m){m.visible&&m.options.id!=="highcharts-navigator-series"&&m.points.forEach(function(v){!v.isNull&&v.y<h&&v.x>d.xAxisMin&&v.x<=d.xAxisMax&&v.y>d.yAxisMin&&v.y<=d.yAxisMax&&(h=v.y,c=!0)})}),c||(h=""),h}function t(y){var d=this.options.typeOptions,h=this.chart.xAxis[d.xAxis];d=this.chart.yAxis[d.yAxis];var c=this.offsetX,m=this.offsetY;this.xAxisMin=s(h,this.startXMin,c),this.xAxisMax=s(h,this.startXMax,c),this.yAxisMin=s(d,this.startYMin,m),this.yAxisMax=s(d,this.startYMax,m),this.min=n.call(this),this.max=i.call(this),h="",this.max!==""&&this.min!==""&&(h=(this.max+this.min)/2),this.average=h,this.bins=A.call(this),y&&this.resize(0,0)}function o(y,d,h,c,m){var v=this.options.typeOptions,N=v.selectType,X=this.chart.xAxis[v.xAxis];v=this.chart.yAxis[v.yAxis];var D=this.startXMin,T=this.startXMax,L=this.startYMin,O=this.startYMax,g=this.offsetX,P=this.offsetY;d&&(N==="x"?h===0?this.startXMin=s(X,D,c):this.startXMax=s(X,T,c):N==="y"?h===0?this.startYMin=s(v,L,m):this.startYMax=s(v,O,m):(this.startXMax=s(X,T,c),this.startYMax=s(v,O,m))),y&&(this.startXMin=s(X,D,g),this.startXMax=s(X,T,g),this.startYMin=s(v,L,P),this.startYMax=s(v,O,P),this.offsetY=this.offsetX=0)}var e=this&&this.__extends||function(){var y=function(d,h){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=m}||function(c,m){for(var v in m)m.hasOwnProperty(v)&&(c[v]=m[v])},y(d,h)};return function(d,h){function c(){this.constructor=d}y(d,h),d.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}(),r=E.defined,u=E.extend,l=E.isNumber,a=E.merge,x=E.pick;return E=function(y){function d(){return y!==null&&y.apply(this,arguments)||this}return e(d,y),d.prototype.init=function(h,c,m){C.prototype.init.call(this,h,c,m),this.resizeY=this.resizeX=this.offsetY=this.offsetX=0,h=this.options.typeOptions;var v=this.chart;m=v.inverted,c=v.xAxis[h.xAxis],v=v.yAxis[h.yAxis];var N=h.background,X=m?N.height:N.width;N=m?N.width:N.height;var D=h.selectType,T=m?c.left:v.top;m=m?v.top:c.left,this.startXMin=h.point.x,this.startYMin=h.point.y,l(X)?this.startXMax=this.startXMin+X:this.startXMax=s(c,this.startXMin,parseFloat(X)),l(N)?this.startYMax=this.startYMin-N:this.startYMax=s(v,this.startYMin,parseFloat(N)),D==="x"?(this.startYMin=v.toValue(T),this.startYMax=v.toValue(T+v.len)):D==="y"&&(this.startXMin=c.toValue(m),this.startXMax=c.toValue(m+c.len)),this.addValues(),this.addShapes()},d.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},d.prototype.pointsOptions=function(){return this.options.points},d.prototype.shapePointsOptions=function(){var h=this.options.typeOptions,c=h.xAxis;return h=h.yAxis,[{x:this.xAxisMin,y:this.yAxisMin,xAxis:c,yAxis:h},{x:this.xAxisMax,y:this.yAxisMin,xAxis:c,yAxis:h},{x:this.xAxisMax,y:this.yAxisMax,xAxis:c,yAxis:h},{x:this.xAxisMin,y:this.yAxisMax,xAxis:c,yAxis:h}]},d.prototype.addControlPoints=function(){var h=this.chart.inverted,c=this.options.controlPointOptions,m=this.options.typeOptions.selectType;r(this.userOptions.controlPointOptions&&this.userOptions.controlPointOptions.style.cursor)||(m==="x"?c.style.cursor=h?"ns-resize":"ew-resize":m==="y"&&(c.style.cursor=h?"ew-resize":"ns-resize")),h=new b(this.chart,this,this.options.controlPointOptions,0),this.controlPoints.push(h),m!=="xy"&&(h=new b(this.chart,this,this.options.controlPointOptions,1),this.controlPoints.push(h))},d.prototype.addValues=function(h){var c=this.options.typeOptions,m=c.label.formatter;t.call(this,h),c.label.enabled&&(0<this.labels.length?this.labels[0].text=m&&m.call(this)||M.call(this):this.initLabel(u({shape:"rect",backgroundColor:"none",color:"black",borderWidth:0,dashStyle:"Dash",overflow:"allow",align:"left",y:0,x:0,verticalAlign:"top",crop:!0,xAxis:0,yAxis:0,point:function(v){var N=v.annotation;return v=v.options,{x:N.xAxisMin,y:N.yAxisMin,xAxis:x(c.xAxis,v.xAxis),yAxis:x(c.yAxis,v.yAxis)}},text:m&&m.call(this)||M.call(this)},c.label),void 0))},d.prototype.addShapes=function(){this.addCrosshairs(),this.addBackground()},d.prototype.addBackground=function(){typeof this.shapePointsOptions()[0].x<"u"&&this.initShape(u({type:"path",points:this.shapePointsOptions()},this.options.typeOptions.background),2)},d.prototype.addCrosshairs=function(){var h=this.chart,c=this.options.typeOptions,m=h.xAxis[c.xAxis],v=h.yAxis[c.yAxis],N=h.inverted;h={point:this.options.typeOptions.point,type:"path"};var X=m.toPixels(this.xAxisMin),D=m.toPixels(this.xAxisMax),T=v.toPixels(this.yAxisMin),L=v.toPixels(this.yAxisMax);v=[],m=[],N&&(N=X,X=T,T=N,N=D,D=L,L=N),c.crosshairX.enabled&&(v=[["M",X,T+(L-T)/2],["L",D,T+(L-T)/2]]),c.crosshairY.enabled&&(m=[["M",X+(D-X)/2,T],["L",X+(D-X)/2,L]]),0<this.shapes.length?(this.shapes[0].options.d=v,this.shapes[1].options.d=m):(X=a(h,c.crosshairX),c=a(h,c.crosshairY),this.initShape(u({d:v},X),0),this.initShape(u({d:m},c),1))},d.prototype.onDrag=function(h){var c=this.mouseMoveToTranslation(h),m=this.options.typeOptions.selectType;h=m==="y"?0:c.x,c=m==="x"?0:c.y,this.translate(h,c),this.offsetX+=h,this.offsetY+=c,this.redraw(!1,!1,!0)},d.prototype.resize=function(h,c,m,v){var N=this.shapes[2];v==="x"?m===0?(N.translatePoint(h,0,0),N.translatePoint(h,c,3)):(N.translatePoint(h,0,1),N.translatePoint(h,c,2)):v==="y"?m===0?(N.translatePoint(0,c,0),N.translatePoint(0,c,1)):(N.translatePoint(0,c,2),N.translatePoint(0,c,3)):(N.translatePoint(h,0,1),N.translatePoint(h,c,2),N.translatePoint(0,c,3)),o.call(this,!1,!0,m,h,c),this.options.typeOptions.background.height=Math.abs(this.startYMax-this.startYMin),this.options.typeOptions.background.width=Math.abs(this.startXMax-this.startXMin)},d.prototype.redraw=function(h,c,m){this.linkPoints(),this.graphic||this.render(),m&&o.call(this,!0,!1),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.addValues(c),this.addCrosshairs(),this.redrawItems(this.shapes,h),this.redrawItems(this.labels,h),this.controlPoints.forEach(function(v){return v.redraw()})},d.prototype.translate=function(h,c){this.shapes.forEach(function(m){return m.translate(h,c)}),this.options.typeOptions.point.x=this.startXMin,this.options.typeOptions.point.y=this.startYMin},d}(C),E.prototype.defaultOptions=a(C.prototype.defaultOptions,{typeOptions:{selectType:"xy",xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0,stroke:void 0},crosshairX:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},crosshairY:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},label:{enabled:!0,style:{fontSize:"11px",color:"#666666"},formatter:void 0}},controlPointOptions:{positioner:function(y){var d=this.index,h=y.chart,c=y.options,m=c.typeOptions,v=m.selectType;c=c.controlPointOptions;var N=h.inverted,X=h.xAxis[m.xAxis];h=h.yAxis[m.yAxis];var D=p(y.xAxisMin,y.xAxisMax,y.yAxisMin,y.yAxisMax);m=y.xAxisMax;var T=y.yAxisMax;return v==="x"&&(T=(D.yAxisMax+D.yAxisMin)/2,d===0&&(m=y.xAxisMin)),v==="y"&&(m=D.xAxisMin+(D.xAxisMax-D.xAxisMin)/2,d===0&&(T=y.yAxisMin)),N?(y=h.toPixels(T),d=X.toPixels(m)):(y=X.toPixels(m),d=h.toPixels(T)),{x:y-c.width/2,y:d-c.height/2}},events:{drag:function(y,d){var h=this.mouseMoveToTranslation(y);y=d.options.typeOptions.selectType;var c=y==="y"?0:h.x;h=y==="x"?0:h.y,d.resize(c,h,this.index,y),d.resizeX+=c,d.resizeY+=h,d.redraw(!1,!0)}}}}),C.types.measure=E}),I(f,"masters/modules/annotations-advanced.src.js",[f["Core/Globals.js"],f["Extensions/Annotations/Annotation.js"]],function(C,b){C.Annotation=b,b.compose(C.Chart,C.Pointer,C.SVGRenderer)})})})(nt);const ot=$,st=it({__proto__:null,default:ot},[$]);export{st as a};
