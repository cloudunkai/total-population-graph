function K(F,h){for(var X=0;X<h.length;X++){const C=h[X];if(typeof C!="string"&&!Array.isArray(C)){for(const d in C)if(d!=="default"&&!(d in F)){const p=Object.getOwnPropertyDescriptor(C,d);p&&Object.defineProperty(F,d,p.get?p:{enumerable:!0,get:()=>C[d]})}}}return Object.freeze(Object.defineProperty(F,Symbol.toStringTag,{value:"Module"}))}var J={},$={get exports(){return J},set exports(F){J=F}};(function(F){(function(h){F.exports?(h.default=h,F.exports=h):h(typeof Highcharts<"u"?Highcharts:void 0)})(function(h){function X(C,d,p,j){C.hasOwnProperty(d)||(C[d]=j.apply(null,p),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:d,module:C[d]}})))}h=h?h._modules:{},X(h,"Core/Geometry/GeometryUtilities.js",[],function(){var C;return function(d){d.getCenterOfPoints=function(p){var j=p.reduce(function(E,v){return E.x+=v.x,E.y+=v.y,E},{x:0,y:0});return{x:j.x/p.length,y:j.y/p.length}},d.getDistanceBetweenPoints=function(p,j){return Math.sqrt(Math.pow(j.x-p.x,2)+Math.pow(j.y-p.y,2))},d.getAngleBetweenPoints=function(p,j){return Math.atan2(j.x-p.x,j.y-p.y)}}(C||(C={})),C}),X(h,"Core/Geometry/CircleUtilities.js",[h["Core/Geometry/GeometryUtilities.js"]],function(C){var d=C.getAngleBetweenPoints,p=C.getCenterOfPoints,j=C.getDistanceBetweenPoints,E;return function(v){function P(l,c){return c=Math.pow(10,c),Math.round(l*c)/c}function I(l){if(0>=l)throw Error("radius of circle must be a positive number.");return Math.PI*l*l}function A(l,c){return l*l*Math.acos(1-c/l)-(l-c)*Math.sqrt(c*(2*l-c))}function _(l,c){var m=j(l,c),O=l.r,U=c.r,S=[];if(m<O+U&&m>Math.abs(O-U)){O*=O;var M=(O-U*U+m*m)/(2*m);U=Math.sqrt(O-M*M),O=l.x,S=c.x,l=l.y;var G=c.y;c=O+M*(S-O)/m,M=l+M*(G-l)/m,l=U/m*-(G-l),m=U/m*-(S-O),S=[{x:P(c+l,14),y:P(M-m,14)},{x:P(c-l,14),y:P(M+m,14)}]}return S}function R(l){return l.reduce(function(c,m,O,U){return U=U.slice(O+1).reduce(function(S,M,G,N){var B=[O,G+O+1];return S.concat(_(m,M).map(function(o){return o.indexes=B,o}))},[]),c.concat(U)},[])}function H(l,c){return j(l,c)<=c.r+1e-10}function W(l,c){return!c.some(function(m){return!H(l,m)})}function z(l){return R(l).filter(function(c){return W(c,l)})}v.round=P,v.getAreaOfCircle=I,v.getCircularSegmentArea=A,v.getOverlapBetweenCircles=function(l,c,m){var O=0;return m<l+c&&(m<=Math.abs(c-l)?O=I(l<c?l:c):(O=(l*l-c*c+m*m)/(2*m),m-=O,O=A(l,l-O)+A(c,c-m)),O=P(O,14)),O},v.getCircleCircleIntersection=_,v.getCirclesIntersectionPoints=R,v.isCircle1CompletelyOverlappingCircle2=function(l,c){return j(l,c)+c.r<l.r+1e-10},v.isPointInsideCircle=H,v.isPointInsideAllCircles=W,v.isPointOutsideAllCircles=function(l,c){return!c.some(function(m){return H(l,m)})},v.getCirclesIntersectionPolygon=z,v.getAreaOfIntersectionBetweenCircles=function(l){var c=z(l);if(1<c.length){var m=p(c);c=c.map(function(S){return S.angle=d(m,S),S}).sort(function(S,M){return M.angle-S.angle});var O=c[c.length-1];if(c=c.reduce(function(S,M){var G=S.startPoint,N=p([G,M]),B=M.indexes.filter(function(n){return-1<G.indexes.indexOf(n)}).reduce(function(n,r){r=l[r];var t=d(r,M),e=d(r,G);return t=e-(e-t+(e<t?2*Math.PI:0))/2,t=j(N,{x:r.x+r.r*Math.sin(t),y:r.y+r.r*Math.cos(t)}),r=r.r,t>2*r&&(t=2*r),(!n||n.width>t)&&(n={r,largeArc:t>r?1:0,width:t,x:M.x,y:M.y}),n},null);if(B){var o=B.r;S.arcs.push(["A",o,o,0,B.largeArc,1,B.x,B.y]),S.startPoint=M}return S},{startPoint:O,arcs:[]}).arcs,c.length!==0&&c.length!==1){c.unshift(["M",O.x,O.y]);var U={center:m,d:c}}}return U}}(E||(E={})),E}),X(h,"Series/DrawPointUtilities.js",[h["Core/Utilities.js"]],function(C){return{draw:function(d,p){var j=p.animatableAttribs,E=p.onComplete,v=p.css,P=p.renderer,I=d.series&&d.series.chart.hasRendered?void 0:d.series&&d.series.options.animation,A=d.graphic;if(p.attribs=p.attribs||{},p.attribs.class=d.getClassName(),d.shouldDraw())A||(d.graphic=A=p.shapeType==="text"?P.text():P[p.shapeType](p.shapeArgs||{}),A.add(p.group)),v&&A.css(v),A.attr(p.attribs).animate(j,p.isNew?!1:I,E);else if(A){var _=function(){d.graphic=A=A&&A.destroy(),typeof E=="function"&&E()};Object.keys(j).length?A.animate(j,void 0,function(){return _()}):_()}}}}),X(h,"Series/Venn/VennPoint.js",[h["Core/Series/SeriesRegistry.js"],h["Core/Utilities.js"]],function(C,d){var p=this&&this.__extends||function(){var E=function(v,P){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,A){I.__proto__=A}||function(I,A){for(var _ in A)A.hasOwnProperty(_)&&(I[_]=A[_])},E(v,P)};return function(v,P){function I(){this.constructor=v}E(v,P),v.prototype=P===null?Object.create(P):(I.prototype=P.prototype,new I)}}(),j=d.isNumber;return function(E){function v(){var P=E!==null&&E.apply(this,arguments)||this;return P.options=void 0,P.series=void 0,P}return p(v,E),v.prototype.isValid=function(){return j(this.value)},v.prototype.shouldDraw=function(){return!!this.shapeArgs},v}(C.seriesTypes.scatter.prototype.pointClass)}),X(h,"Series/Venn/VennUtils.js",[h["Core/Geometry/CircleUtilities.js"],h["Core/Geometry/GeometryUtilities.js"],h["Core/Utilities.js"]],function(C,d,p){function j(o){var n=o.filter(function(r){return r.sets.length===2}).reduce(function(r,t){return t.sets.forEach(function(e,i,s){N(r[e])||(r[e]={overlapping:{},totalOverlap:0}),r[e].totalOverlap+=t.value,r[e].overlapping[s[1-i]]=t.value}),r},{});return o.filter(A).forEach(function(r){S(r,n[r.sets[0]])}),o}function E(o,n,r,t,e){var i=o(n),s=o(r);e=e||100,t=t||1e-10;var u=r-n,f=1;if(n>=r)throw Error("a must be smaller than b.");if(0<i*s)throw Error("f(a) and f(b) must have opposite signs.");if(i===0)var g=n;else if(s===0)g=r;else for(;f++<=e&&y!==0&&u>t;){u=(r-n)/2,g=n+u;var y=o(g);0<i*y?n=g:r=g}return g}function v(o){o=o.slice(0,-1);for(var n=o.length,r=[],t=function(i,s){return i.sum+=s[i.i],i},e=0;e<n;e++)r[e]=o.reduce(t,{sum:0,i:e}).sum/n;return r}function P(o,n,r){var t=o+n;return 0>=r?t:W(o<n?o:n)<=r?0:E(function(e){return e=l(o,n,e),r-e},0,t)}function I(o){var n=0;return o.length===2&&(n=o[0],o=o[1],n=l(n.r,o.r,U(n,o))),n}function A(o){return M(o.sets)&&o.sets.length===1}function _(o){var n={};return N(o)&&G(o.value)&&-1<o.value&&M(o.sets)&&0<o.sets.length&&!o.sets.some(function(r){var t=!1;return!n[r]&&B(r)?n[r]=!0:t=!0,t})}function R(o,n){return n.reduce(function(r,t){var e=0;return 1<t.sets.length&&(e=t.value,t=I(t.sets.map(function(i){return o[i]})),t=e-t,e=Math.round(t*t*1e11)/1e11),r+e},0)}function H(o,n){return n.totalOverlap-o.totalOverlap}var W=C.getAreaOfCircle,z=C.getCircleCircleIntersection,l=C.getOverlapBetweenCircles,c=C.isPointInsideAllCircles,m=C.isPointInsideCircle,O=C.isPointOutsideAllCircles,U=d.getDistanceBetweenPoints,S=p.extend,M=p.isArray,G=p.isNumber,N=p.isObject,B=p.isString;return{geometry:d,geometryCircles:C,addOverlapToSets:j,getCentroid:v,getDistanceBetweenCirclesByOverlap:P,getLabelWidth:function(o,n,r){var t=n.reduce(function(i,s){return Math.min(s.r,i)},1/0),e=r.filter(function(i){return!m(o,i)});return r=function(i,s){return E(function(u){var f={x:o.x+s*u,y:o.y};return f=c(f,n)&&O(f,e),-(i-u)+(f?0:Number.MAX_VALUE)},0,i)},2*Math.min(r(t,-1),r(t,1))},getMarginFromCircles:function(o,n,r){return n=n.reduce(function(t,e){return e=e.r-U(o,e),e<=t?e:t},Number.MAX_VALUE),n=r.reduce(function(t,e){return e=U(o,e)-e.r,e<=t?e:t},n)},isSet:A,layoutGreedyVenn:function(o){var n=[],r={};o.filter(function(s){return s.sets.length===1}).forEach(function(s){r[s.sets[0]]=s.circle={x:Number.MAX_VALUE,y:Number.MAX_VALUE,r:Math.sqrt(s.value/Math.PI)}});var t=function(s,u){var f=s.circle;f.x=u.x,f.y=u.y,n.push(s)};j(o);var e=o.filter(A).sort(H);t(e.shift(),{x:0,y:0});var i=o.filter(function(s){return s.sets.length===2});return e.forEach(function(s){var u=s.circle,f=u.r,g=s.overlapping,y=n.reduce(function(L,x,w){var a=x.circle,T=P(f,a.r,g[x.sets[0]]),D=[{x:a.x+T,y:a.y},{x:a.x-T,y:a.y},{x:a.x,y:a.y+T},{x:a.x,y:a.y-T}];return n.slice(w+1).forEach(function(V){var Y=V.circle;V=P(f,Y.r,g[V.sets[0]]),D=D.concat(z({x:a.x,y:a.y,r:T},{x:Y.x,y:Y.y,r:V}))}),D.forEach(function(V){u.x=V.x,u.y=V.y;var Y=R(r,i);Y<L.loss&&(L.loss=Y,L.coordinates=V)}),L},{loss:Number.MAX_VALUE,coordinates:void 0});t(s,y.coordinates)}),r},loss:R,nelderMead:function(o,n){var r=function(x,w){return x.fx-w.fx},t=function(x,w,a,T){return w.map(function(D,V){return x*D+a*T[V]})},e=function(x,w){return w.fx=o(w),x[x.length-1]=w,x},i=function(x){var w=x[0];return x.map(function(a){return a=t(.5,w,.5,a),a.fx=o(a),a})},s=function(x,w,a,T){return x=t(a,x,T,w),x.fx=o(x),x};n=function(x){var w=x.length,a=Array(w+1);a[0]=x,a[0].fx=o(x);for(var T=0;T<w;++T){var D=x.slice();D[T]=D[T]?1.05*D[T]:.001,D.fx=o(D),a[T+1]=D}return a}(n);for(var u=0;100>u;u++){n.sort(r);var f=n[n.length-1],g=v(n),y=s(g,f,2,-1);if(y.fx<n[0].fx)f=s(g,f,3,-2),n=e(n,f.fx<y.fx?f:y);else if(y.fx>=n[n.length-2].fx){var L=void 0;y.fx>f.fx?(L=s(g,f,.5,.5),n=L.fx<f.fx?e(n,L):i(n)):(L=s(g,f,1.5,-.5),n=L.fx<y.fx?e(n,L):i(n))}else n=e(n,y)}return n[0]},processVennData:function(o){o=M(o)?o:[];var n=o.reduce(function(t,e){return _(e)&&A(e)&&0<e.value&&t.indexOf(e.sets[0])===-1&&t.push(e.sets[0]),t},[]).sort(),r=o.reduce(function(t,e){return _(e)&&!e.sets.some(function(i){return n.indexOf(i)===-1})&&(t[e.sets.sort().join()]=e),t},{});return n.reduce(function(t,e,i,s){return s.slice(i+1).forEach(function(u){t.push(e+","+u)}),t},[]).forEach(function(t){if(!r[t]){var e={sets:t.split(","),value:0};r[t]=e}}),Object.keys(r).map(function(t){return r[t]})},sortByTotalOverlap:H}}),X(h,"Series/Venn/VennSeries.js",[h["Core/Animation/AnimationUtilities.js"],h["Core/Color/Color.js"],h["Core/Geometry/CircleUtilities.js"],h["Series/DrawPointUtilities.js"],h["Core/Geometry/GeometryUtilities.js"],h["Core/Series/SeriesRegistry.js"],h["Series/Venn/VennPoint.js"],h["Series/Venn/VennUtils.js"],h["Core/Legend/LegendSymbol.js"],h["Core/Utilities.js"]],function(C,d,p,j,E,v,P,I,A,_){var R=this&&this.__extends||function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])},n(r,t)};return function(r,t){function e(){this.constructor=r}n(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),H=C.animObject,W=d.parse,z=p.getAreaOfIntersectionBetweenCircles,l=p.getCirclesIntersectionPolygon,c=p.isCircle1CompletelyOverlappingCircle2,m=p.isPointInsideAllCircles,O=p.isPointOutsideAllCircles,U=E.getCenterOfPoints,S=v.seriesTypes.scatter;C=_.addEvent;var M=_.extend,G=_.isArray,N=_.isNumber,B=_.isObject,o=_.merge;return _=function(n){function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.mapOfIdToRelation=void 0,t.options=void 0,t.points=void 0,t}return R(r,n),r.getLabelPosition=function(t,e){var i=t.reduce(function(s,u){var f=u.r/2;return[{x:u.x,y:u.y},{x:u.x+f,y:u.y},{x:u.x-f,y:u.y},{x:u.x,y:u.y+f},{x:u.x,y:u.y-f}].reduce(function(g,y){var L=I.getMarginFromCircles(y,t,e);return g.margin<L&&(g.point=y,g.margin=L),g},s)},{point:void 0,margin:-Number.MAX_VALUE}).point;return i=I.nelderMead(function(s){return-I.getMarginFromCircles({x:s[0],y:s[1]},t,e)},[i.x,i.y]),i={x:i[0],y:i[1]},m(i,t)&&O(i,e)||(i=1<t.length?U(l(t)):{x:t[0].x,y:t[0].y}),i},r.getLabelValues=function(t,e){var i=t.sets,s=e.reduce(function(u,f){var g=-1<i.indexOf(f.sets[0]);return u[g?"internal":"external"].push(f.circle),u},{internal:[],external:[]});return s.external=s.external.filter(function(u){return s.internal.some(function(f){return!c(u,f)})}),t=r.getLabelPosition(s.internal,s.external),e=I.getLabelWidth(t,s.internal,s.external),{position:t,width:e}},r.layout=function(t){var e={},i={};if(0<t.length){var s=I.layoutGreedyVenn(t),u=t.filter(I.isSet);t.forEach(function(f){var g=f.sets,y=g.join();(g=I.isSet(f)?s[y]:z(g.map(function(L){return s[L]})))&&(e[y]=g,i[y]=r.getLabelValues(f,u))})}return{mapOfIdToShape:e,mapOfIdToLabelValues:i}},r.getScale=function(t,e,i){var s=i.bottom-i.top,u=i.right-i.left;return s=Math.min(0<u?1/u*t:1,0<s?1/s*e:1),{scale:s,centerX:t/2-(i.right+i.left)/2*s,centerY:e/2-(i.top+i.bottom)/2*s}},r.updateFieldBoundaries=function(t,e){var i=e.x-e.r,s=e.x+e.r,u=e.y+e.r;return e=e.y-e.r,(!N(t.left)||t.left>i)&&(t.left=i),(!N(t.right)||t.right<s)&&(t.right=s),(!N(t.top)||t.top>e)&&(t.top=e),(!N(t.bottom)||t.bottom<u)&&(t.bottom=u),t},r.prototype.animate=function(t){if(!t){var e=H(this.options.animation);this.points.forEach(function(i){var s=i.shapeArgs;if(i.graphic&&s){var u={},f={};s.d?u.opacity=.001:(u.r=0,f.r=s.r),i.graphic.attr(u).animate(f,e),s.d&&setTimeout(function(){i&&i.graphic&&i.graphic.animate({opacity:1})},e.duration)}},this)}},r.prototype.drawPoints=function(){var t=this,e=t.chart,i=t.group,s=e.renderer;(t.points||[]).forEach(function(u){var f={zIndex:G(u.sets)?u.sets.length:0},g=u.shapeArgs;e.styledMode||M(f,t.pointAttribs(u,u.state)),j.draw(u,{isNew:!u.graphic,animatableAttribs:g,attribs:f,group:i,renderer:s,shapeType:g&&g.d?"path":"circle"})})},r.prototype.init=function(){S.prototype.init.apply(this,arguments),delete this.opacity},r.prototype.pointAttribs=function(t,e){var i=this.options||{};return t=o(i,{color:t&&t.color},t&&t.options||{},e&&i.states[e]||{}),{fill:W(t.color).brighten(t.brightness).get(),opacity:t.opacity,stroke:t.borderColor,"stroke-width":t.borderWidth,dashstyle:t.borderDashStyle}},r.prototype.translate=function(){var t=this.chart;this.processedXData=this.xData,this.generatePoints();var e=I.processVennData(this.options.data);e=r.layout(e);var i=e.mapOfIdToShape,s=e.mapOfIdToLabelValues;e=Object.keys(i).filter(function(y){return(y=i[y])&&N(y.r)}).reduce(function(y,L){return r.updateFieldBoundaries(y,i[L])},{top:0,bottom:0,left:0,right:0}),t=r.getScale(t.plotWidth,t.plotHeight,e);var u=t.scale,f=t.centerX,g=t.centerY;this.points.forEach(function(y){var L=G(y.sets)?y.sets:[],x=L.join(),w=i[x],a=s[x]||{};x=a.width,a=a.position;var T=y.options&&y.options.dataLabels;if(w){if(w.r)var D={x:f+w.x*u,y:g+w.y*u,r:w.r*u};else w.d&&(w=w.d,w.forEach(function(V){V[0]==="M"?(V[1]=f+V[1]*u,V[2]=g+V[2]*u):V[0]==="A"&&(V[1]*=u,V[2]*=u,V[6]=f+V[6]*u,V[7]=g+V[7]*u)}),D={d:w});a?(a.x=f+a.x*u,a.y=g+a.y*u):a={},N(x)&&(x=Math.round(x*u))}y.shapeArgs=D,a&&D&&(y.plotX=a.x,y.plotY=a.y),x&&D&&(y.dlOptions=o(!0,{style:{width:x}},B(T,!0)?T:void 0)),y.name=y.options.name||L.join("∩")})},r.defaultOptions=o(S.defaultOptions,{borderColor:"#cccccc",borderDashStyle:"solid",borderWidth:1,brighten:0,clip:!1,colorByPoint:!0,dataLabels:{enabled:!0,verticalAlign:"middle",formatter:function(){return this.point.name}},inactiveOtherPoints:!0,marker:!1,opacity:.75,showInLegend:!1,legendType:"point",states:{hover:{opacity:1,borderColor:"#333333"},select:{color:"#cccccc",borderColor:"#000000",animation:!1},inactive:{opacity:.075}},tooltip:{pointFormat:"{point.name}: {point.value}"}}),r}(S),M(_.prototype,{axisTypes:[],directTouch:!0,drawLegendSymbol:A.drawRectangle,isCartesian:!1,pointArrayMap:["value"],pointClass:P,utils:I}),v.registerSeriesType("venn",_),C(_,"afterSetOptions",function(n){var r=n.options.states;this.is("venn")&&Object.keys(r).forEach(function(t){r[t].halo=!1})}),_}),X(h,"masters/modules/venn.src.js",[],function(){})})})($);const Q=J,Z=K({__proto__:null,default:Q},[J]);export{Z as v};
