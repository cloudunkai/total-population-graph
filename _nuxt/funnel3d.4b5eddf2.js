function Y(k,s){for(var G=0;G<s.length;G++){const l=s[G];if(typeof l!="string"&&!Array.isArray(l)){for(const h in l)if(h!=="default"&&!(h in k)){const b=Object.getOwnPropertyDescriptor(l,h);b&&Object.defineProperty(k,h,b.get?b:{enumerable:!0,get:()=>l[h]})}}}return Object.freeze(Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}))}var W={},$={get exports(){return W},set exports(k){W=k}};(function(k){(function(s){k.exports?(s.default=s,k.exports=s):s(typeof Highcharts<"u"?Highcharts:void 0)})(function(s){function G(l,h,b,f){l.hasOwnProperty(h)||(l[h]=f.apply(null,b),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:h,module:l[h]}})))}s=s?s._modules:{},G(s,"Series/Funnel3D/Funnel3DComposition.js",[s["Core/Color/Color.js"],s["Core/Globals.js"],s["Core/Renderer/SVG/SVGRenderer3D.js"],s["Core/Utilities.js"]],function(l,h,b,f){var x=l.parse,u=h.charts,A=f.error,U=f.extend,y=f.merge,P;return function(I){function R(w){w.funnel3d=y(w.cuboid,{parts:"top bottom frontUpper backUpper frontLower backLower rightUpper rightLower".split(" "),mainParts:["top","bottom"],sideGroups:["upperGroup","lowerGroup"],sideParts:{upperGroup:["frontUpper","backUpper","rightUpper"],lowerGroup:["frontLower","backLower","rightLower"]},pathType:"funnel3d",opacitySetter:function(d){var t=this,e=t.parts,n=h.charts[t.renderer.chartIndex],r="group-opacity-"+d+"-"+n.index;return t.parts=t.mainParts,t.singleSetterForParts("opacity",d),t.parts=e,n.renderer.filterId||(n.renderer.definition({tagName:"filter",attributes:{id:r},children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"table",tableValues:"0 "+d}}]}]}),t.sideGroups.forEach(function(i){t[i].attr({filter:"url(#"+r+")"})}),t.renderer.styledMode&&(n.renderer.definition({tagName:"style",textContent:".highcharts-"+r+" {filter:url(#"+r+")}"}),t.sideGroups.forEach(function(i){i.addClass("highcharts-"+r)}))),t},fillSetter:function(d){var t=this,e=x(d),n=e.rgba[3],r={top:x(d).brighten(.1).get(),bottom:x(d).brighten(-.2).get()};return 1>n?(e.rgba[3]=1,e=e.get("rgb"),t.attr({opacity:n})):e=d,e.linearGradient||e.radialGradient||!t.gradientForSides||(e={linearGradient:{x1:0,x2:1,y1:1,y2:1},stops:[[0,x(d).brighten(-.2).get()],[.5,d],[1,x(d).brighten(-.2).get()]]}),e.linearGradient?t.sideGroups.forEach(function(i){var a=t[i].gradientBox,c=e.linearGradient,p=y(e,{linearGradient:{x1:a.x+c.x1*a.width,y1:a.y+c.y1*a.height,x2:a.x+c.x2*a.width,y2:a.y+c.y2*a.height}});t.sideParts[i].forEach(function(o){r[o]=p})}):(y(!0,r,{frontUpper:e,backUpper:e,rightUpper:e,frontLower:e,backLower:e,rightLower:e}),e.radialGradient&&t.sideGroups.forEach(function(i){var a=t[i].gradientBox,c=a.x+a.width/2,p=a.y+a.height/2,o=Math.min(a.width,a.height);t.sideParts[i].forEach(function(_){t[_].setRadialReference([c,p,o])})})),t.singleSetterForParts("fill",null,r),t.color=t.fill=d,e.linearGradient&&[t.frontLower,t.frontUpper].forEach(function(i){(i=(i=i.element)&&t.renderer.gradients[i.gradient])&&i.attr("gradientUnits")!=="userSpaceOnUse"&&i.attr({gradientUnits:"userSpaceOnUse"})}),t},adjustForGradient:function(){var d=this,t;d.sideGroups.forEach(function(e){var n={x:Number.MAX_VALUE,y:Number.MAX_VALUE},r={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};d.sideParts[e].forEach(function(i){t=d[i].getBBox(!0),n={x:Math.min(n.x,t.x),y:Math.min(n.y,t.y)},r={x:Math.max(r.x,t.x+t.width),y:Math.max(r.y,t.y+t.height)}}),d[e].gradientBox={x:n.x,width:r.x-n.x,y:n.y,height:r.y-n.y}})},zIndexSetter:function(){return this.finishedOnAdd&&this.adjustForGradient(),this.renderer.Element.prototype.zIndexSetter.apply(this,arguments)},onAdd:function(){this.adjustForGradient(),this.finishedOnAdd=!0}})}function z(w){var d=w.prototype;U(d,{funnel3d:function(t){var e=this.element3d("funnel3d",t),n=this.styledMode,r={"stroke-width":1,stroke:"none"};return e.upperGroup=this.g("funnel3d-upper-group").attr({zIndex:e.frontUpper.zIndex}).add(e),[e.frontUpper,e.backUpper,e.rightUpper].forEach(function(i){n||i.attr(r),i.add(e.upperGroup)}),e.lowerGroup=this.g("funnel3d-lower-group").attr({zIndex:e.frontLower.zIndex}).add(e),[e.frontLower,e.backLower,e.rightLower].forEach(function(i){n||i.attr(r),i.add(e.lowerGroup)}),e.gradientForSides=t.gradientForSides,e},funnel3dPath:function(t){this.getCylinderEnd||A("A required Highcharts module is missing: cylinder.js",!0,u[this.chartIndex]);var e=u[this.chartIndex],n=t.alphaCorrection=90-Math.abs(e.options.chart.options3d.alpha%180-90),r=d.cuboidPath.call(this,y(t,{depth:t.width,width:(t.width+t.bottom.width)/2})),i=r.isTop,a=!r.isFront,c=!!t.middle,p=this.getCylinderEnd(e,y(t,{x:t.x-t.width/2,z:t.z-t.width/2,alphaCorrection:n})),o=t.bottom.width,_=y(t,{width:o,x:t.x-o/2,z:t.z-o/2,alphaCorrection:n}),S=this.getCylinderEnd(e,_,!0),m=o,j=_,C=S,E=S;return c&&(m=t.middle.width,j=y(t,{y:t.y+t.middle.fraction*t.height,width:m,x:t.x-m/2,z:t.z-m/2}),C=this.getCylinderEnd(e,j,!1),E=this.getCylinderEnd(e,j,!1)),r={top:p,bottom:S,frontUpper:this.getCylinderFront(p,C),zIndexes:{group:r.zIndexes.group,top:i!==0?0:3,bottom:i!==1?0:3,frontUpper:a?2:1,backUpper:a?1:2,rightUpper:a?2:1}},r.backUpper=this.getCylinderBack(p,C),p=Math.min(m,t.width)/Math.max(m,t.width)!==1,r.rightUpper=this.getCylinderFront(this.getCylinderEnd(e,y(t,{x:t.x-t.width/2,z:t.z-t.width/2,alphaCorrection:p?-n:0}),!1),this.getCylinderEnd(e,y(j,{alphaCorrection:p?-n:0}),!c)),c&&(p=Math.min(m,o)/Math.max(m,o)!==1,y(!0,r,{frontLower:this.getCylinderFront(E,S),backLower:this.getCylinderBack(E,S),rightLower:this.getCylinderFront(this.getCylinderEnd(e,y(_,{alphaCorrection:p?-n:0}),!0),this.getCylinderEnd(e,y(j,{alphaCorrection:p?-n:0}),!1)),zIndexes:{frontLower:a?2:1,backLower:a?1:2,rightLower:a?1:2}})),r}})}I.compose=function(w){b.compose(w),R(w.prototype.elements3d),z(w)}}(P||(P={})),P}),G(s,"Series/Funnel3D/Funnel3DPoint.js",[s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],function(l,h){var b=this&&this.__extends||function(){var f=function(x,u){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,U){A.__proto__=U}||function(A,U){for(var y in U)U.hasOwnProperty(y)&&(A[y]=U[y])},f(x,u)};return function(x,u){function A(){this.constructor=x}f(x,u),x.prototype=u===null?Object.create(u):(A.prototype=u.prototype,new A)}}();return h=h.extend,l=function(f){function x(){var u=f!==null&&f.apply(this,arguments)||this;return u.dlBoxRaw=void 0,u.options=void 0,u.series=void 0,u.y=void 0,u}return b(x,f),x}(l.seriesTypes.column.prototype.pointClass),h(l.prototype,{shapeType:"funnel3d"}),l}),G(s,"Series/Funnel3D/Funnel3DSeries.js",[s["Series/Funnel3D/Funnel3DComposition.js"],s["Series/Funnel3D/Funnel3DPoint.js"],s["Core/Globals.js"],s["Core/Math3D.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],function(l,h,b,f,x,u){var A=this&&this.__extends||function(){var d=function(t,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},d(t,e)};return function(t,e){function n(){this.constructor=t}d(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();b=b.noop;var U=f.perspective,y=x.series,P=x.seriesTypes.column,I=u.extend,R=u.merge,z=u.pick,w=u.relativeLength;return f=function(d){function t(){var e=d!==null&&d.apply(this,arguments)||this;return e.center=void 0,e.data=void 0,e.options=void 0,e.points=void 0,e}return A(t,d),t.prototype.alignDataLabel=function(e,n,r){var i=e.dlBoxRaw,a=this.chart.inverted,c=e.plotY>z(this.translatedThreshold,this.yAxis.len),p=z(r.inside,!!this.options.stacking),o={x:i.x,y:i.y,height:0};r.align=z(r.align,!a||p?"center":c?"right":"left"),r.verticalAlign=z(r.verticalAlign,a||p?"middle":c?"top":"bottom"),r.verticalAlign!=="top"&&(o.y+=i.bottom/(r.verticalAlign==="bottom"?1:2)),o.width=this.getWidthAt(o.y),this.options.reversed&&(o.width=i.fullWidth-o.width),p?o.x-=o.width/2:r.align==="left"?(r.align="right",o.x-=1.5*o.width):r.align==="right"?(r.align="left",o.x+=o.width/2):o.x-=o.width/2,e.dlBox=o,P.prototype.alignDataLabel.apply(this,arguments)},t.prototype.bindAxes=function(){y.prototype.bindAxes.apply(this,arguments),I(this.xAxis.options,{gridLineWidth:0,lineWidth:0,title:void 0,tickPositions:[]}),R(!0,this.yAxis.options,{gridLineWidth:0,title:void 0,labels:{enabled:!1}})},t.prototype.translate=function(){y.prototype.translate.apply(this,arguments);var e=0,n=this.chart,r=this.options,i=r.reversed,a=r.ignoreHiddenPoint,c=n.plotWidth,p=n.plotHeight,o=0,_=r.center,S=w(_[0],c),m=w(_[1],p),j=w(r.width,c),C,E,L=w(r.height,p),N=w(r.neckWidth,c),T=w(r.neckHeight,p),D=m-L/2+L-T;c=this.data;var O,H,F,M,V,B,v;this.getWidthAt=E=function(g){var X=m-L/2;return g>D||L===T?N:N+(j-N)*(1-(g-X)/(L-T))},this.center=[S,m,L],this.centerX=S,c.forEach(function(g){a&&g.visible===!1||(e+=g.y)}),c.forEach(function(g){V=null,O=e?g.y/e:0,F=m-L/2+o*L,M=F+O*L,C=E(F),B=M-F,v={gradientForSides:z(g.options.gradientForSides,r.gradientForSides),x:S,y:F,height:B,width:C,z:1,top:{width:C}},C=E(M),v.bottom={fraction:O,width:C},F>=D?v.isCylinder=!0:M>D&&(V=M,C=E(D),M=D,v.bottom.width=C,v.middle={fraction:B?(D-F)/B:0,width:C}),i&&(v.y=F=m+L/2-(o+O)*L,v.middle&&(v.middle.fraction=1-(B?v.middle.fraction:0)),C=v.width,v.width=v.bottom.width,v.bottom.width=C),g.shapeArgs=I(g.shapeArgs,v),g.percentage=100*O,g.plotX=S,g.plotY=i?m+L/2-(o+O/2)*L:(F+(V||M))/2,H=U([{x:S,y:g.plotY,z:i?-(j-E(g.plotY))/2:-E(g.plotY)/2}],n,!0)[0],g.tooltipPos=[H.x,H.y],g.dlBoxRaw={x:S,width:E(g.plotY),y:F,bottom:v.height||0,fullWidth:j},a&&g.visible===!1||(o+=O)})},t.compose=l.compose,t.defaultOptions=R(P.defaultOptions,{center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,gradientForSides:!0,animation:!1,edgeWidth:0,colorByPoint:!0,showInLegend:!1,dataLabels:{align:"right",crop:!1,inside:!1,overflow:"allow"}}),t}(P),I(f.prototype,{pointClass:h,translate3dShapes:b}),x.registerSeriesType("funnel3d",f),f}),G(s,"masters/modules/funnel3d.src.js",[s["Core/Renderer/RendererRegistry.js"],s["Series/Funnel3D/Funnel3DSeries.js"]],function(l,h){return h.compose(l.getRendererType()),h})})})($);const q=W,J=Y({__proto__:null,default:q},[W]);export{J as f};
