function rt(j,y){for(var D=0;D<y.length;D++){const m=y[D];if(typeof m!="string"&&!Array.isArray(m)){for(const X in m)if(X!=="default"&&!(X in j)){const d=Object.getOwnPropertyDescriptor(m,X);d&&Object.defineProperty(j,X,d.get?d:{enumerable:!0,get:()=>m[X]})}}}return Object.freeze(Object.defineProperty(j,Symbol.toStringTag,{value:"Module"}))}var I={},it={get exports(){return I},set exports(j){I=j}};(function(j){(function(y){j.exports?(y.default=y,j.exports=y):y(typeof Highcharts<"u"?Highcharts:void 0)})(function(y){function D(m,X,d,S){m.hasOwnProperty(X)||(m[X]=S.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:X,module:m[X]}})))}y=y?y._modules:{},D(y,"Extensions/SeriesLabel/SeriesLabelDefaults.js",[],function(){return{enabled:!0,connectorAllowed:!1,connectorNeighbourDistance:24,format:void 0,formatter:void 0,minFontSize:null,maxFontSize:null,onArea:null,style:{fontWeight:"bold"},useHTML:!1,boxesToAvoid:[]}}),D(y,"Extensions/SeriesLabel/SeriesLabelUtilities.js",[],function(){function m(d,S,E,v,g,w){return d=(w-S)*(E-d)-(v-S)*(g-d),0<d?!0:!(0>d)}function X(d,S,E,v,g,w,T,P){return m(d,S,g,w,T,P)!==m(E,v,g,w,T,P)&&m(d,S,E,v,g,w)!==m(d,S,E,v,T,P)}return{boxIntersectLine:function(d,S,E,v,g,w,T,P){return X(d,S,d+E,S,g,w,T,P)||X(d+E,S,d+E,S+v,g,w,T,P)||X(d,S+v,d+E,S+v,g,w,T,P)||X(d,S,d,S+v,g,w,T,P)},intersectRect:function(d,S){return!(S.left>d.right||S.right<d.left||S.top>d.bottom||S.bottom<d.top)}}}),D(y,"Extensions/SeriesLabel/SeriesLabel.js",[y["Core/Animation/AnimationUtilities.js"],y["Core/Chart/Chart.js"],y["Core/FormatUtilities.js"],y["Core/Defaults.js"],y["Extensions/SeriesLabel/SeriesLabelDefaults.js"],y["Extensions/SeriesLabel/SeriesLabelUtilities.js"],y["Core/Utilities.js"]],function(m,X,d,S,E,v,g){function w(e,i,l,t,s){var o=e.chart,n=e.options.label||{},x=B(n.onArea,!!e.area),a=x||n.connectorAllowed,r=o.boxesToAvoid,f=Number.MAX_VALUE,C=Number.MAX_VALUE,p,L,M;for(M=0;r&&M<r.length;M+=1)if(Z(r[M],{left:i,right:i+t.width,top:l,bottom:l+t.height}))return!1;for(M=0;M<o.series.length;M+=1){var c=o.series[M];if(r=c.interpolatedPoints&&J([],c.interpolatedPoints,!0),c.visible&&r){var h=o.plotHeight/10;for(L=o.plotTop;L<=o.plotTop+o.plotHeight;L+=h)r.unshift({chartX:o.plotLeft,chartY:L}),r.push({chartX:o.plotLeft+o.plotWidth,chartY:L});for(h=1;h<r.length;h+=1){if(r[h].chartX>=i-16&&r[h-1].chartX<=i+t.width+16){if(G(i,l,t.width,t.height,r[h-1].chartX,r[h-1].chartY,r[h].chartX,r[h].chartY))return!1;e===c&&!p&&s&&(p=G(i-16,l-16,t.width+32,t.height+32,r[h-1].chartX,r[h-1].chartY,r[h].chartX,r[h].chartY))}if((a||p)&&(e!==c||x)){L=i+t.width/2-r[h].chartX;var Y=l+t.height/2-r[h].chartY;f=Math.min(f,L*L+Y*Y)}}if(!x&&a&&e===c&&(s&&!p||f<Math.pow(n.connectorNeighbourDistance||1,2))){for(h=1;h<r.length;h+=1)if(p=Math.min(Math.pow(i+t.width/2-r[h].chartX,2)+Math.pow(l+t.height/2-r[h].chartY,2),Math.pow(i-r[h].chartX,2)+Math.pow(l-r[h].chartY,2),Math.pow(i+t.width-r[h].chartX,2)+Math.pow(l-r[h].chartY,2),Math.pow(i+t.width-r[h].chartX,2)+Math.pow(l+t.height-r[h].chartY,2),Math.pow(i-r[h].chartX,2)+Math.pow(l+t.height-r[h].chartY,2)),p<C){C=p;var _=r[h]}p=!0}}}return!s||p?{x:i,y:l,weight:f-(_?C:0),connectorPoint:_}:!1}function T(e){e.boxesToAvoid=[];var i=e.labelSeries||[],l=e.boxesToAvoid;e.series.forEach(function(t){return(t.points||[]).forEach(function(s){return(s.dataLabels||[]).forEach(function(o){var n=o.getBBox(),x=o.translateX+(t.xAxis?t.xAxis.pos:t.chart.plotLeft);o=o.translateY+(t.yAxis?t.yAxis.pos:t.chart.plotTop),l.push({left:x,top:o,right:x+n.width,bottom:o+n.height})})})}),i.forEach(function(t){var s=t.options.label||{};t.interpolatedPoints=P(t),l.push.apply(l,s.boxesToAvoid||[])}),e.series.forEach(function(t){function s(F,H,W){var et=Math.max(C,B(q,-1/0)),ot=Math.min(C+L,B(tt,1/0));return F>et&&F<=ot-W.width&&H>=p&&H<=p+M-W.height}var o=t.options.label;if(o&&(t.xAxis||t.yAxis)){var n="highcharts-color-"+B(t.colorIndex,"none"),x=!t.labelBySeries,a=o.minFontSize,r=o.maxFontSize,f=e.inverted,C=f?t.yAxis.pos:t.xAxis.pos,p=f?t.xAxis.pos:t.yAxis.pos,L=e.inverted?t.yAxis.len:t.xAxis.len,M=e.inverted?t.xAxis.len:t.yAxis.len,c=t.interpolatedPoints,h=B(o.onArea,!!t.area),Y=[],_=t.xData||[],u,A=t.labelBySeries;if(h&&!f){f=[t.xAxis.toPixels(_[0]),t.xAxis.toPixels(_[_.length-1])];var q=Math.min.apply(Math,f),tt=Math.max.apply(Math,f)}if(t.visible&&!t.boosted&&c){for(A||(A=t.name,typeof o.format=="string"?A=Q(o.format,t,e):o.formatter&&(A=o.formatter.call(t)),t.labelBySeries=A=e.renderer.label(A,0,0,"connector",0,0,o.useHTML).addClass("highcharts-series-label highcharts-series-label-"+t.index+" "+(t.options.className||"")+" "+n),e.renderer.styledMode||(n=typeof t.color=="string"?t.color:"#666666",A.css(K({color:h?e.renderer.getContrast(n):n},o.style||{})),A.attr({opacity:e.renderer.forExport?1:0,stroke:t.color,"stroke-width":1})),a&&r&&A.css({fontSize:a+(t.sum||0)/(t.chart.labelSeriesMaxSum||0)*(r-a)+"px"}),A.attr({padding:0,zIndex:3}).add()),a=A.getBBox(),a.width=Math.round(a.width),f=c.length-1;0<f;--f)h?(r=c[f].chartX-a.width/2,n=(c[f].chartCenterY||0)-a.height/2,s(r,n,a)&&(u=w(t,r,n,a))):(r=c[f].chartX+3,n=c[f].chartY-a.height-3,s(r,n,a)&&(u=w(t,r,n,a,!0)),u&&Y.push(u),r=c[f].chartX+3,n=c[f].chartY+3,s(r,n,a)&&(u=w(t,r,n,a,!0)),u&&Y.push(u),r=c[f].chartX-a.width-3,n=c[f].chartY+3,s(r,n,a)&&(u=w(t,r,n,a,!0)),u&&Y.push(u),r=c[f].chartX-a.width-3,n=c[f].chartY-a.height-3,s(r,n,a)&&(u=w(t,r,n,a,!0))),u&&Y.push(u);if(o.connectorAllowed&&!Y.length&&!h)for(r=C+L-a.width;r>=C;r-=16)for(n=p;n<p+M-a.height;n+=16)(u=w(t,r,n,a,!0))&&Y.push(u);Y.length?(Y.sort(function(F,H){return H.weight-F.weight}),u=Y[0],(e.boxesToAvoid||[]).push({left:u.x,right:u.x+a.width,top:u.y,bottom:u.y+a.height}),(c=Math.sqrt(Math.pow(Math.abs(u.x-(A.x||0)),2)+Math.pow(Math.abs(u.y-(A.y||0)),2)))&&t.labelBySeries&&(Y={opacity:e.renderer.forExport?1:0,x:u.x,y:u.y},o={opacity:1},10>=c&&(o={x:Y.x,y:Y.y},Y={}),c=void 0,x&&(c=U(t.options.animation),c.duration*=.2),t.labelBySeries.attr(K(Y,{anchorX:u.connectorPoint&&(u.connectorPoint.plotX||0)+C,anchorY:u.connectorPoint&&(u.connectorPoint.plotY||0)+p})).animate(o,c),t.options.kdNow=!0,t.buildKDTree(),t=t.searchPoint({chartX:u.x,chartY:u.y},!0))&&(A.closest=[t,u.x-(t.plotX||0),u.y-(t.plotY||0)])):A&&(t.labelBySeries=A.destroy())}else A&&(t.labelBySeries=A.destroy())}}),b(e,"afterDrawSeriesLabels")}function P(e){function i(h){var Y=Math.round((h.plotX||0)/8)+","+Math.round((h.plotY||0)/8);C[Y]||(C[Y]=1,t.push(h))}if(e.xAxis||e.yAxis){var l=e.points,t=[],s=e.graph||e.area,o=s&&s.element,n=e.chart.inverted,x=e.xAxis,a=e.yAxis,r=n?a.pos:x.pos;n=n?x.pos:a.pos,x=B((e.options.label||{}).onArea,!!e.area);var f=a.getThreshold(e.options.threshold),C={};if(e.getPointSpline&&o&&o.getPointAtLength&&!x&&l.length<(e.chart.plotSizeX||0)/16){for(x=s.toD&&s.attr("d"),s.toD&&s.attr({d:s.toD}),a=o.getTotalLength(),e=0;e<a;e+=16)f=o.getPointAtLength(e),i({chartX:r+f.x,chartY:n+f.y,plotX:f.x,plotY:f.y});x&&s.attr({d:x});var p=l[l.length-1];i({chartX:r+(p.plotX||0),chartY:n+(p.plotY||0)})}else for(a=l.length,s=void 0,e=0;e<a;e+=1){p=l[e],o=p.plotX;var L=p.plotY;if(N(o)&&N(L)){var M={plotX:o,plotY:L,chartX:r+o,chartY:n+L};if(x&&(M.chartCenterY=n+(L+B(p.yBottom,f))/2),s){p=Math.abs(M.chartX-s.chartX);var c=Math.abs(M.chartY-s.chartY);if(p=Math.max(p,c),16<p)for(p=Math.ceil(p/16),c=1;c<p;c+=1)i({chartX:s.chartX+c/p*(M.chartX-s.chartX),chartY:s.chartY+c/p*(M.chartY-s.chartY),chartCenterY:(s.chartCenterY||0)+c/p*((M.chartCenterY||0)-(s.chartCenterY||0)),plotX:(s.plotX||0)+c/p*(o-(s.plotX||0)),plotY:(s.plotY||0)+c/p*(L-(s.plotY||0))})}i(M),s=M}}return t}}function R(e){if(this.renderer){var i=this,l=U(i.renderer.globalAnimation).duration;i.labelSeries=[],i.labelSeriesMaxSum=0,i.seriesLabelTimer&&g.clearTimeout(i.seriesLabelTimer),i.series.forEach(function(t){var s=t.options.label||{},o=t.labelBySeries,n=o&&o.closest;s.enabled&&t.visible&&(t.graph||t.area)&&!t.boosted&&i.labelSeries&&(i.labelSeries.push(t),s.minFontSize&&s.maxFontSize&&t.yData&&(t.sum=t.yData.reduce(function(x,a){return(x||0)+(a||0)},0),i.labelSeriesMaxSum=Math.max(i.labelSeriesMaxSum||0,t.sum||0)),e.type==="load"&&(l=Math.max(l,U(t.options.animation).duration)),n&&(typeof n[0].plotX<"u"?o.animate({x:n[0].plotX+n[1],y:n[0].plotY+n[2]}):o.attr({opacity:0})))}),i.seriesLabelTimer=k(function(){i.series&&i.labelSeries&&T(i)},i.renderer.forExport||!l?0:l)}}function $(e,i,l,t,s){var o=s&&s.anchorX;s=s&&s.anchorY;var n=l/2;if(N(o)&&N(s)){var x=[["M",o,s]],a=i-s;0>a&&(a=-t-a),a<l&&(n=o<e+l/2?a:l-a),s>i+t?x.push(["L",e+n,i+t]):s<i?x.push(["L",e+n,i]):o<e?x.push(["L",e,i+t/2]):o>e+l&&x.push(["L",e+l,i+t/2])}return x||[]}var J=this&&this.__spreadArray||function(e,i,l){if(l||arguments.length===2)for(var t=0,s=i.length,o;t<s;t++)!o&&t in i||(o||(o=Array.prototype.slice.call(i,0,t)),o[t]=i[t]);return e.concat(o||Array.prototype.slice.call(i))},U=m.animObject,Q=d.format,z=S.setOptions,G=v.boxIntersectLine,Z=v.intersectRect,V=g.addEvent,K=g.extend,b=g.fireEvent,N=g.isNumber,B=g.pick,k=g.syncTimeout,O=[];return{compose:function(e,i){O.indexOf(e)===-1&&(O.push(e),V(X,"load",R),V(X,"redraw",R)),O.indexOf(i)===-1&&(O.push(i),i.prototype.symbols.connector=$),O.indexOf(z)===-1&&(O.push(z),z({plotOptions:{series:{label:E}}}))}}}),D(y,"masters/modules/series-label.src.js",[y["Core/Globals.js"],y["Extensions/SeriesLabel/SeriesLabel.js"]],function(m,X){X.compose(m.Chart,m.SVGRenderer)})})})(it);const st=I,nt=rt({__proto__:null,default:st},[I]);export{nt as s};
