function ot(K,L){for(var X=0;X<L.length;X++){const A=L[X];if(typeof A!="string"&&!Array.isArray(A)){for(const O in A)if(O!=="default"&&!(O in K)){const P=Object.getOwnPropertyDescriptor(A,O);P&&Object.defineProperty(K,O,P.get?P:{enumerable:!0,get:()=>A[O]})}}}return Object.freeze(Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}))}var q={},it={get exports(){return q},set exports(K){q=K}};(function(K){(function(L){K.exports?(L.default=L,K.exports=L):L(typeof Highcharts<"u"?Highcharts:void 0)})(function(L){function X(A,O,P,C){A.hasOwnProperty(O)||(A[O]=C.apply(null,P),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:O,module:A[O]}})))}L=L?L._modules:{},X(L,"Core/Axis/Color/ColorAxisComposition.js",[L["Core/Color/Color.js"],L["Core/Utilities.js"]],function(A,O){var P=A.parse,C=O.addEvent,b=O.extend,v=O.merge,x=O.pick,z=O.splat,M;return function(m){function j(){var w=this,S=this.options;this.colorAxis=[],S.colorAxis&&(S.colorAxis=z(S.colorAxis),S.colorAxis.forEach(function(E,T){E.index=T,new f(w,E)}))}function i(w){var S=this,E=function(g){g=w.allItems.indexOf(g),g!==-1&&(S.destroyItem(w.allItems[g]),w.allItems.splice(g,1))},T=[],r,u;for((this.chart.colorAxis||[]).forEach(function(g){(r=g.options)&&r.showInLegend&&(r.dataClasses&&r.visible?T=T.concat(g.getDataClassLegendSymbols()):r.visible&&T.push(g),g.series.forEach(function(y){(!y.options.showInLegend||r.dataClasses)&&(y.options.legendType==="point"?y.points.forEach(function(c){E(c)}):E(y))}))}),u=T.length;u--;)w.allItems.unshift(T[u])}function e(w){w.visible&&w.item.legendColor&&w.item.legendItem.symbol.attr({fill:w.item.legendColor})}function n(){var w=this.chart.colorAxis;w&&w.forEach(function(S,E,T){S.update({},T)})}function p(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function h(){var w=this.axisTypes;w?w.indexOf("colorAxis")===-1&&w.push("colorAxis"):this.axisTypes=["colorAxis"]}function a(w){var S=this,E=w?"show":"hide";S.visible=S.options.visible=!!w,["graphic","dataLabel"].forEach(function(T){S[T]&&S[T][E]()}),this.series.buildKDTree()}function l(){var w=this,S=this.options.nullColor,E=this.colorAxis,T=this.colorKey;(this.data.length?this.data:this.points).forEach(function(r){var u=r.getNestedProperty(T);(u=r.options.color||(r.isNull||r.value===null?S:E&&typeof u<"u"?E.toColor(u,r):r.color||w.color))&&r.color!==u&&(r.color=u,w.options.legendType==="point"&&r.legendItem&&r.legendItem.label&&w.chart.legend.colorizeItem(r,r.visible))})}function o(w){var S=w.prototype.createAxis;w.prototype.createAxis=function(E,T){if(E!=="colorAxis")return S.apply(this,arguments);var r=new f(this,v(T.axis,{index:this[E].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(function(u){u.series=[]}),this.series.forEach(function(u){u.bindAxes(),u.isDirtyData=!0}),x(T.redraw,!0)&&this.redraw(T.animation),r}}function t(){this.elem.attr("fill",P(this.start).tweenTo(P(this.end),this.pos),void 0,!0)}function s(){this.elem.attr("stroke",P(this.start).tweenTo(P(this.end),this.pos),void 0,!0)}var d=[],f;m.compose=function(w,S,E,T,r){f||(f=w),d.indexOf(S)===-1&&(d.push(S),w=S.prototype,w.collectionsWithUpdate.push("colorAxis"),w.collectionsWithInit.colorAxis=[w.addColorAxis],C(S,"afterGetAxes",j),o(S)),d.indexOf(E)===-1&&(d.push(E),S=E.prototype,S.fillSetter=t,S.strokeSetter=s),d.indexOf(T)===-1&&(d.push(T),C(T,"afterGetAllItems",i),C(T,"afterColorizeItem",e),C(T,"afterUpdate",n)),d.indexOf(r)===-1&&(d.push(r),b(r.prototype,{optionalAxis:"colorAxis",translateColors:l}),b(r.prototype.pointClass.prototype,{setVisible:a}),C(r,"afterTranslate",p,{order:1}),C(r,"bindAxes",h))},m.pointSetVisible=a}(M||(M={})),M}),X(L,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}}),X(L,"Core/Axis/Color/ColorAxis.js",[L["Core/Axis/Axis.js"],L["Core/Color/Color.js"],L["Core/Axis/Color/ColorAxisComposition.js"],L["Core/Axis/Color/ColorAxisDefaults.js"],L["Core/Globals.js"],L["Core/Legend/LegendSymbol.js"],L["Core/Series/SeriesRegistry.js"],L["Core/Utilities.js"]],function(A,O,P,C,b,v,x,z){var M=this&&this.__extends||function(){var h=function(a,l){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var s in t)t.hasOwnProperty(s)&&(o[s]=t[s])},h(a,l)};return function(a,l){function o(){this.constructor=a}h(a,l),a.prototype=l===null?Object.create(l):(o.prototype=l.prototype,new o)}}(),m=O.parse,j=x.series,i=z.extend,e=z.isNumber,n=z.merge,p=z.pick;return O=function(h){function a(l,o){var t=h.call(this,l,o)||this;return t.beforePadding=!1,t.chart=void 0,t.coll="colorAxis",t.dataClasses=void 0,t.name="",t.options=void 0,t.stops=void 0,t.visible=!0,t.init(l,o),t}return M(a,h),a.compose=function(l,o,t,s){P.compose(a,l,o,t,s)},a.prototype.init=function(l,o){var t=l.options.legend||{},s=o.layout?o.layout!=="vertical":t.layout!=="vertical",d=o.visible;t=n(a.defaultColorAxisOptions,o,{showEmpty:!1,title:null,visible:t.enabled&&d!==!1}),this.coll="colorAxis",this.side=o.side||s?2:1,this.reversed=o.reversed||!s,this.opposite=!s,h.prototype.init.call(this,l,t),this.userOptions.visible=d,o.dataClasses&&this.initDataClasses(o),this.initStops(),this.horiz=s,this.zoomEnabled=!1},a.prototype.initDataClasses=function(l){var o=this.chart,t=this.legendItem=this.legendItem||{},s=l.dataClasses.length,d=this.options,f,w=0,S=o.options.chart.colorCount;this.dataClasses=f=[],t.labels=[],(l.dataClasses||[]).forEach(function(E,T){E=n(E),f.push(E),(o.styledMode||!E.color)&&(d.dataClassColor==="category"?(o.styledMode||(T=o.options.colors,S=T.length,E.color=T[w]),E.colorIndex=w,w++,w===S&&(w=0)):E.color=m(d.minColor).tweenTo(m(d.maxColor),2>s?.5:T/(s-1)))})},a.prototype.hasData=function(){return!!(this.tickPositions||[]).length},a.prototype.setTickPositions=function(){if(!this.dataClasses)return h.prototype.setTickPositions.call(this)},a.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(l){l.color=m(l[1])})},a.prototype.setOptions=function(l){h.prototype.setOptions.call(this,l),this.options.crosshair=this.options.marker},a.prototype.setAxisSize=function(){var l=this.legendItem&&this.legendItem.symbol,o=this.chart,t=o.options.legend||{},s,d;l?(this.left=t=l.attr("x"),this.top=s=l.attr("y"),this.width=d=l.attr("width"),this.height=l=l.attr("height"),this.right=o.chartWidth-t-d,this.bottom=o.chartHeight-s-l,this.len=this.horiz?d:l,this.pos=this.horiz?t:s):this.len=(this.horiz?t.symbolWidth:t.symbolHeight)||a.defaultLegendLength},a.prototype.normalizedValue=function(l){return this.logarithmic&&(l=this.logarithmic.log2lin(l)),1-(this.max-l)/(this.max-this.min||1)},a.prototype.toColor=function(l,o){var t=this.dataClasses,s=this.stops,d;if(t)for(d=t.length;d--;){var f=t[d],w=f.from;if(s=f.to,(typeof w>"u"||l>=w)&&(typeof s>"u"||l<=s)){var S=f.color;o&&(o.dataClass=d,o.colorIndex=f.colorIndex);break}}else{for(l=this.normalizedValue(l),d=s.length;d--&&!(l>s[d][0]););w=s[d]||s[d+1],s=s[d+1]||w,l=1-(s[0]-l)/(s[0]-w[0]||1),S=w.color.tweenTo(s.color,l)}return S},a.prototype.getOffset=function(){var l=this.legendItem&&this.legendItem.group,o=this.chart.axisOffset[this.side];if(l){this.axisParent=l,h.prototype.getOffset.call(this);var t=this.chart.legend;t.allItems.forEach(function(s){s instanceof a&&s.drawLegendSymbol(t,s)}),t.render(),this.chart.getMargins(!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=o}},a.prototype.setLegendColor=function(){var l=this.reversed,o=l?1:0;l=l?0:1,o=this.horiz?[o,0,l,0]:[0,l,0,o],this.legendColor={linearGradient:{x1:o[0],y1:o[1],x2:o[2],y2:o[3]},stops:this.stops}},a.prototype.drawLegendSymbol=function(l,o){o=o.legendItem||{};var t=l.padding,s=l.options,d=p(s.itemDistance,10),f=this.horiz,w=p(s.symbolWidth,f?a.defaultLegendLength:12),S=p(s.symbolHeight,f?12:a.defaultLegendLength);s=p(s.labelPadding,f?16:30),this.setLegendColor(),o.symbol||(o.symbol=this.chart.renderer.rect(0,l.baseline-11,w,S).attr({zIndex:1}).add(o.group)),o.labelWidth=w+t+(f?d:this.options.labels.x+this.maxLabelLength),o.labelHeight=S+t+(f?s:0)},a.prototype.setState=function(l){this.series.forEach(function(o){o.setState(l)})},a.prototype.setVisible=function(){},a.prototype.getSeriesExtremes=function(){var l=this.series,o=l.length,t;for(this.dataMin=1/0,this.dataMax=-1/0;o--;){var s=l[o],d=s.colorKey=p(s.options.colorKey,s.colorKey,s.pointValKey,s.zoneAxis,"y"),f=s.pointArrayMap,w=s[d+"Min"]&&s[d+"Max"];if(s[d+"Data"])var S=s[d+"Data"];else if(f){S=[],f=f.indexOf(d);var E=s.yData;if(0<=f&&E)for(t=0;t<E.length;t++)S.push(p(E[t][f],E[t]))}else S=s.yData;w?(s.minColorValue=s[d+"Min"],s.maxColorValue=s[d+"Max"]):(S=j.prototype.getExtremes.call(s,S),s.minColorValue=S.dataMin,s.maxColorValue=S.dataMax),typeof s.minColorValue<"u"&&(this.dataMin=Math.min(this.dataMin,s.minColorValue),this.dataMax=Math.max(this.dataMax,s.maxColorValue)),w||j.prototype.applyExtremes.call(s)}},a.prototype.drawCrosshair=function(l,o){var t=this.legendItem||{},s=o&&o.plotX,d=o&&o.plotY,f=this.pos,w=this.len;if(o){var S=this.toPixels(o.getNestedProperty(o.series.colorKey));S<f?S=f-2:S>f+w&&(S=f+w+2),o.plotX=S,o.plotY=this.len-S,h.prototype.drawCrosshair.call(this,l,o),o.plotX=s,o.plotY=d,this.cross&&!this.cross.addedToColorAxis&&t.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(t.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||typeof this.crosshair!="object"||this.cross.attr({fill:this.crosshair.color}))}},a.prototype.getPlotLinePath=function(l){var o=this.left,t=l.translatedValue,s=this.top;return e(t)?this.horiz?[["M",t-4,s-6],["L",t+4,s-6],["L",t,s],["Z"]]:[["M",o,t],["L",o-6,t+6],["L",o-6,t-6],["Z"]]:h.prototype.getPlotLinePath.call(this,l)},a.prototype.update=function(l,o){var t=this.chart.legend;this.series.forEach(function(s){s.isDirtyData=!0}),(l.dataClasses&&t.allItems||this.dataClasses)&&this.destroyItems(),h.prototype.update.call(this,l,o),this.legendItem&&this.legendItem.label&&(this.setLegendColor(),t.colorizeItem(this,!0))},a.prototype.destroyItems=function(){var l=this.chart,o=this.legendItem||{};if(o.label)l.legend.destroyItem(this);else if(o.labels){var t=0;for(o=o.labels;t<o.length;t++)l.legend.destroyItem(o[t])}l.isDirtyLegend=!0},a.prototype.destroy=function(){this.chart.isDirtyLegend=!0,this.destroyItems(),h.prototype.destroy.apply(this,[].slice.call(arguments))},a.prototype.remove=function(l){this.destroyItems(),h.prototype.remove.call(this,l)},a.prototype.getDataClassLegendSymbols=function(){var l=this,o=l.chart,t=l.legendItem&&l.legendItem.labels||[],s=o.options.legend,d=p(s.valueDecimals,-1),f=p(s.valueSuffix,""),w=function(E){return l.series.reduce(function(T,r){return T.push.apply(T,r.points.filter(function(u){return u.dataClass===E})),T},[])},S;return t.length||l.dataClasses.forEach(function(E,T){var r=E.from,u=E.to,g=o.numberFormatter,y=!0;S="",typeof r>"u"?S="< ":typeof u>"u"&&(S="> "),typeof r<"u"&&(S+=g(r,d)+f),typeof r<"u"&&typeof u<"u"&&(S+=" - "),typeof u<"u"&&(S+=g(u,d)+f),t.push(i({chart:o,name:S,options:{},drawLegendSymbol:v.drawRectangle,visible:!0,isDataClass:!0,setState:function(c){for(var _=0,B=w(T);_<B.length;_++)B[_].setState(c)},setVisible:function(){this.visible=y=l.visible=!y;for(var c=0,_=w(T);c<_.length;c++)_[c].setVisible(y);o.legend.colorizeItem(this,y)}},E))}),t},a.defaultColorAxisOptions=C,a.defaultLegendLength=200,a.keepProps=["legendItem"],a}(A),Array.prototype.push.apply(A.keepProps,O.keepProps),O}),X(L,"Maps/MapNavigationDefaults.js",[L["Core/Defaults.js"],L["Core/Utilities.js"]],function(A,O){O=O.extend;var P={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};return O(A.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),A.defaultOptions.mapNavigation=P}),X(L,"Maps/MapNavigation.js",[L["Core/Chart/Chart.js"],L["Core/Globals.js"],L["Core/Utilities.js"]],function(A,O,P){function C(e){e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)}function b(e){this.navButtons=[],this.init(e)}var v=O.doc,x=P.addEvent,z=P.extend,M=P.isNumber,m=P.merge,j=P.objectEach,i=P.pick;b.prototype.init=function(e){this.chart=e},b.prototype.update=function(e){var n=this,p=this.chart,h=p.options.mapNavigation,a,l=function(t){this.handler.call(p,t),C(t)},o=n.navButtons;for(e&&(h=p.options.mapNavigation=m(p.options.mapNavigation,e));o.length;)o.pop().destroy();i(h.enableButtons,h.enabled)&&!p.renderer.forExport&&(n.navButtonsGroup||(n.navButtonsGroup=p.renderer.g().attr({zIndex:4}).add()),j(h.buttons,function(t,s){t=m(h.buttonOptions,t),!p.styledMode&&t.theme&&(a=t.theme,a.style=m(t.theme.style,t.style));var d=p.renderer.button(t.text||"",0,0,l,a,void 0,void 0,void 0,s==="zoomIn"?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[s]).attr({width:t.width,height:t.height,title:p.options.lang[s],padding:t.padding,zIndex:5}).add(n.navButtonsGroup);if(d.handler=t.onclick,x(d.element,"dblclick",C),o.push(d),z(t,{width:d.width,height:2*d.height}),p.hasLoaded)d.align(t,!1,t.alignTo);else var f=x(p,"load",function(){d.element&&d.align(t,!1,t.alignTo),f()})}),e=function(){var t=p.exportingGroup&&p.exportingGroup.getBBox();if(t){var s=n.navButtonsGroup.getBBox();if(!(s.x>=t.x+t.width||s.x+s.width<=t.x||s.y>=t.y+t.height||s.y+s.height<=t.y)){var d=-s.y-s.height+t.y-5;t=t.y+t.height-s.y+5,n.navButtonsGroup.attr({translateY:(h.buttonOptions&&h.buttonOptions.verticalAlign)==="bottom"?d:t})}}},p.hasLoaded||x(p,"render",e)),this.updateEvents(h)},b.prototype.updateEvents=function(e){var n=this.chart;i(e.enableDoubleClickZoom,e.enabled)||e.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||x(n.container,"dblclick",function(p){n.pointer.onContainerDblClick(p)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),i(e.enableMouseWheelZoom,e.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||x(n.container,v.onwheel!==void 0?"wheel":v.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",function(p){return n.pointer.inClass(p.target,"highcharts-no-mousewheel")||(n.pointer.onContainerMouseWheel(p),C(p)),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},z(A.prototype,{fitToBox:function(e,n){return[["x","width"],["y","height"]].forEach(function(p){var h=p[0];p=p[1],e[h]+e[p]>n[h]+n[p]&&(e[p]>n[p]?(e[p]=n[p],e[h]=n[h]):e[h]=n[h]+n[p]-e[p]),e[p]>n[p]&&(e[p]=n[p]),e[h]<n[h]&&(e[h]=n[h])}),e},mapZoom:function(e,n,p,h,a){this.mapView&&(M(e)&&(e=Math.log(e)/Math.log(.5)),this.mapView.zoomBy(e,M(n)&&M(p)?this.mapView.projection.inverse([n,p]):void 0,M(h)&&M(a)?[h,a]:void 0))}}),x(A,"beforeRender",function(){this.mapNavigation=new b(this),this.mapNavigation.update()}),O.MapNavigation=b}),X(L,"Maps/MapPointer.js",[L["Core/Pointer.js"],L["Core/Utilities.js"]],function(A,O){var P=O.defined,C=O.extend,b=O.pick;O=O.wrap;var v=A.prototype.normalize,x=0,z;C(A.prototype,{normalize:function(M,m){var j=this.chart;return M=v.call(this,M,m),j&&j.mapView&&(m=j.mapView.pixelsToLonLat({x:M.chartX-j.plotLeft,y:M.chartY-j.plotTop}))&&C(M,m),M},onContainerDblClick:function(M){var m=this.chart;M=this.normalize(M),m.options.mapNavigation.enableDoubleClickZoomTo?m.pointer.inClass(M.target,"highcharts-tracker")&&m.hoverPoint&&m.hoverPoint.zoomTo():m.isInsidePlot(M.chartX-m.plotLeft,M.chartY-m.plotTop)&&m.mapZoom(.5,void 0,void 0,M.chartX,M.chartY)},onContainerMouseWheel:function(M){var m=this.chart;M=this.normalize(M);var j=P(M.wheelDelta)&&-M.wheelDelta/120||M.deltaY||M.detail;1<=Math.abs(j)&&(x+=Math.abs(j),z&&clearTimeout(z),z=setTimeout(function(){x=0},50)),10>x&&m.isInsidePlot(M.chartX-m.plotLeft,M.chartY-m.plotTop)&&m.mapView&&m.mapView.zoomBy((m.options.mapNavigation.mouseWheelSensitivity-1)*-j,void 0,[M.chartX,M.chartY],1>Math.abs(j)?!1:void 0)}}),O(A.prototype,"zoomOption",function(M){var m=this.chart.options.mapNavigation;b(m.enableTouchZoom,m.enabled)&&(this.chart.options.chart.zooming.pinchType="xy"),M.apply(this,[].slice.call(arguments,1))}),O(A.prototype,"pinchTranslate",function(M,m,j,i,e,n,p){M.call(this,m,j,i,e,n,p),this.chart.options.chart.type==="map"&&this.hasZoom&&(M=i.scaleX>i.scaleY,this.pinchTranslateDirection(!M,m,j,i,e,n,p,M?i.scaleX:i.scaleY))})}),X(L,"Series/ColorMapComposition.js",[L["Core/Series/SeriesRegistry.js"],L["Core/Utilities.js"]],function(A,O){var P=A.seriesTypes.column.prototype,C=O.addEvent,b=O.defined,v;return function(x){function z(m){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:m&&m.state==="hover"?1:0})}var M=[];x.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return this.value!==null&&this.value!==1/0&&this.value!==-1/0&&(this.value===void 0||!isNaN(this.value))}},x.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(m){var j={};return!b(m.color)||m.state&&m.state!=="normal"||(j[this.colorProp||"fill"]=m.color),j},pointAttribs:P.pointAttribs},x.compose=function(m){var j=m.prototype.pointClass;return M.indexOf(j)===-1&&(M.push(j),C(j,"afterSetState",z)),m}}(v||(v={})),v}),X(L,"Maps/MapSymbols.js",[L["Core/Renderer/SVG/SVGRenderer.js"]],function(A){function O(P,C,b,v,x,z,M,m){return[["M",P+x,C],["L",P+b-z,C],["C",P+b-z/2,C,P+b,C+z/2,P+b,C+z],["L",P+b,C+v-M],["C",P+b,C+v-M/2,P+b-M/2,C+v,P+b-M,C+v],["L",P+m,C+v],["C",P+m/2,C+v,P,C+v-m/2,P,C+v-m],["L",P,C+x],["C",P,C+x/2,P+x/2,C,P+x,C],["Z"]]}return A=A.prototype.symbols,A.bottombutton=function(P,C,b,v,x){return x=x&&x.r||0,O(P-1,C-1,b,v,0,0,x,x)},A.topbutton=function(P,C,b,v,x){return x=x&&x.r||0,O(P-1,C-1,b,v,x,x,0,0)},A}),X(L,"Core/Chart/MapChart.js",[L["Core/Chart/Chart.js"],L["Core/Defaults.js"],L["Core/Renderer/SVG/SVGRenderer.js"],L["Core/Utilities.js"]],function(A,O,P,C){var b=this&&this.__extends||function(){var M=function(m,j){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n])},M(m,j)};return function(m,j){function i(){this.constructor=m}M(m,j),m.prototype=j===null?Object.create(j):(i.prototype=j.prototype,new i)}}(),v=O.getOptions,x=C.merge,z=C.pick;return A=function(M){function m(){return M!==null&&M.apply(this,arguments)||this}return b(m,M),m.prototype.init=function(j,i){var e=v().credits;j=x({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:z(e.mapText,' Â© <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:z(e.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},j),M.prototype.init.call(this,j,i)},m}(A),function(M){M.maps={},M.mapChart=function(m,j,i){return new M(m,j,i)},M.splitPath=function(m){return typeof m=="string"&&(m=m.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,""),m=m.split(/[ ,;]+/).map(function(j){return/[A-za-z]/.test(j)?j:parseFloat(j)})),P.prototype.pathToSegments(m)}}(A||(A={})),A}),X(L,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(A){var O=-Number.MAX_VALUE,P=Number.MAX_VALUE,C=-Number.MAX_VALUE,b=Number.MAX_VALUE,v;if(A.forEach(function(x){var z=x[x.length-2];x=x[x.length-1],typeof z=="number"&&typeof x=="number"&&(P=Math.min(P,z),O=Math.max(O,z),b=Math.min(b,x),C=Math.max(C,x),v=!0)}),v)return{x1:P,y1:b,x2:O,y2:C}},pointInPolygon:function(A,O){var P,C=!1,b=A.x,v=A.y;for(A=0,P=O.length-1;A<O.length;P=A++){var x=O[A][1]>v,z=O[P][1]>v;x!==z&&b<(O[P][0]-O[A][0])*(v-O[A][1])/(O[P][1]-O[A][1])+O[A][0]&&(C=!C)}return C}}}),X(L,"Series/Map/MapPoint.js",[L["Series/ColorMapComposition.js"],L["Maps/MapUtilities.js"],L["Core/Series/SeriesRegistry.js"],L["Core/Utilities.js"]],function(A,O,P,C){var b=this&&this.__extends||function(){var m=function(j,i){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var p in n)n.hasOwnProperty(p)&&(e[p]=n[p])},m(j,i)};return function(j,i){function e(){this.constructor=j}m(j,i),j.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}(),v=O.boundsFromPath,x=C.extend,z=C.isNumber,M=C.pick;return O=function(m){function j(){var i=m!==null&&m.apply(this,arguments)||this;return i.options=void 0,i.path=void 0,i.series=void 0,i}return b(j,m),j.getProjectedPath=function(i,e){return i.projectedPath||(e&&i.geometry?(e.hasCoordinates=!0,i.projectedPath=e.path(i.geometry)):i.projectedPath=i.path),i.projectedPath||[]},j.prototype.applyOptions=function(i,e){var n=this.series;return i=m.prototype.applyOptions.call(this,i,e),e=n.joinBy,n.mapData&&n.mapMap&&(e=m.prototype.getNestedProperty.call(i,e[1]),(e=typeof e<"u"&&n.mapMap[e])?x(i,e):n.pointArrayMap.indexOf("value")!==-1&&(i.value=i.value||null)),i},j.prototype.getProjectedBounds=function(i){i=j.getProjectedPath(this,i),i=v(i);var e=this.properties;if(i){var n=e&&e["hc-middle-x"];return e=e&&e["hc-middle-y"],i.midX=i.x1+(i.x2-i.x1)*M(this.middleX,z(n)?n:.5),n=M(this.middleY,z(e)?e:.5),this.geometry||(n=1-n),i.midY=i.y2-(i.y2-i.y1)*n,i}},j.prototype.onMouseOver=function(i){C.clearTimeout(this.colorInterval),!this.isNull&&this.visible||this.series.options.nullInteraction?m.prototype.onMouseOver.call(this,i):this.series.onMouseOut(i)},j.prototype.setVisible=function(i){var e=i?"show":"hide";this.visible=this.options.visible=!!i,this.dataLabel&&this.dataLabel[e](),this.graphic&&this.graphic.attr(this.series.pointAttribs(this))},j.prototype.zoomTo=function(){var i=this.series.chart,e=i.mapView,n=this.bounds;if(e&&n){var p=z(this.insetIndex)&&e.insets[this.insetIndex];if(p){var h=p.projectedUnitsToPixels({x:n.x1,y:n.y1});n=p.projectedUnitsToPixels({x:n.x2,y:n.y2}),h=e.pixelsToProjectedUnits({x:h.x,y:h.y}),n=e.pixelsToProjectedUnits({x:n.x,y:n.y}),n={x1:h.x,y1:h.y,x2:n.x,y2:n.y}}e.fitToBounds(n,void 0,!1),this.series.isDirty=!0,i.redraw()}},j}(P.seriesTypes.scatter.prototype.pointClass),x(O.prototype,{dataLabelOnNull:A.pointMembers.dataLabelOnNull,moveToTopOnHover:A.pointMembers.moveToTopOnHover,isValid:A.pointMembers.isValid}),O}),X(L,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}}),X(L,"Maps/MapViewInsetsOptionsDefault.js",[],function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}}),X(L,"Extensions/GeoJSON.js",[L["Core/Chart/Chart.js"],L["Core/FormatUtilities.js"],L["Core/Globals.js"],L["Core/Utilities.js"]],function(A,O,P,C){function b(i,e){if(e||(e=Object.keys(i.objects)[0]),e=i.objects[e],e["hc-decoded-geojson"])return e["hc-decoded-geojson"];var n=i.arcs;if(i.transform){var p=i.transform,h=p.scale,a=p.translate;n=i.arcs.map(function(o){var t=0,s=0;return o.map(function(d){return d=d.slice(),d[0]=(t+=d[0])*h[0]+a[0],d[1]=(s+=d[1])*h[1]+a[1],d})})}var l=function(o){return typeof o[0]=="number"?o.reduce(function(t,s,d){var f=0>s?n[~s]:n[s];return 0>s?(f=f.slice(0,d===0?f.length:f.length-1),f.reverse()):d&&(f=f.slice(1)),t.concat(f)},[]):o.map(l)};return p=e.geometries.map(function(o){return{type:"Feature",properties:o.properties,geometry:{type:o.type,coordinates:o.coordinates||l(o.arcs)}}}),i={type:"FeatureCollection",copyright:i.copyright,copyrightShort:i.copyrightShort,copyrightUrl:i.copyrightUrl,features:p,"hc-recommended-mapview":e["hc-recommended-mapview"],bbox:i.bbox,title:i.title},e["hc-decoded-geojson"]=i}function v(i,e,n){e===void 0&&(e="map");var p=[];return i=i.type==="Topology"?b(i):i,i.features.forEach(function(h){var a=h.geometry||{},l=a.type;a=a.coordinates,h=h.properties;var o;if(e!=="map"&&e!=="mapbubble"||l!=="Polygon"&&l!=="MultiPolygon"?e!=="mapline"||l!=="LineString"&&l!=="MultiLineString"?e==="mappoint"&&l==="Point"&&a.length&&(o={geometry:{coordinates:a,type:l}}):a.length&&(o={geometry:{coordinates:a,type:l}}):a.length&&(o={geometry:{coordinates:a,type:l}}),o){l=h&&(h.name||h.NAME),a=h&&h.lon;var t=h&&h.lat;p.push(m(o,{lat:typeof t=="number"?t:void 0,lon:typeof a=="number"?a:void 0,name:typeof l=="string"?l:void 0,properties:h}))}}),n&&i.copyrightShort&&(n.chart.mapCredits=x(n.chart.options.credits.mapText,{geojson:i}),n.chart.mapCreditsFull=x(n.chart.options.credits.mapTextFull,{geojson:i})),p}var x=O.format,z=P.win,M=C.error,m=C.extend,j=C.merge;return O=C.wrap,A.prototype.transformFromLatLon=function(i,e){var n=this.options.chart.proj4||z.proj4;if(n){var p=e.jsonmarginX;p=p===void 0?0:p;var h=e.jsonmarginY;h=h===void 0?0:h;var a=e.jsonres;a=a===void 0?1:a;var l=e.scale;l=l===void 0?1:l;var o=e.xoffset;o=o===void 0?0:o;var t=e.xpan;t=t===void 0?0:t;var s=e.yoffset;s=s===void 0?0:s;var d=e.ypan;d=d===void 0?0:d,i=n(e.crs,[i.lon,i.lat]),n=e.cosAngle||e.rotation&&Math.cos(e.rotation);var f=e.sinAngle||e.rotation&&Math.sin(e.rotation);return e=e.rotation?[i[0]*n+i[1]*f,-i[0]*f+i[1]*n]:i,{x:((e[0]-o)*l+t)*a+p,y:-(((s-e[1])*l+d)*a-h)}}M(21,!1,this)},A.prototype.transformToLatLon=function(i,e){var n=this.options.chart.proj4||z.proj4;if(!n)M(21,!1,this);else if(i.y!==null){var p=e.jsonmarginX,h=e.jsonmarginY,a=e.jsonres;a=a===void 0?1:a;var l=e.scale;l=l===void 0?1:l;var o=e.xoffset,t=e.xpan,s=e.yoffset,d=e.ypan;return i={x:((i.x-(p===void 0?0:p))/a-(t===void 0?0:t))/l+(o===void 0?0:o),y:((i.y-(h===void 0?0:h))/a+(d===void 0?0:d))/l+(s===void 0?0:s)},p=e.cosAngle||e.rotation&&Math.cos(e.rotation),h=e.sinAngle||e.rotation&&Math.sin(e.rotation),e=n(e.crs,"WGS84",e.rotation?{x:i.x*p+i.y*-h,y:i.x*h+i.y*p}:i),{lat:e.y,lon:e.x}}},A.prototype.fromPointToLatLon=function(i){return this.mapView&&this.mapView.projectedUnitsToLonLat(i)},A.prototype.fromLatLonToPoint=function(i){return this.mapView&&this.mapView.lonLatToProjectedUnits(i)},O(A.prototype,"addCredits",function(i,e){e=j(!0,this.options.credits,e),this.mapCredits&&(e.href=null),i.call(this,e),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})}),P.geojson=v,P.topo2geo=b,{geojson:v,topo2geo:b}}),X(L,"Core/Geometry/PolygonClip.js",[],function(){var A=function(C,b,v){return(b[0]-C[0])*(v[1]-C[1])>(b[1]-C[1])*(v[0]-C[0])},O=function(C,b,v,x){var z=[C[0]-b[0],C[1]-b[1]],M=[v[0]-x[0],v[1]-x[1]];return C=C[0]*b[1]-C[1]*b[0],v=v[0]*x[1]-v[1]*x[0],x=1/(z[0]*M[1]-z[1]*M[0]),z=[(C*M[0]-v*z[0])*x,(C*M[1]-v*z[1])*x],z.isIntersection=!0,z},P;return function(C){C.clipLineString=function(b,v){var x=[];for(b=C.clipPolygon(b,v,!1),v=1;v<b.length;v++)b[v].isIntersection&&b[v-1].isIntersection&&(x.push(b.splice(0,v)),v=0),v===b.length-1&&x.push(b);return x},C.clipPolygon=function(b,v,x){x===void 0&&(x=!0);for(var z=v[v.length-1],M,m,j=b,i=0;i<v.length;i++){var e=j;b=v[i],j=[],M=x?e[e.length-1]:e[0];for(var n=0;n<e.length;n++)m=e[n],A(z,b,m)?(A(z,b,M)||j.push(O(z,b,M,m)),j.push(m)):A(z,b,M)&&j.push(O(z,b,M,m)),M=m;z=b}return j}}(P||(P={})),P}),X(L,"Maps/Projections/LambertConformalConic.js",[],function(){var A=Math.sign||function(C){return C===0?0:0<C?1:-1},O=Math.PI/180,P=Math.PI/2;return function(){function C(b){var v,x=(b.parallels||[]).map(function(M){return M*O}),z=x[0]||0;x=(v=x[1])!==null&&v!==void 0?v:z,v=Math.cos(z),typeof b.projectedBounds=="object"&&(this.projectedBounds=b.projectedBounds),b=z===x?Math.sin(z):Math.log(v/Math.cos(x))/Math.log(Math.tan((P+x)/2)/Math.tan((P+z)/2)),1e-10>Math.abs(b)&&(b=1e-10*(A(b)||1)),this.n=b,this.c=v*Math.pow(Math.tan((P+z)/2),b)/b}return C.prototype.forward=function(b){var v=b[0]*O,x=this.c,z=this.n,M=this.projectedBounds;b=b[1]*O,0<x?b<-P+1e-6&&(b=-P+1e-6):b>P-1e-6&&(b=P-1e-6);var m=x/Math.pow(Math.tan((P+b)/2),z);return b=m*Math.sin(z*v)*63.78137,v=63.78137*(x-m*Math.cos(z*v)),x=[b,v],M&&(b<M.x1||b>M.x2||v<M.y1||v>M.y2)&&(x.outside=!0),x},C.prototype.inverse=function(b){var v=b[0]/63.78137,x=this.c,z=this.n;b=x-b[1]/63.78137;var M=A(z)*Math.sqrt(v*v+b*b),m=Math.atan2(v,Math.abs(b))*A(b);return 0>b*z&&(m-=Math.PI*A(v)*A(b)),[m/z/O,(2*Math.atan(Math.pow(x/M,1/z))-P)/O]},C}()}),X(L,"Maps/Projections/EqualEarth.js",[],function(){var A=Math.sqrt(3)/2;return function(){function O(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}return O.prototype.forward=function(P){var C=Math.PI/180,b=Math.asin(A*Math.sin(P[1]*C)),v=b*b,x=v*v*v;return[P[0]*C*Math.cos(b)*74.03120656864502/(A*(1.340264+3*-.081106*v+x*(7*893e-6+.034164*v))),74.03120656864502*b*(1.340264+-.081106*v+x*(893e-6+.003796*v))]},O.prototype.inverse=function(P){var C=P[0]/74.03120656864502;P=P[1]/74.03120656864502;var b=180/Math.PI,v=P,x;for(x=0;12>x;++x){var z=v*v,M=z*z*z,m=v*(1.340264+-.081106*z+M*(893e-6+.003796*z))-P;if(z=1.340264+3*-.081106*z+M*(7*893e-6+.034164*z),v-=m/=z,1e-9>Math.abs(m))break}return z=v*v,[b*A*C*(1.340264+3*-.081106*z+z*z*z*(7*893e-6+.034164*z))/Math.cos(v),b*Math.asin(Math.sin(v)/A)]},O}()}),X(L,"Maps/Projections/Miller.js",[],function(){var A=Math.PI/4,O=Math.PI/180;return function(){function P(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}return P.prototype.forward=function(C){return[C[0]*O*63.78137,79.7267125*Math.log(Math.tan(A+.4*C[1]*O))]},P.prototype.inverse=function(C){return[C[0]/63.78137/O,2.5*(Math.atan(Math.exp(C[1]/63.78137*.8))-A)/O]},P}()}),X(L,"Maps/Projections/Orthographic.js",[],function(){var A=Math.PI/180;return function(){function O(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}return O.prototype.forward=function(P){var C=P[0];return P=P[1]*A,P=[Math.cos(P)*Math.sin(C*A)*63.78460826781007,63.78460826781007*Math.sin(P)],(-90>C||90<C)&&(P.outside=!0),P},O.prototype.inverse=function(P){var C=P[0]/63.78460826781007;P=P[1]/63.78460826781007;var b=Math.sqrt(C*C+P*P),v=Math.asin(b),x=Math.sin(v);return[Math.atan2(C*x,b*Math.cos(v))/A,Math.asin(b&&P*x/b)/A]},O}()}),X(L,"Maps/Projections/WebMercator.js",[],function(){var A=Math.PI/180;return function(){function O(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}return O.prototype.forward=function(P){var C=Math.sin(P[1]*A);return C=[63.78137*P[0]*A,63.78137*Math.log((1+C)/(1-C))/2],85.0511287798<Math.abs(P[1])&&(C.outside=!0),C},O.prototype.inverse=function(P){return[P[0]/(63.78137*A),(2*Math.atan(Math.exp(P[1]/63.78137))-Math.PI/2)/A]},O}()}),X(L,"Maps/Projections/ProjectionRegistry.js",[L["Maps/Projections/LambertConformalConic.js"],L["Maps/Projections/EqualEarth.js"],L["Maps/Projections/Miller.js"],L["Maps/Projections/Orthographic.js"],L["Maps/Projections/WebMercator.js"]],function(A,O,P,C,b){return{EqualEarth:O,LambertConformalConic:A,Miller:P,Orthographic:C,WebMercator:b}}),X(L,"Maps/Projection.js",[L["Core/Geometry/PolygonClip.js"],L["Maps/Projections/ProjectionRegistry.js"],L["Core/Utilities.js"]],function(A,O,P){var C=this&&this.__spreadArray||function(j,i,e){if(e||arguments.length===2)for(var n=0,p=i.length,h;n<p;n++)!h&&n in i||(h||(h=Array.prototype.slice.call(i,0,n)),h[n]=i[n]);return j.concat(h||Array.prototype.slice.call(i))},b=A.clipLineString,v=A.clipPolygon,x=P.clamp,z=P.erase,M=2*Math.PI/360,m=function(j){return-180>j&&(j+=360),180<j&&(j-=360),j};return function(){function j(i){i===void 0&&(i={}),this.hasGeoProjection=this.hasCoordinates=!1,this.maxLatitude=90,this.options=i;var e=i.name,n=i.projectedBounds,p=i.rotation;this.rotator=p?this.getRotator(p):void 0,(e=e?j.registry[e]:void 0)&&(this.def=new e(i));var h=this.def,a=this.rotator;h&&(this.maxLatitude=h.maxLatitude||90,this.hasGeoProjection=!0),a&&h?(this.forward=function(l){return h.forward(a.forward(l))},this.inverse=function(l){return a.inverse(h.inverse(l))}):h?(this.forward=function(l){return h.forward(l)},this.inverse=function(l){return h.inverse(l)}):a&&(this.forward=a.forward,this.inverse=a.inverse),this.bounds=n==="world"?h&&h.bounds:n}return j.add=function(i,e){j.registry[i]=e},j.greatCircle=function(i,e,n){var p=Math.atan2,h=Math.cos,a=Math.sin,l=Math.sqrt,o=i[1]*M,t=i[0]*M,s=e[1]*M,d=e[0]*M,f=s-o,w=d-t;f=a(f/2)*a(f/2)+h(o)*h(s)*a(w/2)*a(w/2),f=2*p(l(f),l(1-f));var S=Math.round(6371e3*f/5e5);if(w=[],n&&w.push(i),1<S)for(S=i=1/S;.999>S;S+=i){var E=a((1-S)*f)/a(f),T=a(S*f)/a(f),r=E*h(o)*h(t)+T*h(s)*h(d),u=E*h(o)*a(t)+T*h(s)*a(d);E=E*a(o)+T*a(s),E=p(E,l(r*r+u*u)),r=p(u,r),w.push([r/M,E/M])}return n&&w.push(e),w},j.insertGreatCircles=function(i){for(var e=i.length-1;e--;)if(10<Math.max(Math.abs(i[e][0]-i[e+1][0]),Math.abs(i[e][1]-i[e+1][1]))){var n=j.greatCircle(i[e],i[e+1]);n.length&&i.splice.apply(i,C([e+1,0],n,!1))}},j.toString=function(i){i=i||{};var e=i.rotation;return[i.name,e&&e.join(",")].join(";")},j.prototype.lineIntersectsBounds=function(i){var e=this.bounds||{},n=e.x2,p=e.y1,h=e.y2,a=function(o,t,s){var d=o[0];o=o[1];var f=t?0:1;if(typeof s=="number"&&d[t]>=s!=o[t]>=s)return d=d[f]+(s-d[t])/(o[t]-d[t])*(o[f]-d[f]),t?[d,s]:[s,d]},l=i[0];return((e=a(i,0,e.x1))||(e=a(i,0,n)))&&(l=e,i[1]=e),((e=a(i,1,p))||(e=a(i,1,h)))&&(l=e),l},j.prototype.getRotator=function(i){var e=i[0]*M,n=(i[1]||0)*M;i=(i[2]||0)*M;var p=Math.cos(n),h=Math.sin(n),a=Math.cos(i),l=Math.sin(i);if(e!==0||n!==0||i!==0)return{forward:function(o){var t=o[0]*M+e,s=o[1]*M,d=Math.cos(s);return o=Math.cos(t)*d,t=Math.sin(t)*d,s=Math.sin(s),d=s*p+o*h,[Math.atan2(t*a-d*l,o*p-s*h)/M,Math.asin(d*a+t*l)/M]},inverse:function(o){var t=o[0]*M,s=o[1]*M,d=Math.cos(s);return o=Math.cos(t)*d,t=Math.sin(t)*d,s=Math.sin(s),d=s*a-t*l,[(Math.atan2(t*a+s*l,o*p+d*h)-e)/M,Math.asin(d*p-o*h)/M]}}},j.prototype.forward=function(i){return i},j.prototype.inverse=function(i){return i},j.prototype.cutOnAntimeridian=function(i,e){var n=[],p=[i];if(i.forEach(function(w,S){var E=i[S-1];if(!S){if(!e)return;E=i[i.length-1]}var T=E[0],r=w[0];(-90>T||90<T)&&(-90>r||90<r)&&0<T!=0<r&&(r=x((180-(T+360)%360)/((r+360)%360-(T+360)%360),0,1),n.push({i:S,lat:E[1]+r*(w[1]-E[1]),direction:0>T?1:-1,previousLonLat:E,lonLat:w}))}),n.length)if(e){if(n.length%2===1){var h=n.slice().sort(function(w,S){return Math.abs(S.lat)-Math.abs(w.lat)})[0];z(n,h)}for(var a=n.length-2;0<=a;){var l=n[a].i,o=m(180+1e-6*n[a].direction),t=m(180-1e-6*n[a].direction);l=i.splice.apply(i,C([l,n[a+1].i-l],j.greatCircle([o,n[a].lat],[o,n[a+1].lat],!0),!1)),l.push.apply(l,j.greatCircle([t,n[a+1].lat],[t,n[a].lat],!0)),p.push(l),a-=2}if(h)for(o=0;o<p.length;o++){a=h.direction;var s=h.lat;if(t=p[o],l=t.indexOf(h.lonLat),-1<l){o=(0>s?-1:1)*this.maxLatitude;var d=m(180+1e-6*a),f=m(180-1e-6*a);for(s=j.greatCircle([d,s],[d,o],!0),d+=120*a;-180<d&&180>d;d+=120*a)s.push([d,o]);s.push.apply(s,j.greatCircle([f,o],[f,h.lat],!0)),t.splice.apply(t,C([l,0],s,!1));break}}}else for(a=n.length;a--;)l=n[a].i,l=i.splice(l,i.length,[m(180+1e-6*n[a].direction),n[a].lat]),l.unshift([m(180-1e-6*n[a].direction),n[a].lat]),p.push(l);return p},j.prototype.path=function(i){var e=this,n=this.bounds,p=this.def,h=this.rotator,a=[],l=i.type==="Polygon"||i.type==="MultiPolygon",o=this.hasGeoProjection,t=!p||p.antimeridianCutting!==!1,s=t?h:void 0,d=t?p||this:this,f;n&&(f=[[n.x1,n.y1],[n.x2,n.y1],[n.x2,n.y2],[n.x1,n.y2]]);var w=function(S){S=S.map(function(T){if(t){s&&(T=s.forward(T));var r=T[0];1e-6>Math.abs(r-180)&&(r=180>r?179.999999:180.000001),T=[r,T[1]]}return T});var E=[S];o&&(j.insertGreatCircles(S),t&&(E=e.cutOnAntimeridian(S,l))),E.forEach(function(T){if(!(2>T.length)){var r=!1,u=!1,g=function(D){r?a.push(["L",D[0],D[1]]):(a.push(["M",D[0],D[1]]),r=!0)},y=!1,c=!1,_=T.map(function(D){return D=d.forward(D),D.outside?y=!0:c=!0,D[1]===1/0?D[1]=1e10:D[1]===-1/0&&(D[1]=-1e10),D});if(t){if(l&&_.push(_[0]),y){if(!c)return;if(f){if(l)_=v(_,f);else if(n){b(_,f).forEach(function(D){r=!1,D.forEach(g)});return}}}_.forEach(g)}else for(var B=0;B<_.length;B++){var I=T[B],V=_[B];if(V.outside)u=!0;else{if(l&&!U){var U=I;T.push(I),_.push(V)}u&&k&&(l&&o?j.greatCircle(k,I).forEach(function(D){return g(d.forward(D))}):r=!1),g(V);var k=I;u=!1}}}})};return i.type==="LineString"?w(i.coordinates):i.type==="MultiLineString"?i.coordinates.forEach(function(S){return w(S)}):i.type==="Polygon"?(i.coordinates.forEach(function(S){return w(S)}),a.length&&a.push(["Z"])):i.type==="MultiPolygon"&&(i.coordinates.forEach(function(S){S.forEach(function(E){return w(E)})}),a.length&&a.push(["Z"])),a},j.registry=O,j}()}),X(L,"Maps/MapView.js",[L["Maps/MapViewOptionsDefault.js"],L["Maps/MapViewInsetsOptionsDefault.js"],L["Extensions/GeoJSON.js"],L["Core/Chart/MapChart.js"],L["Maps/MapUtilities.js"],L["Maps/Projection.js"],L["Core/Utilities.js"]],function(A,O,P,C,b,v,x){var z=this&&this.__extends||function(){var T=function(r,u){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var c in y)y.hasOwnProperty(c)&&(g[c]=y[c])},T(r,u)};return function(r,u){function g(){this.constructor=r}T(r,u),r.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),M=this&&this.__spreadArray||function(T,r,u){if(u||arguments.length===2)for(var g=0,y=r.length,c;g<y;g++)!c&&g in r||(c||(c=Array.prototype.slice.call(r,0,g)),c[g]=r[g]);return T.concat(c||Array.prototype.slice.call(r))},m=P.topo2geo,j=C.maps,i=b.boundsFromPath,e=b.pointInPolygon,n=x.addEvent,p=x.clamp,h=x.fireEvent,a=x.isArray,l=x.isNumber,o=x.isObject,t=x.isString,s=x.merge,d=x.pick,f=x.relativeLength,w=function(T,r){return Math.log(400.979322/Math.max((T.x2-T.x1)/(r.width/256),(T.y2-T.y1)/(r.height/256)))/Math.log(2)},S=function(){function T(r,u){var g=this;this.insets=[],this.padding=[0,0,0,0],this.eventsToUnbind=[];var y;if(!(this instanceof E)){var c=M([r.options.chart.map],(r.options.series||[]).map(function(k){return k.mapData}),!0).map(function(k){return g.getGeoMap(k)}),_=[];c.forEach(function(k){k&&(y||(y=k["hc-recommended-mapview"]),k.bbox&&(k=k.bbox,_.push({x1:k[0],y1:k[1],x2:k[2],y2:k[3]})))});var B=_.length&&T.compositeBounds(_);if(B){var I=B.x1,V=B.y1,U=B.x2;B=B.y2,I=180<U-I&&90<B-V?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[V,B],rotation:[-(I+U)/2]}}this.geoMap=c[0]}this.userOptions=u||{},c=s(A,{projection:I},y,u),B=y&&y.insets,u=u&&u.insets,B&&u&&(c.insets=T.mergeInsets(B,u)),this.chart=r,this.center=c.center,this.options=c,this.projection=new v(c.projection),this.playingField=r.plotBox,this.zoom=c.zoom||0,this.createInsets(),this.eventsToUnbind.push(n(r,"afterSetChartSize",function(){g.playingField=g.getField(),(g.minZoom===void 0||g.minZoom===g.zoom)&&(g.fitToBounds(void 0,void 0,!1),!g.chart.hasRendered&&l(g.userOptions.zoom)&&(g.zoom=g.userOptions.zoom),g.userOptions.center&&s(!0,g.center,g.userOptions.center))})),this.setUpEvents()}return T.mergeInsets=function(r,u){var g=function(c){var _={};return c.forEach(function(B,I){_[B&&B.id||"i".concat(I)]=B}),_},y=s(g(r),g(u));return Object.keys(y).map(function(c){return y[c]})},T.prototype.createInsets=function(){var r=this,u=this.options,g=u.insets;g&&g.forEach(function(y){y=new E(r,s(u.insetOptions,y)),r.insets.push(y)})},T.prototype.fitToBounds=function(r,u,g,y){g===void 0&&(g=!0);var c=r||this.getProjectedBounds();if(c){var _=d(u,r?0:this.options.padding);u=this.getField(!1),_=a(_)?_:[_,_,_,_],this.padding=[f(_[0],u.height),f(_[1],u.width),f(_[2],u.height),f(_[3],u.width)],this.playingField=this.getField(),u=w(c,this.playingField),r||(this.minZoom=u),r=this.projection.inverse([(c.x2+c.x1)/2,(c.y2+c.y1)/2]),this.setView(r,u,g,y)}},T.prototype.getField=function(r){return r===void 0&&(r=!0),r=r?this.padding:[0,0,0,0],{x:r[3],y:r[0],width:this.chart.plotWidth-r[1]-r[3],height:this.chart.plotHeight-r[0]-r[2]}},T.prototype.getGeoMap=function(r){if(t(r))return j[r];if(o(r,!0)){if(r.type==="FeatureCollection")return r;if(r.type==="Topology")return m(r)}},T.prototype.getMapBBox=function(){var r=this.getProjectedBounds(),u=this.getScale();if(r){var g=this.padding,y=this.projectedUnitsToPixels({x:r.x1,y:r.y2});return{width:(r.x2-r.x1)*u+g[1]+g[3],height:(r.y2-r.y1)*u+g[0]+g[2],x:y.x-g[3],y:y.y-g[0]}}},T.prototype.getProjectedBounds=function(){var r=this.projection,u=this.chart.series.reduce(function(y,c){var _=c.getProjectedBounds&&c.getProjectedBounds();return _&&c.options.affectsMapView!==!1&&y.push(_),y},[]),g=this.options.fitToGeometry;return g?(this.fitToGeometryCache||(g.type==="MultiPoint"?(g=g.coordinates.map(function(y){return r.forward(y)}),u=g.map(function(y){return y[0]}),g=g.map(function(y){return y[1]}),this.fitToGeometryCache={x1:Math.min.apply(0,u),x2:Math.max.apply(0,u),y1:Math.min.apply(0,g),y2:Math.max.apply(0,g)}):this.fitToGeometryCache=i(r.path(g))),this.fitToGeometryCache):this.projection.bounds||T.compositeBounds(u)},T.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)},T.prototype.getSVGTransform=function(){var r=this.playingField,u=r.x,g=r.y,y=r.width;r=r.height;var c=this.projection.forward(this.center),_=this.projection.hasCoordinates?-1:1,B=this.getScale();return _*=B,{scaleX:B,scaleY:_,translateX:u+y/2-c[0]*B,translateY:g+r/2-c[1]*_}},T.prototype.lonLatToPixels=function(r){if(r=this.lonLatToProjectedUnits(r))return this.projectedUnitsToPixels(r)},T.prototype.lonLatToProjectedUnits=function(r){var u=this.chart,g=u.mapTransforms;if(g){for(var y in g)if(Object.hasOwnProperty.call(g,y)&&g[y].hitZone){var c=u.transformFromLatLon(r,g[y]);if(c&&e(c,g[y].hitZone.coordinates[0]))return c}return u.transformFromLatLon(r,g.default)}for(g=0,y=this.insets;g<y.length;g++)if(u=y[g],u.options.geoBounds&&e({x:r.lon,y:r.lat},u.options.geoBounds.coordinates[0]))return r=u.projection.forward([r.lon,r.lat]),r=u.projectedUnitsToPixels({x:r[0],y:r[1]}),this.pixelsToProjectedUnits(r);if(r=this.projection.forward([r.lon,r.lat]),!r.outside)return{x:r[0],y:r[1]}},T.prototype.projectedUnitsToLonLat=function(r){var u=this.chart,g=u.mapTransforms;if(g){for(var y in g)if(Object.hasOwnProperty.call(g,y)&&g[y].hitZone&&e(r,g[y].hitZone.coordinates[0]))return u.transformToLatLon(r,g[y]);return u.transformToLatLon(r,g.default)}g=this.projectedUnitsToPixels(r),y=0;for(var c=this.insets;y<c.length;y++)if(u=c[y],u.hitZone&&e(g,u.hitZone.coordinates[0]))return r=u.pixelsToProjectedUnits(g),r=u.projection.inverse([r.x,r.y]),{lon:r[0],lat:r[1]};return r=this.projection.inverse([r.x,r.y]),{lon:r[0],lat:r[1]}},T.prototype.redraw=function(r){this.chart.series.forEach(function(u){u.useMapGeometry&&(u.isDirty=!0)}),this.chart.redraw(r)},T.prototype.setView=function(r,u,g,y){g===void 0&&(g=!0),r&&(this.center=r),typeof u=="number"&&(typeof this.minZoom=="number"&&(u=Math.max(u,this.minZoom)),typeof this.options.maxZoom=="number"&&(u=Math.min(u,this.options.maxZoom)),l(u)&&(this.zoom=u));var c=this.getProjectedBounds();if(c){r=this.projection.forward(this.center);var _=this.playingField;u=_.x;var B=_.y,I=_.width;_=_.height;var V=this.getScale(),U=this.projectedUnitsToPixels({x:c.x1,y:c.y1}),k=this.projectedUnitsToPixels({x:c.x2,y:c.y2});c=[(c.x1+c.x2)/2,(c.y1+c.y2)/2];var D=U.x,G=k.y;k=k.x,U=U.y,k-D<I?r[0]=c[0]:D<u&&k<u+I?r[0]+=Math.max(D-u,k-I-u)/V:k>u+I&&D>u&&(r[0]+=Math.min(k-I-u,D-u)/V),U-G<_?r[1]=c[1]:G<B&&U<B+_?r[1]-=Math.max(G-B,U-_-B)/V:U>B+_&&G>B&&(r[1]-=Math.min(U-_-B,G-B)/V),this.center=this.projection.inverse(r),this.insets.forEach(function(R){R.options.field&&(R.hitZone=R.getHitZone(),R.playingField=R.getField())}),this.render()}h(this,"afterSetView"),g&&this.redraw(y)},T.prototype.projectedUnitsToPixels=function(r){var u=this.getScale(),g=this.projection.forward(this.center),y=this.playingField;return{x:y.x+y.width/2-u*(g[0]-r.x),y:y.y+y.height/2+u*(g[1]-r.y)}},T.prototype.pixelsToLonLat=function(r){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(r))},T.prototype.pixelsToProjectedUnits=function(r){var u=r.x;r=r.y;var g=this.getScale(),y=this.projection.forward(this.center),c=this.playingField;return{x:y[0]+(u-(c.x+c.width/2))/g,y:y[1]-(r-(c.y+c.height/2))/g}},T.prototype.setUpEvents=function(){var r=this,u=this.chart,g,y,c,_=function(B){var I=u.pointer.pinchDown,V=r.projection,U=u.mouseDownX,k=u.mouseDownY;if(I.length===1&&(U=I[0].chartX,k=I[0].chartY),typeof U=="number"&&typeof k=="number"){var D=""+U+",".concat(k),G=B.originalEvent;I=G.chartX,G=G.chartY,D!==y&&(y=D,g=r.projection.forward(r.center),c=(r.projection.options.rotation||[0,0]).slice()),D=(D=V.def&&V.def.bounds)&&w(D,r.playingField)||-1/0,V.options.name==="Orthographic"&&(r.minZoom||1/0)<1.1*D?(V=440/(r.getScale()*Math.min(u.plotWidth,u.plotHeight)),c&&(U=(U-I)*V-c[0],k=p(-c[1]-(k-G)*V,-80,80),I=r.zoom,r.update({projection:{rotation:[-U,-k]}},!1),r.zoom=I,u.redraw(!1))):l(I)&&l(G)&&(V=r.getScale(),k=r.projection.inverse([g[0]+(U-I)/V,g[1]-(k-G)/V*(r.projection.hasCoordinates?1:-1)]),r.setView(k,void 0,!0,!1)),B.preventDefault()}};n(u,"pan",_),n(u,"touchpan",_),n(u,"selection",function(B){if(B.resetSelection)r.zoomBy();else{var I=B.x-u.plotLeft,V=B.y-u.plotTop,U=r.pixelsToProjectedUnits({x:I,y:V}),k=U.y;U=U.x,I=r.pixelsToProjectedUnits({x:I+B.width,y:V+B.height}),r.fitToBounds({x1:U,y1:k,x2:I.x,y2:I.y},void 0,!0,B.originalEvent.touches?!1:void 0),/^touch/.test(B.originalEvent.type)||u.showResetZoom(),B.preventDefault()}})},T.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())},T.prototype.update=function(r,u,g){u===void 0&&(u=!0);var y=r.projection;y=y&&v.toString(y)!==v.toString(this.options.projection);var c=!1;s(!0,this.userOptions,r),s(!0,this.options,r),"insets"in r&&(this.insets.forEach(function(_){return _.destroy()}),this.insets.length=0,c=!0),(y||"fitToGeometry"in r)&&delete this.fitToGeometryCache,(y||c)&&(this.chart.series.forEach(function(_){var B=_.transformGroups;if(_.clearBounds&&_.clearBounds(),_.isDirty=!0,_.isDirtyData=!0,c&&B)for(;1<B.length;)(_=B.pop())&&_.destroy()}),y&&(this.projection=new v(this.options.projection)),c&&this.createInsets(),r.center||l(r.zoom)||this.fitToBounds(void 0,void 0,!1)),r.center||l(r.zoom)?this.setView(this.options.center,r.zoom,!1):"fitToGeometry"in r&&this.fitToBounds(void 0,void 0,!1),u&&this.chart.redraw(g)},T.prototype.zoomBy=function(r,u,g,y){var c=this.chart,_=this.projection.forward(this.center);u=u?this.projection.forward(u):[];var B=u[0],I=u[1];typeof r=="number"?(r=this.zoom+r,u=void 0,g&&(B=g[0],I=g[1],g=this.getScale(),B=B-c.plotLeft-c.plotWidth/2,c=I-c.plotTop-c.plotHeight/2,B=_[0]+B/g,I=_[1]+c/g),typeof B=="number"&&typeof I=="number"&&(g=1-Math.pow(2,this.zoom)/Math.pow(2,r),B=_[0]-B,c=_[1]-I,_[0]-=B*g,_[1]+=c*g,u=this.projection.inverse(_)),this.setView(u,r,void 0,y)):this.fitToBounds(void 0,void 0,void 0,y)},T.compositeBounds=function(r){if(r.length)return r.slice(1).reduce(function(u,g){return u.x1=Math.min(u.x1,g.x1),u.y1=Math.min(u.y1,g.y1),u.x2=Math.max(u.x2,g.x2),u.y2=Math.max(u.y2,g.y2),u},s(r[0]))},T}(),E=function(T){function r(u,g){var y=T.call(this,u.chart,g)||this;return y.id=g.id,y.mapView=u,y.options=s(O,g),y.allBounds=[],y.options.geoBounds&&(u=u.projection.path(y.options.geoBounds),y.geoBoundsProjectedBox=i(u),y.geoBoundsProjectedPolygon=u.map(function(c){return[c[1]||0,c[2]||0]})),y}return z(r,T),r.prototype.getField=function(u){u===void 0&&(u=!0);var g=this.hitZone;if(g){var y=u?this.padding:[0,0,0,0];g=g.coordinates[0];var c=g.map(function(I){return I[0]}),_=g.map(function(I){return I[1]});g=Math.min.apply(0,c)+y[3],c=Math.max.apply(0,c)-y[1];var B=Math.min.apply(0,_)+y[0];if(y=Math.max.apply(0,_)-y[2],l(g)&&l(B))return{x:g,y:B,width:c-g,height:y-B}}return T.prototype.getField.call(this,u)},r.prototype.getHitZone=function(){var u=this.chart,g=this.mapView,y=this.options,c=(y.field||{}).coordinates;if(c){if(c=c[0],y.units==="percent"){var _=y.relativeTo==="mapBoundingBox"&&g.getMapBBox()||s(u.plotBox,{x:0,y:0});c=c.map(function(B){return[f(""+B[0]+"%",_.width,_.x),f(""+B[1]+"%",_.height,_.y)]})}return{type:"Polygon",coordinates:[c]}}},r.prototype.getProjectedBounds=function(){return S.compositeBounds(this.allBounds)},r.prototype.isInside=function(u){var g=this.geoBoundsProjectedBox,y=this.geoBoundsProjectedPolygon;return!!(g&&u.x>=g.x1&&u.x<=g.x2&&u.y>=g.y1&&u.y<=g.y2&&y&&e(u,y))},r.prototype.render=function(){var u=this.chart,g=this.mapView,y=this.options,c=y.borderPath||y.field;if(c&&g.group){var _=!0;this.border||(this.border=u.renderer.path().addClass("highcharts-mapview-inset-border").add(g.group),_=!1),u.styledMode||this.border.attr({stroke:y.borderColor,"stroke-width":y.borderWidth});var B=Math.round(this.border.strokeWidth())%2/2,I=y.relativeTo==="mapBoundingBox"&&g.getMapBBox()||g.playingField;g=(c.coordinates||[]).reduce(function(V,U){return U.reduce(function(k,D,G){var R=D[0];return D=D[1],y.units==="percent"&&(R=u.plotLeft+f(""+R+"%",I.width,I.x),D=u.plotTop+f(""+D+"%",I.height,I.y)),R=Math.floor(R)+B,D=Math.floor(D)+B,k.push(G===0?["M",R,D]:["L",R,D]),k},V)},[]),this.border[_?"animate":"attr"]({d:g})}},r.prototype.destroy=function(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach(function(u){return u()})},r.prototype.setUpEvents=function(){},r}(S);return n(C,"afterInit",function(){this.mapView=new S(this,this.options.mapView)}),S}),X(L,"Series/Map/MapSeries.js",[L["Core/Animation/AnimationUtilities.js"],L["Series/ColorMapComposition.js"],L["Series/CenteredUtilities.js"],L["Core/Globals.js"],L["Core/Legend/LegendSymbol.js"],L["Core/Chart/MapChart.js"],L["Series/Map/MapPoint.js"],L["Maps/MapView.js"],L["Core/Series/Series.js"],L["Core/Series/SeriesRegistry.js"],L["Core/Renderer/SVG/SVGRenderer.js"],L["Core/Utilities.js"]],function(A,O,P,C,b,v,x,z,M,m,j,i){var e=this&&this.__extends||function(){var u=function(g,y){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,_){c.__proto__=_}||function(c,_){for(var B in _)_.hasOwnProperty(B)&&(c[B]=_[B])},u(g,y)};return function(g,y){function c(){this.constructor=g}u(g,y),g.prototype=y===null?Object.create(y):(c.prototype=y.prototype,new c)}}(),n=A.animObject;A=C.noop;var p=v.splitPath;v=m.seriesTypes;var h=v.column,a=v.scatter;v=i.extend;var l=i.find,o=i.fireEvent,t=i.getNestedProperty,s=i.isArray,d=i.defined,f=i.isNumber,w=i.isObject,S=i.merge,E=i.objectEach,T=i.pick,r=i.splat;return i=function(u){function g(){var y=u!==null&&u.apply(this,arguments)||this;return y.chart=void 0,y.data=void 0,y.group=void 0,y.joinBy=void 0,y.options=void 0,y.points=void 0,y.processedData=[],y}return e(g,u),g.prototype.animate=function(y){var c=this.chart,_=this.group,B=n(this.options.animation);c.renderer.isSVG&&(y?_.attr({translateX:c.plotLeft+c.plotWidth/2,translateY:c.plotTop+c.plotHeight/2,scaleX:.001,scaleY:.001}):_.animate({translateX:c.plotLeft,translateY:c.plotTop,scaleX:1,scaleY:1},B))},g.prototype.animateDrilldown=function(y){var c=this.chart,_=this.group;c.renderer.isSVG&&(y?_.attr({translateX:c.plotLeft+c.plotWidth/2,translateY:c.plotTop+c.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):(_.animate({translateX:c.plotLeft,translateY:c.plotTop,scaleX:1,scaleY:1,opacity:1},this.chart.options.drilldown.animation),c.drilldown&&c.drilldown.fadeInGroup(this.dataLabelsGroup)))},g.prototype.animateDrillupFrom=function(){var y=this.chart;y.renderer.isSVG&&this.group.animate({translateX:y.plotLeft+y.plotWidth/2,translateY:y.plotTop+y.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})},g.prototype.animateDrillupTo=function(y){h.prototype.animateDrillupTo.call(this,y)},g.prototype.clearBounds=function(){this.points.forEach(function(y){delete y.bounds,delete y.insetIndex,delete y.projectedPath}),delete this.bounds},g.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)},g.prototype.drawMapDataLabels=function(){M.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},g.prototype.drawPoints=function(){var y=this,c=this,_=this.chart,B=this.group,I=this.transformGroups,V=I===void 0?[]:I,U=_.mapView,k=_.renderer;U&&(this.transformGroups=V,V[0]||(V[0]=k.g().add(B)),U.insets.forEach(function(D,G){V[G+1]||V.push(k.g().add(B))}),this.doFullTranslate()&&(this.points.forEach(function(D){var G=D.graphic,R=D.shapeArgs;D.group=V[typeof D.insetIndex=="number"?D.insetIndex+1:0],G&&G.parentGroup!==D.group&&G.add(D.group),R&&_.hasRendered&&!_.styledMode&&(R.fill=y.pointAttribs(D,D.state).fill)}),h.prototype.drawPoints.apply(this),this.points.forEach(function(D){var G=D.graphic;if(G){var R=G.animate,H="";D.name&&(H+="highcharts-name-"+D.name.replace(/ /g,"-").toLowerCase()),D.properties&&D.properties["hc-key"]&&(H+=" highcharts-key-"+D.properties["hc-key"].toString().toLowerCase()),H&&G.addClass(H),_.styledMode&&G.css(y.pointAttribs(D,D.selected&&"select"||void 0)),G.animate=function(Z,Q,N){var W=f(Z["stroke-width"])&&!f(G["stroke-width"]),Y=f(G["stroke-width"])&&!f(Z["stroke-width"]);if(W||Y){var F=T(c.getStrokeWidth(c.options),1)/(_.mapView&&_.mapView.getScale()||1);W&&(G["stroke-width"]=F),Y&&(Z["stroke-width"]=F)}return R.call(G,Z,Q,Y?function(){G.element.removeAttribute("stroke-width"),delete G["stroke-width"],N&&N.apply(this,arguments)}:N)}}})),V.forEach(function(D,G){var R=(G===0?U:U.insets[G-1]).getSVGTransform(),H=T(y.getStrokeWidth(y.options),1),Z=R.scaleX,Q=0<R.scaleY?1:-1,N=function($){(c.points||[]).forEach(function(J){var tt=J.graphic,et;tt&&tt["stroke-width"]&&(et=y.getStrokeWidth(J.options))&&tt.attr({"stroke-width":et/$})})};if(k.globalAnimation&&_.hasRendered){var W=Number(D.attr("translateX")),Y=Number(D.attr("translateY")),F=Number(D.attr("scaleX"));D.attr({animator:0}).animate({animator:1},{step:function($,J){$=F+(Z-F)*J.pos,D.attr({translateX:W+(R.translateX-W)*J.pos,translateY:Y+(R.translateY-Y)*J.pos,scaleX:$,scaleY:$*Q,"stroke-width":H/$}),N($)}})}else D.attr(S(R,{"stroke-width":H/Z})),N(Z)}),this.drawMapDataLabels())},g.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var y=this.chart.mapView,c=y.insets,_=y.projection,B=[];(this.points||[]).forEach(function(I){if(I.path||I.geometry){if(typeof I.path=="string"?I.path=p(I.path):s(I.path)&&I.path[0]==="M"&&(I.path=j.prototype.pathToSegments(I.path)),!I.bounds){var V=I.getProjectedBounds(_);if(V){I.labelrank=T(I.labelrank,(V.x2-V.x1)*(V.y2-V.y1));var U=V.midX,k=V.midY;if(c&&f(U)&&f(k)){var D=l(c,function(G){return G.isInside({x:U,y:k})});D&&(delete I.projectedPath,(V=I.getProjectedBounds(D.projection))&&D.allBounds.push(V),I.insetIndex=c.indexOf(D))}I.bounds=V}}I.bounds&&I.insetIndex===void 0&&B.push(I.bounds)}}),this.bounds=z.compositeBounds(B)}return this.bounds},g.prototype.getStrokeWidth=function(y){var c=this.pointAttrToOptions;return y[c&&c["stroke-width"]||"borderWidth"]},g.prototype.hasData=function(){return!!this.processedXData.length},g.prototype.pointAttribs=function(y,c){var _=y.series.chart,B=_.mapView;_=_.styledMode?this.colorAttribs(y):h.prototype.pointAttribs.call(this,y,c);var I=this.getStrokeWidth(y.options);return c&&(c=S(this.options.states[c],y.options.states&&y.options.states[c]||{}),c=this.getStrokeWidth(c),d(c)&&(I=c)),I&&B&&(I/=B.getScale()),c=this.getStrokeWidth(this.options),_.dashstyle&&B&&f(c)&&(I=c/B.getScale()),y.visible||(_.fill=this.options.nullColor),d(I)?_["stroke-width"]=I:delete _["stroke-width"],_["stroke-linecap"]=_["stroke-linejoin"]=this.options.linecap,_},g.prototype.updateData=function(){return this.processedData?!1:u.prototype.updateData.apply(this,arguments)},g.prototype.setData=function(y,c,_,B){c===void 0&&(c=!0),delete this.bounds,u.prototype.setData.call(this,y,!1,void 0,B),this.processData(),this.generatePoints(),c&&this.chart.redraw(_)},g.prototype.processData=function(){var y=this.options,c=y.data,_=this.chart.options.chart,B=this.joinBy,I=y.keys||this.pointArrayMap,V=[],U={},k=this.chart.mapView;k=k&&(w(y.mapData,!0)?k.getGeoMap(y.mapData):k.geoMap);var D=this.chart.mapTransforms;if((this.chart.mapTransforms=D=_.mapTransforms||k&&k["hc-transform"]||D)&&E(D,function(N){N.rotation&&(N.cosAngle=Math.cos(N.rotation),N.sinAngle=Math.sin(N.rotation))}),s(y.mapData))var G=y.mapData;else k&&k.type==="FeatureCollection"&&(this.mapTitle=k.title,G=C.geojson(k,this.type,this));var R=this.processedData=[];if(c&&c.forEach(function(N,W){var Y=0;if(f(N))R[W]={value:N};else if(s(N)){R[W]={},!y.keys&&N.length>I.length&&typeof N[0]=="string"&&(R[W]["hc-key"]=N[0],++Y);for(var F=0;F<I.length;++F,++Y)I[F]&&typeof N[Y]<"u"&&(0<I[F].indexOf(".")?x.prototype.setNestedProperty(R[W],N[Y],I[F]):R[W][I[F]]=N[Y])}else R[W]=c[W];B&&B[0]==="_i"&&(R[W]._i=W)}),G){for(this.mapData=G,this.mapMap={},D=0;D<G.length;D++)_=G[D],k=_.properties,_._i=D,B[0]&&k&&k[B[0]]&&(_[B[0]]=k[B[0]]),U[_[B[0]]]=_;if(this.mapMap=U,B[1]){var H=B[1];R.forEach(function(N){N=t(H,N),U[N]&&V.push(U[N])})}if(y.allAreas){if(B[1]){var Z=B[1];R.forEach(function(N){V.push(t(Z,N))})}var Q="|"+V.map(function(N){return N&&N[B[0]]}).join("|")+"|";G.forEach(function(N){B[0]&&Q.indexOf("|"+N[B[0]]+"|")!==-1||R.push(S(N,{value:null}))})}}this.processedXData=Array(R.length)},g.prototype.setOptions=function(y){y=M.prototype.setOptions.call(this,y);var c=y.joinBy;return c===null&&(c="_i"),c=this.joinBy=r(c),c[1]||(c[1]=c[0]),y},g.prototype.translate=function(){var y=this.doFullTranslate(),c=this.chart.mapView,_=c&&c.projection;if(!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!c||c.userOptions.center||f(c.userOptions.zoom)?this.getProjectedBounds():c.fitToBounds(void 0,void 0,!1)),c){var B=c.getSVGTransform();this.points.forEach(function(I){var V=f(I.insetIndex)&&c.insets[I.insetIndex].getSVGTransform()||B;V&&I.bounds&&f(I.bounds.midX)&&f(I.bounds.midY)&&(I.plotX=I.bounds.midX*V.scaleX+V.translateX,I.plotY=I.bounds.midY*V.scaleY+V.translateY),y&&(I.shapeType="path",I.shapeArgs={d:x.getProjectedPath(I,_)})})}o(this,"afterTranslate")},g.defaultOptions=S(a.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var y=this.series.chart.numberFormatter,c=this.point.value;return f(c)?y(c,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"butt",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"}}}),g}(a),v(i.prototype,{type:"map",axisTypes:O.seriesMembers.axisTypes,colorAttribs:O.seriesMembers.colorAttribs,colorKey:O.seriesMembers.colorKey,directTouch:!0,drawDataLabels:A,drawGraph:A,drawLegendSymbol:b.drawRectangle,forceDL:!0,getCenter:P.getCenter,getExtremesFromAll:!0,getSymbol:A,isCartesian:!1,parallelArrays:O.seriesMembers.parallelArrays,pointArrayMap:O.seriesMembers.pointArrayMap,pointClass:x,preserveAspectRatio:!0,searchPoint:A,trackerGroups:O.seriesMembers.trackerGroups,useMapGeometry:!0}),O.compose(i),m.registerSeriesType("map",i),i}),X(L,"Series/MapLine/MapLineSeries.js",[L["Series/Map/MapSeries.js"],L["Core/Series/SeriesRegistry.js"],L["Core/Utilities.js"]],function(A,O,P){var C=this&&this.__extends||function(){var z=function(M,m){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,i){j.__proto__=i}||function(j,i){for(var e in i)i.hasOwnProperty(e)&&(j[e]=i[e])},z(M,m)};return function(M,m){function j(){this.constructor=M}z(M,m),M.prototype=m===null?Object.create(m):(j.prototype=m.prototype,new j)}}(),b=O.series,v=P.extend,x=P.merge;return P=function(z){function M(){var m=z!==null&&z.apply(this,arguments)||this;return m.data=void 0,m.options=void 0,m.points=void 0,m}return C(M,z),M.prototype.pointAttribs=function(m,j){return m=A.prototype.pointAttribs.call(this,m,j),m.fill=this.options.fillColor,m},M.defaultOptions=x(A.defaultOptions,{lineWidth:1,fillColor:"none"}),M}(A),v(P.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:b.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),O.registerSeriesType("mapline",P),P}),X(L,"Series/MapPoint/MapPointPoint.js",[L["Core/Series/SeriesRegistry.js"],L["Core/Utilities.js"]],function(A,O){var P=this&&this.__extends||function(){var b=function(v,x){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,M){z.__proto__=M}||function(z,M){for(var m in M)M.hasOwnProperty(m)&&(z[m]=M[m])},b(v,x)};return function(v,x){function z(){this.constructor=v}b(v,x),v.prototype=x===null?Object.create(x):(z.prototype=x.prototype,new z)}}(),C=O.isNumber;return function(b){function v(){var x=b!==null&&b.apply(this,arguments)||this;return x.options=void 0,x.series=void 0,x}return P(v,b),v.prototype.isValid=function(){return!!(this.options.geometry||C(this.x)&&C(this.y)||C(this.options.lon)&&C(this.options.lat))},v}(A.seriesTypes.scatter.prototype.pointClass)}),X(L,"Series/MapPoint/MapPointSeries.js",[L["Core/Globals.js"],L["Series/MapPoint/MapPointPoint.js"],L["Core/Series/SeriesRegistry.js"],L["Core/Renderer/SVG/SVGRenderer.js"],L["Core/Utilities.js"]],function(A,O,P,C,b){var v=this&&this.__extends||function(){var e=function(n,p){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,a){h.__proto__=a}||function(h,a){for(var l in a)a.hasOwnProperty(l)&&(h[l]=a[l])},e(n,p)};return function(n,p){function h(){this.constructor=n}e(n,p),n.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}}();A=A.noop;var x=P.seriesTypes,z=x.map,M=x.scatter;x=b.extend;var m=b.fireEvent,j=b.isNumber,i=b.merge;return b=function(e){function n(){var p=e!==null&&e.apply(this,arguments)||this;return p.chart=void 0,p.data=void 0,p.options=void 0,p.points=void 0,p.clearBounds=z.prototype.clearBounds,p}return v(n,e),n.prototype.drawDataLabels=function(){e.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},n.prototype.projectPoint=function(p){var h=this.chart.mapView;if(h){var a=p.geometry,l=p.lon;if(p=p.lat,a=a&&a.type==="Point"&&a.coordinates,j(l)&&j(p)&&(a=[l,p]),a)return h.lonLatToProjectedUnits({lon:a[0],lat:a[1]})}},n.prototype.translate=function(){var p=this,h=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds()),h){var a=h.getSVGTransform(),l=h.projection.hasCoordinates;this.points.forEach(function(o){var t=o.x;t=t===void 0?void 0:t;var s=o.y;s=s===void 0?void 0:s;var d=j(o.insetIndex)&&h.insets[o.insetIndex].getSVGTransform()||a,f=p.projectPoint(o.options)||o.properties&&p.projectPoint(o.properties);if(f)t=f.x,s=f.y;else if(o.bounds&&(t=o.bounds.midX,s=o.bounds.midY,d&&j(t)&&j(s))){o.plotX=t*d.scaleX+d.translateX,o.plotY=s*d.scaleY+d.translateY;var w=!0}j(t)&&j(s)?w||(w=h.projectedUnitsToPixels({x:t,y:s}),o.plotX=w.x,o.plotY=l?w.y:p.chart.plotHeight-w.y):o.y=o.plotX=o.plotY=void 0,o.isInside=p.isPointInside(o),o.zone=p.zones.length?o.getZone():void 0})}m(this,"afterTranslate")},n.defaultOptions=i(M.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}}),n}(M),C.prototype.symbols.mapmarker=function(e,n,p,h,a){var l=a&&a.context==="legend";return l?(e+=p/2,a=n+h):a&&typeof a.anchorX=="number"&&typeof a.anchorY=="number"?(e=a.anchorX,a=a.anchorY):(e+=p/2,a=n+h/2,n-=h),h=l?h/3:h/2,[["M",e,a],["C",e,a,e-h,n+1.5*h,e-h,n+h],["A",h,h,1,1,1,e+h,n+h],["C",e+h,n+1.5*h,e,a,e,a],["Z"]]},x(b.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:O,searchPoint:A,useMapGeometry:!0}),P.registerSeriesType("mappoint",b),b}),X(L,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),X(L,"Series/Bubble/BubbleLegendItem.js",[L["Core/Color/Color.js"],L["Core/FormatUtilities.js"],L["Core/Globals.js"],L["Core/Utilities.js"]],function(A,O,P,C){var b=A.parse,v=P.noop,x=C.arrayMax,z=C.arrayMin,M=C.isNumber,m=C.merge,j=C.pick,i=C.stableSort;return A=function(){function e(n,p){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.fontMetrics=this.chart=void 0,this.setState=v,this.init(n,p)}return e.prototype.init=function(n,p){this.options=n,this.visible=!0,this.chart=p.chart,this.legend=p},e.prototype.addToLegend=function(n){n.splice(this.options.legendIndex,0,this)},e.prototype.drawLegendSymbol=function(n){var p=this.chart,h=j(n.options.itemDistance,20),a=this.legendItem||{},l=this.options,o=l.ranges,t=l.connectorDistance;this.fontMetrics=p.renderer.fontMetrics(l.labels.style.fontSize),o&&o.length&&M(o[0].value)?(i(o,function(s,d){return d.value-s.value}),this.ranges=o,this.setOptions(),this.render(),n=this.getMaxLabelSize(),o=this.ranges[0].radius,p=2*o,t=t-o+n.width,t=0<t?t:0,this.maxLabel=n,this.movementX=l.labels.align==="left"?t:0,a.labelWidth=p+t+h,a.labelHeight=p+this.fontMetrics.h/2):n.options.bubbleLegend.autoRanges=!0},e.prototype.setOptions=function(){var n=this.ranges,p=this.options,h=this.chart.series[p.seriesIndex],a=this.legend.baseline,l={zIndex:p.zIndex,"stroke-width":p.borderWidth},o={zIndex:p.zIndex,"stroke-width":p.connectorWidth},t={align:this.legend.options.rtl||p.labels.align==="left"?"right":"left",zIndex:p.zIndex},s=h.options.marker.fillOpacity,d=this.chart.styledMode;n.forEach(function(f,w){d||(l.stroke=j(f.borderColor,p.borderColor,h.color),l.fill=j(f.color,p.color,s!==1?b(h.color).setOpacity(s).get("rgba"):h.color),o.stroke=j(f.connectorColor,p.connectorColor,h.color)),n[w].radius=this.getRangeRadius(f.value),n[w]=m(n[w],{center:n[0].radius-n[w].radius+a}),d||m(!0,n[w],{bubbleAttribs:m(l),connectorAttribs:m(o),labelAttribs:t})},this)},e.prototype.getRangeRadius=function(n){var p=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,p.ranges[p.ranges.length-1].value,p.ranges[0].value,p.minSize,p.maxSize,n)},e.prototype.render=function(){var n=this.legendItem||{},p=this.chart.renderer,h=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),n.symbol=p.g("bubble-legend"),n.label=p.g("bubble-legend-item"),n.symbol.translateX=0,p=n.symbol.translateY=0;for(var a=this.ranges;p<a.length;p++){var l=a[p];l.value>=h&&this.renderRange(l)}n.symbol.add(n.label),n.label.add(n.group),this.hideOverlappingLabels()},e.prototype.renderRange=function(n){var p=this.options,h=p.labels,a=this.chart,l=a.series[p.seriesIndex],o=a.renderer,t=this.symbols;a=t.labels;var s=n.center,d=Math.abs(n.radius),f=p.connectorDistance||0,w=h.align,S=p.connectorWidth,E=this.ranges[0].radius||0,T=s-d-p.borderWidth/2+S/2,r=this.fontMetrics;r=r.f/2-(r.h-r.f)/2;var u=o.styledMode;f=this.legend.options.rtl||w==="left"?-f:f,w==="center"&&(f=0,p.connectorDistance=0,n.labelAttribs.align="center"),w=T+p.labels.y;var g=E+f+p.labels.x;t.bubbleItems.push(o.circle(E,s+((T%1?1:.5)-(S%2?0:.5)),d).attr(u?{}:n.bubbleAttribs).addClass((u?"highcharts-color-"+l.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(p.className||"")).add(this.legendItem.symbol)),t.connectors.push(o.path(o.crispLine([["M",E,T],["L",E+f,T]],p.connectorWidth)).attr(u?{}:n.connectorAttribs).addClass((u?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(p.connectorClassName||"")).add(this.legendItem.symbol)),n=o.text(this.formatLabel(n),g,w+r).attr(u?{}:n.labelAttribs).css(u?{}:h.style).addClass("highcharts-bubble-legend-labels "+(p.labels.className||"")).add(this.legendItem.symbol),a.push(n),n.placed=!0,n.alignAttr={x:g,y:w+r}},e.prototype.getMaxLabelSize=function(){var n,p;return this.symbols.labels.forEach(function(h){p=h.getBBox(!0),n=n?p.width>n.width?p:n:p}),n||{}},e.prototype.formatLabel=function(n){var p=this.options,h=p.labels.formatter;p=p.labels.format;var a=this.chart.numberFormatter;return p?O.format(p,n):h?h.call(n):a(n.value,1)},e.prototype.hideOverlappingLabels=function(){var n=this.chart,p=this.symbols;!this.options.labels.allowOverlap&&p&&(n.hideOverlappingLabels(p.labels),p.labels.forEach(function(h,a){h.newOpacity?h.newOpacity!==h.oldOpacity&&p.connectors[a].show():p.connectors[a].hide()}))},e.prototype.getRanges=function(){var n=this.legend.bubbleLegend,p=n.options.ranges,h,a=Number.MAX_VALUE,l=-Number.MAX_VALUE;n.chart.series.forEach(function(t){t.isBubble&&!t.ignoreSeries&&(h=t.zData.filter(M),h.length&&(a=j(t.options.zMin,Math.min(a,Math.max(z(h),t.options.displayNegative===!1?t.options.zThreshold:-Number.MAX_VALUE))),l=j(t.options.zMax,Math.max(l,x(h)))))});var o=a===l?[{value:l}]:[{value:a},{value:(a+l)/2},{value:l,autoRanges:!0}];return p.length&&p[0].radius&&o.reverse(),o.forEach(function(t,s){p&&p[s]&&(o[s]=m(p[s],t))}),o},e.prototype.predictBubbleSizes=function(){var n=this.chart,p=this.fontMetrics,h=n.legend.options,a=h.floating,l=(h=h.layout==="horizontal")?n.legend.lastLineHeight:0,o=n.plotSizeX,t=n.plotSizeY,s=n.series[this.options.seriesIndex],d=s.getPxExtremes();n=Math.ceil(d.minPxSize),d=Math.ceil(d.maxPxSize);var f=Math.min(t,o);return s=s.options.maxSize,a||!/%$/.test(s)?p=d:(s=parseFloat(s),p=(f+l-p.h/2)*s/100/(s/100+1),(h&&t-p>=o||!h&&o-p>=t)&&(p=d)),[n,Math.ceil(p)]},e.prototype.updateRanges=function(n,p){var h=this.legend.options.bubbleLegend;h.minSize=n,h.maxSize=p,h.ranges=this.getRanges()},e.prototype.correctSizes=function(){var n=this.legend,p=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(p.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,p.maxPxSize),n.render())},e}(),A}),X(L,"Series/Bubble/BubbleLegendComposition.js",[L["Series/Bubble/BubbleLegendDefaults.js"],L["Series/Bubble/BubbleLegendItem.js"],L["Core/Defaults.js"],L["Core/Utilities.js"]],function(A,O,P,C){function b(h,a,l){var o=this.legend,t=0<=v(this),s;if(o&&o.options.enabled&&o.bubbleLegend&&o.options.bubbleLegend.autoRanges&&t){var d=o.bubbleLegend.options;t=o.bubbleLegend.predictBubbleSizes(),o.bubbleLegend.updateRanges(t[0],t[1]),d.placed||(o.group.placed=!1,o.allItems.forEach(function(f){s=f.legendItem||{},s.group&&(s.group.translateY=null)})),o.render(),this.getMargins(),this.axes.forEach(function(f){f.visible&&f.render(),d.placed||(f.setScale(),f.updateNames(),e(f.ticks,function(w){w.isNew=!0,w.isNewLabel=!0}))}),d.placed=!0,this.getMargins(),h.call(this,a,l),o.bubbleLegend.correctSizes(),m(o,x(o))}else h.call(this,a,l),o&&o.options.enabled&&o.bubbleLegend&&(o.render(),m(o,x(o)))}function v(h){h=h.series;for(var a=0;a<h.length;){if(h[a]&&h[a].isBubble&&h[a].visible&&h[a].zData.length)return a;a++}return-1}function x(h){h=h.allItems;var a=[],l=h.length,o,t=0;for(o=0;o<l;o++){var s=h[o].legendItem||{},d=(h[o+1]||{}).legendItem||{};if(s.labelHeight&&(h[o].itemHeight=s.labelHeight),h[o]===h[l-1]||s.y!==d.y){for(a.push({height:0}),s=a[a.length-1],t;t<=o;t++)h[t].itemHeight>s.height&&(s.height=h[t].itemHeight);s.step=o}}return a}function z(h){var a=this.bubbleLegend,l=this.options,o=l.bubbleLegend,t=v(this.chart);a&&a.ranges&&a.ranges.length&&(o.ranges.length&&(o.autoRanges=!!o.ranges[0].autoRanges),this.destroyItem(a)),0<=t&&l.enabled&&o.enabled&&(o.seriesIndex=t,this.bubbleLegend=new O(o,this),this.bubbleLegend.addToLegend(h.allItems))}function M(){var h=this.chart,a=this.visible,l=this.chart.legend;l&&l.bubbleLegend&&(this.visible=!a,this.ignoreSeries=a,h=0<=v(h),l.bubbleLegend.visible!==h&&(l.update({bubbleLegend:{enabled:h}}),l.bubbleLegend.visible=h),this.visible=a)}function m(h,a){var l=h.options.rtl,o,t,s,d,f=0;h.allItems.forEach(function(w,S){d=w.legendItem||{},d.group&&(o=d.group.translateX||0,t=d.y||0,((s=w.movementX)||l&&w.ranges)&&(s=l?o-w.options.maxSize/2:o+s,d.group.attr({translateX:s})),S>a[f].step&&f++,d.group.attr({translateY:Math.round(t+a[f].height/2)}),d.y=t+a[f].height/2)})}var j=P.setOptions,i=C.addEvent,e=C.objectEach,n=C.wrap,p=[];return{compose:function(h,a,l){p.indexOf(h)===-1&&(p.push(h),j({legend:{bubbleLegend:A}}),n(h.prototype,"drawChartBox",b)),p.indexOf(a)===-1&&(p.push(a),i(a,"afterGetAllItems",z)),p.indexOf(l)===-1&&(p.push(l),i(l,"legendItemClick",M))}}}),X(L,"Series/Bubble/BubblePoint.js",[L["Core/Series/Point.js"],L["Core/Series/SeriesRegistry.js"],L["Core/Utilities.js"]],function(A,O,P){var C=this&&this.__extends||function(){var b=function(v,x){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,M){z.__proto__=M}||function(z,M){for(var m in M)M.hasOwnProperty(m)&&(z[m]=M[m])},b(v,x)};return function(v,x){function z(){this.constructor=v}b(v,x),v.prototype=x===null?Object.create(x):(z.prototype=x.prototype,new z)}}();return P=P.extend,O=function(b){function v(){var x=b!==null&&b.apply(this,arguments)||this;return x.options=void 0,x.series=void 0,x}return C(v,b),v.prototype.haloPath=function(x){return A.prototype.haloPath.call(this,x===0?0:(this.marker&&this.marker.radius||0)+x)},v}(O.seriesTypes.scatter.prototype.pointClass),P(O.prototype,{ttBelow:!1}),O}),X(L,"Series/Bubble/BubbleSeries.js",[L["Series/Bubble/BubbleLegendComposition.js"],L["Series/Bubble/BubblePoint.js"],L["Core/Color/Color.js"],L["Core/Globals.js"],L["Core/Series/SeriesRegistry.js"],L["Core/Utilities.js"]],function(A,O,P,C,b,v){function x(){var s=this,d=this.len,f=this.chart,w=this.isXAxis,S=w?"xData":"yData",E=this.min,T=this.max-E,r=0,u=d,g=d/T,y;this.series.forEach(function(c){if(c.bubblePadding&&(c.visible||!f.options.chart.ignoreHiddenSeries)){y=s.allowZoomOutside=!0;var _=c[S];if(w&&((c.onPoint||c).getRadii(0,0,c),c.onPoint&&(c.radii=c.onPoint.radii)),0<T){for(var B=_.length;B--;)if(a(_[B])&&s.dataMin<=_[B]&&_[B]<=s.max){var I=c.radii&&c.radii[B]||0;r=Math.min((_[B]-E)*g-I,r),u=Math.max((_[B]-E)*g+I,u)}}}}),y&&0<T&&!this.logarithmic&&(u-=d,g*=(d+Math.max(0,r)-Math.min(u,d))/d,[["min","userMin",r],["max","userMax",u]].forEach(function(c){typeof o(s.options[c[0]],s[c[1]])>"u"&&(s[c[0]]+=c[2]/g)}))}var z=this&&this.__extends||function(){var s=function(d,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var E in S)S.hasOwnProperty(E)&&(w[E]=S[E])},s(d,f)};return function(d,f){function w(){this.constructor=d}s(d,f),d.prototype=f===null?Object.create(f):(w.prototype=f.prototype,new w)}}(),M=P.parse;P=C.noop;var m=b.series,j=b.seriesTypes;C=j.column.prototype;var i=j.scatter;j=v.addEvent;var e=v.arrayMax,n=v.arrayMin,p=v.clamp,h=v.extend,a=v.isNumber,l=v.merge,o=v.pick,t=[];return v=function(s){function d(){var f=s!==null&&s.apply(this,arguments)||this;return f.data=void 0,f.maxPxSize=void 0,f.minPxSize=void 0,f.options=void 0,f.points=void 0,f.radii=void 0,f.yData=void 0,f.zData=void 0,f}return z(d,s),d.compose=function(f,w,S,E){A.compose(w,S,E),t.indexOf(f)===-1&&(t.push(f),f.prototype.beforePadding=x)},d.prototype.animate=function(f){!f&&this.points.length<this.options.animationLimit&&this.points.forEach(function(w){var S=w.graphic;S&&S.width&&(this.hasRendered||S.attr({x:w.plotX,y:w.plotY,width:1,height:1}),S.animate(this.markerAttribs(w),this.options.animation))},this)},d.prototype.getRadii=function(){var f=this,w=this.zData,S=this.yData,E=[],T=this.chart.bubbleZExtremes,r=this.getPxExtremes(),u=r.minPxSize,g=r.maxPxSize;if(!T){var y=Number.MAX_VALUE,c=-Number.MAX_VALUE,_;this.chart.series.forEach(function(V){V.bubblePadding&&(V.visible||!f.chart.options.chart.ignoreHiddenSeries)&&(V=(V.onPoint||V).getZExtremes())&&(y=Math.min(y||V.zMin,V.zMin),c=Math.max(c||V.zMax,V.zMax),_=!0)}),_?(T={zMin:y,zMax:c},this.chart.bubbleZExtremes=T):T={zMin:0,zMax:0}}var B=0;for(r=w.length;B<r;B++){var I=w[B];E.push(this.getRadius(T.zMin,T.zMax,u,g,I,S&&S[B]))}this.radii=E},d.prototype.getRadius=function(f,w,S,E,T,r){var u=this.options,g=u.sizeBy!=="width",y=u.zThreshold,c=w-f,_=.5;if(r===null||T===null)return null;if(a(T)){if(u.sizeByAbsoluteValue&&(T=Math.abs(T-y),c=Math.max(w-y,Math.abs(f-y)),f=0),T<f)return S/2-1;0<c&&(_=(T-f)/c)}return g&&0<=_&&(_=Math.sqrt(_)),Math.ceil(S+_*(E-S))/2},d.prototype.hasData=function(){return!!this.processedXData.length},d.prototype.pointAttribs=function(f,w){var S=this.options.marker.fillOpacity;return f=m.prototype.pointAttribs.call(this,f,w),S!==1&&(f.fill=M(f.fill).setOpacity(S).get("rgba")),f},d.prototype.translate=function(){s.prototype.translate.call(this),this.getRadii(),this.translateBubble()},d.prototype.translateBubble=function(){for(var f=this.data,w=this.radii,S=this.getPxExtremes().minPxSize,E=f.length;E--;){var T=f[E],r=w?w[E]:0;a(r)&&r>=S/2?(T.marker=h(T.marker,{radius:r,width:2*r,height:2*r}),T.dlBox={x:T.plotX-r,y:T.plotY-r,width:2*r,height:2*r}):(T.shapeArgs=T.plotY=T.dlBox=void 0,T.isInside=!1)}},d.prototype.getPxExtremes=function(){var f=Math.min(this.chart.plotWidth,this.chart.plotHeight),w=function(E){if(typeof E=="string"){var T=/%$/.test(E);E=parseInt(E,10)}return T?f*E/100:E},S=w(o(this.options.minSize,8));return w=Math.max(w(o(this.options.maxSize,"20%")),S),{minPxSize:S,maxPxSize:w}},d.prototype.getZExtremes=function(){var f=this.options,w=(this.zData||[]).filter(a);if(w.length){var S=o(f.zMin,p(n(w),f.displayNegative===!1?f.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(f=o(f.zMax,e(w)),a(S)&&a(f))return{zMin:S,zMax:f}}},d.defaultOptions=l(i.defaultOptions,{dataLabels:{formatter:function(){var f=this.series.chart.numberFormatter,w=this.point.z;return a(w)?f(w,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),d}(i),h(v.prototype,{alignDataLabel:C.alignDataLabel,applyZones:P,bubblePadding:!0,buildKDTree:P,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:O,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),j(v,"updatedData",function(s){delete s.target.chart.bubbleZExtremes}),j(v,"remove",function(s){delete s.target.chart.bubbleZExtremes}),b.registerSeriesType("bubble",v),v}),X(L,"Series/MapBubble/MapBubblePoint.js",[L["Series/Bubble/BubblePoint.js"],L["Core/Series/SeriesRegistry.js"],L["Core/Utilities.js"]],function(A,O,P){var C=this&&this.__extends||function(){var b=function(v,x){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,M){z.__proto__=M}||function(z,M){for(var m in M)M.hasOwnProperty(m)&&(z[m]=M[m])},b(v,x)};return function(v,x){function z(){this.constructor=v}b(v,x),v.prototype=x===null?Object.create(x):(z.prototype=x.prototype,new z)}}();return O=O.seriesTypes.map.prototype.pointClass.prototype,P=P.extend,A=function(b){function v(){return b!==null&&b.apply(this,arguments)||this}return C(v,b),v.prototype.isValid=function(){return typeof this.z=="number"},v}(A),P(A.prototype,{applyOptions:O.applyOptions,getProjectedBounds:O.getProjectedBounds}),A}),X(L,"Series/MapBubble/MapBubbleSeries.js",[L["Series/Bubble/BubbleSeries.js"],L["Series/MapBubble/MapBubblePoint.js"],L["Core/Series/SeriesRegistry.js"],L["Core/Utilities.js"]],function(A,O,P,C){var b=this&&this.__extends||function(){var m=function(j,i){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var p in n)n.hasOwnProperty(p)&&(e[p]=n[p])},m(j,i)};return function(j,i){function e(){this.constructor=j}m(j,i),j.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}(),v=P.seriesTypes,x=v.map.prototype,z=v.mappoint.prototype;v=C.extend;var M=C.merge;return C=function(m){function j(){var i=m!==null&&m.apply(this,arguments)||this;return i.data=void 0,i.options=void 0,i.points=void 0,i.clearBounds=x.clearBounds,i}return b(j,m),j.prototype.searchPoint=function(i,e){return this.searchKDTree({clientX:i.chartX-this.chart.plotLeft,plotY:i.chartY-this.chart.plotTop},e,i)},j.prototype.translate=function(){z.translate.call(this),this.getRadii(),this.translateBubble()},j.defaultOptions=M(A.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),j}(A),v(C.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:x.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:O,processData:x.processData,projectPoint:z.projectPoint,setData:x.setData,setOptions:x.setOptions,updateData:x.updateData,useMapGeometry:!0,xyFromShape:!0}),P.registerSeriesType("mapbubble",C),C}),X(L,"Series/Heatmap/HeatmapPoint.js",[L["Core/Series/SeriesRegistry.js"],L["Core/Utilities.js"]],function(A,O){var P=this&&this.__extends||function(){var z=function(M,m){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,i){j.__proto__=i}||function(j,i){for(var e in i)i.hasOwnProperty(e)&&(j[e]=i[e])},z(M,m)};return function(M,m){function j(){this.constructor=M}z(M,m),M.prototype=m===null?Object.create(m):(j.prototype=m.prototype,new j)}}(),C=O.clamp,b=O.defined,v=O.extend,x=O.pick;return A=function(z){function M(){var m=z!==null&&z.apply(this,arguments)||this;return m.options=void 0,m.series=void 0,m.value=void 0,m.x=void 0,m.y=void 0,m}return P(M,z),M.prototype.applyOptions=function(m,j){return(this.isNull||this.value===null)&&delete this.color,z.prototype.applyOptions.call(this,m,j),this.formatPrefix=this.isNull||this.value===null?"null":"point",this},M.prototype.getCellAttributes=function(){var m=this.series,j=m.options,i=(j.colsize||1)/2,e=(j.rowsize||1)/2,n=m.xAxis,p=m.yAxis,h=this.options.marker||m.options.marker;m=m.pointPlacementToXValue();var a=x(this.pointPadding,j.pointPadding,0),l={x1:C(Math.round(n.len-n.translate(this.x-i,!1,!0,!1,!0,-m)),-n.len,2*n.len),x2:C(Math.round(n.len-n.translate(this.x+i,!1,!0,!1,!0,-m)),-n.len,2*n.len),y1:C(Math.round(p.translate(this.y-e,!1,!0,!1,!0)),-p.len,2*p.len),y2:C(Math.round(p.translate(this.y+e,!1,!0,!1,!0)),-p.len,2*p.len)};return[["width","x"],["height","y"]].forEach(function(o){var t=o[0];o=o[1];var s=o+"1",d=o+"2",f=Math.abs(l[s]-l[d]),w=h&&h.lineWidth||0,S=Math.abs(l[s]+l[d])/2;t=h&&h[t],b(t)&&t<f&&(t=t/2+w/2,l[s]=S-t,l[d]=S+t),a&&(o==="y"&&(s=d,d=o+"1"),l[s]+=a,l[d]-=a)}),l},M.prototype.haloPath=function(m){if(!m)return[];var j=this.shapeArgs||{},i=j.x;i=i===void 0?0:i;var e=j.y;e=e===void 0?0:e;var n=j.width;return n=n===void 0?0:n,j=j.height,j=j===void 0?0:j,[["M",i-m,e-m],["L",i-m,e+j+m],["L",i+n+m,e+j+m],["L",i+n+m,e-m],["Z"]]},M.prototype.isValid=function(){return this.value!==1/0&&this.value!==-1/0},M}(A.seriesTypes.scatter.prototype.pointClass),v(A.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),A}),X(L,"Series/Heatmap/HeatmapSeries.js",[L["Core/Color/Color.js"],L["Series/ColorMapComposition.js"],L["Series/Heatmap/HeatmapPoint.js"],L["Core/Legend/LegendSymbol.js"],L["Core/Series/SeriesRegistry.js"],L["Core/Renderer/SVG/SVGRenderer.js"],L["Core/Utilities.js"]],function(A,O,P,C,b,v,x){var z=this&&this.__extends||function(){var l=function(o,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var f in d)d.hasOwnProperty(f)&&(s[f]=d[f])},l(o,t)};return function(o,t){function s(){this.constructor=o}l(o,t),o.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}(),M=b.series,m=b.seriesTypes,j=m.column,i=m.scatter,e=v.prototype.symbols;v=x.extend;var n=x.fireEvent,p=x.isNumber,h=x.merge,a=x.pick;return x=function(l){function o(){var t=l!==null&&l.apply(this,arguments)||this;return t.colorAxis=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t.valueMax=NaN,t.valueMin=NaN,t}return z(o,l),o.prototype.drawPoints=function(){var t=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(M.prototype.drawPoints.call(this),this.points.forEach(function(s){s.graphic&&(s.graphic[t.chart.styledMode?"css":"animate"](t.colorAttribs(s)),s.value===null&&s.graphic.addClass("highcharts-null-point"))}))},o.prototype.getExtremes=function(){var t=M.prototype.getExtremes.call(this,this.valueData),s=t.dataMin;return t=t.dataMax,p(s)&&(this.valueMin=s),p(t)&&(this.valueMax=t),M.prototype.getExtremes.call(this)},o.prototype.getValidPoints=function(t,s){return M.prototype.getValidPoints.call(this,t,s,!0)},o.prototype.hasData=function(){return!!this.processedXData.length},o.prototype.init=function(){l.prototype.init.apply(this,arguments);var t=this.options;t.pointRange=a(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1,e.ellipse=e.circle,t.marker&&(t.marker.r=t.borderRadius)},o.prototype.markerAttribs=function(t,s){var d=t.shapeArgs||{};if(t.hasImage)return{x:t.plotX,y:t.plotY};if(s&&s!=="normal"){var f=t.options.marker||{};return t=this.options.marker||{},t=t.states&&t.states[s]||{},f=f.states&&f.states[s]||{},s=(f.width||t.width||d.width||0)+(f.widthPlus||t.widthPlus||0),t=(f.height||t.height||d.height||0)+(f.heightPlus||t.heightPlus||0),{x:(d.x||0)+((d.width||0)-s)/2,y:(d.y||0)+((d.height||0)-t)/2,width:s,height:t}}return d},o.prototype.pointAttribs=function(t,s){var d=M.prototype.pointAttribs.call(this,t,s),f=this.options||{},w=this.chart.options.plotOptions||{},S=w.series||{},E=w.heatmap||{};return w=t&&t.options.borderColor||f.borderColor||E.borderColor||S.borderColor,S=t&&t.options.borderWidth||f.borderWidth||E.borderWidth||S.borderWidth||d["stroke-width"],d.stroke=t&&t.marker&&t.marker.lineColor||f.marker&&f.marker.lineColor||w||this.color,d["stroke-width"]=S,s&&s!=="normal"&&(t=h(f.states&&f.states[s],f.marker&&f.marker.states&&f.marker.states[s],t&&t.options.states&&t.options.states[s]||{}),d.fill=t.color||A.parse(d.fill).brighten(t.brightness||0).get(),d.stroke=t.lineColor||d.stroke),d},o.prototype.translate=function(){var t=this.options,s=t.marker&&t.marker.symbol||"rect",d=e[s]?s:"rect",f=["circle","square"].indexOf(d)!==-1;this.generatePoints(),this.points.forEach(function(w){var S=w.getCellAttributes(),E=Math.min(S.x1,S.x2),T=Math.min(S.y1,S.y2),r=Math.max(Math.abs(S.x2-S.x1),0),u=Math.max(Math.abs(S.y2-S.y1),0);w.hasImage=(w.marker&&w.marker.symbol||s||"").indexOf("url")===0,f&&(T=Math.abs(r-u),E=Math.min(S.x1,S.x2)+(r<u?0:T/2),T=Math.min(S.y1,S.y2)+(r<u?T/2:0),r=u=Math.min(r,u)),w.hasImage&&(w.marker={width:r,height:u}),w.plotX=w.clientX=(S.x1+S.x2)/2,w.plotY=(S.y1+S.y2)/2,w.shapeType="path",w.shapeArgs=h(!0,{x:E,y:T,width:r,height:u},{d:e[d](E,T,r,u,{r:t.borderRadius})})}),n(this,"afterTranslate")},o.defaultOptions=h(i.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var t=this.series.chart.numberFormatter,s=this.point.value;return p(s)?t(s,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}}),o}(i),v(x.prototype,{axisTypes:O.seriesMembers.axisTypes,colorKey:O.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:O.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:P,specialGroup:"group",trackerGroups:O.seriesMembers.trackerGroups,alignDataLabel:j.prototype.alignDataLabel,colorAttribs:O.seriesMembers.colorAttribs,drawLegendSymbol:C.drawRectangle,getSymbol:M.prototype.getSymbol}),O.compose(x),b.registerSeriesType("heatmap",x),x}),X(L,"masters/modules/map.src.js",[L["Core/Globals.js"],L["Core/Axis/Color/ColorAxis.js"],L["Series/MapBubble/MapBubbleSeries.js"],L["Core/Chart/MapChart.js"],L["Maps/MapView.js"],L["Maps/Projection.js"]],function(A,O,P,C,b,v){A.ColorAxis=O,A.MapChart=C,A.mapChart=A.Map=C.mapChart,A.MapView=b,A.maps=C.maps,A.Projection=v,O.compose(A.Chart,A.Fx,A.Legend,A.Series),P.compose(A.Axis,A.Chart,A.Legend,A.Series)})})})(it);const rt=q,nt=ot({__proto__:null,default:rt},[q]);export{nt as m};
